(window["cfWebpackJsonp"] = window["cfWebpackJsonp"] || []).push([["Date"],{

/***/ "../../libs/element-ui/lib/date-picker.js":
/***/ (function(module, exports, __webpack_require__) {

module.exports =
/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "/dist/";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 56);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return normalizeComponent; });
/* globals __VUE_SSR_CONTEXT__ */

// IMPORTANT: Do NOT use ES2015 features in this file (except for modules).
// This module is a runtime utility for cleaner component module output and will
// be included in the final webpack user bundle.

function normalizeComponent(
  scriptExports,
  render,
  staticRenderFns,
  functionalTemplate,
  injectStyles,
  scopeId,
  moduleIdentifier /* server only */,
  shadowMode /* vue-cli only */
) {
  // Vue.extend constructor export interop
  var options =
    typeof scriptExports === 'function' ? scriptExports.options : scriptExports

  // render functions
  if (render) {
    options.render = render
    options.staticRenderFns = staticRenderFns
    options._compiled = true
  }

  // functional template
  if (functionalTemplate) {
    options.functional = true
  }

  // scopedId
  if (scopeId) {
    options._scopeId = 'data-v-' + scopeId
  }

  var hook
  if (moduleIdentifier) {
    // server build
    hook = function (context) {
      // 2.3 injection
      context =
        context || // cached call
        (this.$vnode && this.$vnode.ssrContext) || // stateful
        (this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext) // functional
      // 2.2 with runInNewContext: true
      if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {
        context = __VUE_SSR_CONTEXT__
      }
      // inject component styles
      if (injectStyles) {
        injectStyles.call(this, context)
      }
      // register component module identifier for async chunk inferrence
      if (context && context._registeredComponents) {
        context._registeredComponents.add(moduleIdentifier)
      }
    }
    // used by ssr in case component is cached and beforeCreate
    // never gets called
    options._ssrRegister = hook
  } else if (injectStyles) {
    hook = shadowMode
      ? function () {
          injectStyles.call(
            this,
            (options.functional ? this.parent : this).$root.$options.shadowRoot
          )
        }
      : injectStyles
  }

  if (hook) {
    if (options.functional) {
      // for template-only hot-reload because in that case the render fn doesn't
      // go through the normalizer
      options._injectStyles = hook
      // register for functional component in vue file
      var originalRender = options.render
      options.render = function renderWithStyleInjection(h, context) {
        hook.call(context)
        return originalRender(h, context)
      }
    } else {
      // inject component registration as beforeCreate hook
      var existing = options.beforeCreate
      options.beforeCreate = existing ? [].concat(existing, hook) : [hook]
    }
  }

  return {
    exports: scriptExports,
    options: options
  }
}


/***/ }),
/* 1 */
/***/ (function(module, exports) {

module.exports = __webpack_require__("../../libs/element-ui/lib/utils/date-util.js");

/***/ }),
/* 2 */
/***/ (function(module, exports) {

module.exports = __webpack_require__("../../libs/element-ui/lib/utils/dom.js");

/***/ }),
/* 3 */
/***/ (function(module, exports) {

module.exports = __webpack_require__("../../libs/element-ui/lib/utils/util.js");

/***/ }),
/* 4 */
/***/ (function(module, exports) {

module.exports = __webpack_require__("../../libs/element-ui/lib/mixins/emitter.js");

/***/ }),
/* 5 */
/***/ (function(module, exports) {

module.exports = __webpack_require__("../../libs/element-ui/lib/utils/vue-popper.js");

/***/ }),
/* 6 */
/***/ (function(module, exports) {

module.exports = __webpack_require__("vue");

/***/ }),
/* 7 */
/***/ (function(module, exports) {

module.exports = __webpack_require__("../../libs/element-ui/lib/mixins/locale.js");

/***/ }),
/* 8 */,
/* 9 */
/***/ (function(module, exports) {

module.exports = __webpack_require__("../../libs/element-ui/lib/input.js");

/***/ }),
/* 10 */
/***/ (function(module, exports) {

module.exports = __webpack_require__("../../libs/element-ui/lib/utils/merge.js");

/***/ }),
/* 11 */,
/* 12 */
/***/ (function(module, exports) {

module.exports = __webpack_require__("../../libs/element-ui/lib/utils/clickoutside.js");

/***/ }),
/* 13 */,
/* 14 */
/***/ (function(module, exports) {

module.exports = __webpack_require__("../../libs/element-ui/lib/button.js");

/***/ }),
/* 15 */
/***/ (function(module, exports) {

module.exports = __webpack_require__("../../libs/element-ui/lib/scrollbar.js");

/***/ }),
/* 16 */,
/* 17 */,
/* 18 */,
/* 19 */,
/* 20 */,
/* 21 */,
/* 22 */,
/* 23 */,
/* 24 */,
/* 25 */,
/* 26 */,
/* 27 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";

// CONCATENATED MODULE: C:/Users/TylerTrotter/repos/Cognito Forms/Cognito.Web.Client/node_modules/.pnpm/vue-loader@15.11.1_css-loader@5.2.7_prettier@1.18.2_vue-template-compiler@2.7.15_webpack@4.46.0/node_modules/vue-loader/lib/loaders/templateLoader.js??ref--5!C:/Users/TylerTrotter/repos/Cognito Forms/Cognito.Web.Client/node_modules/.pnpm/vue-loader@15.11.1_css-loader@5.2.7_prettier@1.18.2_vue-template-compiler@2.7.15_webpack@4.46.0/node_modules/vue-loader/lib??vue-loader-options!./packages/date-picker/src/panel/time.vue?vue&type=template&id=7cdd2bd7
var render = function render() {
  var _vm = this,
    _c = _vm._self._c
  return _c(
    "transition",
    {
      attrs: { name: "el-zoom-in-top" },
      on: {
        "after-leave": function($event) {
          return _vm.$emit("dodestroy")
        }
      }
    },
    [
      _c(
        "div",
        {
          directives: [
            {
              name: "show",
              rawName: "v-show",
              value: _vm.visible,
              expression: "visible"
            }
          ],
          staticClass: "el-time-panel el-popper",
          class: _vm.popperClass
        },
        [
          _c(
            "div",
            {
              staticClass: "el-time-panel__content",
              class: {
                "has-seconds": _vm.showSeconds,
                "has-am-pm": _vm.showAmPm
              }
            },
            [
              _c("time-spinner", {
                ref: "spinner",
                attrs: {
                  "arrow-control": _vm.useArrow,
                  "show-seconds": _vm.showSeconds,
                  "show-am-pm": _vm.showAmPm,
                  "am-pm-mode": _vm.amPmMode,
                  "twelve-hour-clock": _vm.twelveHourClock,
                  "zero-pad-hour": _vm.zeroPadHour,
                  date: _vm.date
                },
                on: {
                  change: _vm.handleChange,
                  "select-range": _vm.setSelectionRange
                }
              })
            ],
            1
          ),
          _c("div", { staticClass: "el-time-panel__footer" }, [
            _c(
              "button",
              {
                staticClass: "el-time-panel__btn cancel",
                attrs: { type: "button" },
                on: { click: _vm.handleCancel }
              },
              [_vm._v(_vm._s(_vm.t("el.datepicker.cancel")))]
            ),
            _c(
              "button",
              {
                staticClass: "el-time-panel__btn",
                class: { confirm: !_vm.disabled },
                attrs: { type: "button" },
                on: {
                  click: function($event) {
                    return _vm.handleConfirm()
                  }
                }
              },
              [_vm._v(_vm._s(_vm.t("el.datepicker.confirm")))]
            )
          ])
        ]
      )
    ]
  )
}
var staticRenderFns = []
render._withStripped = true


// CONCATENATED MODULE: ./packages/date-picker/src/panel/time.vue?vue&type=template&id=7cdd2bd7

// EXTERNAL MODULE: external "./utils/date-util"
var date_util_ = __webpack_require__(1);

// EXTERNAL MODULE: external "./mixins/locale"
var locale_ = __webpack_require__(7);
var locale_default = /*#__PURE__*/__webpack_require__.n(locale_);

// EXTERNAL MODULE: ./packages/date-picker/src/basic/time-spinner.vue + 4 modules
var time_spinner = __webpack_require__(35);

// CONCATENATED MODULE: C:/Users/TylerTrotter/repos/Cognito Forms/Cognito.Web.Client/node_modules/.pnpm/babel-loader@8.3.0_@babel+core@7.25.2_webpack@4.46.0/node_modules/babel-loader/lib!C:/Users/TylerTrotter/repos/Cognito Forms/Cognito.Web.Client/node_modules/.pnpm/vue-loader@15.11.1_css-loader@5.2.7_prettier@1.18.2_vue-template-compiler@2.7.15_webpack@4.46.0/node_modules/vue-loader/lib??vue-loader-options!./packages/date-picker/src/panel/time.vue?vue&type=script&lang=js



/* harmony default export */ var timevue_type_script_lang_js = ({
  mixins: [locale_default.a],
  components: {
    TimeSpinner: time_spinner["a" /* default */]
  },
  props: {
    visible: Boolean,
    timeArrowControl: Boolean,
    toggleAmPm: {
      type: Boolean,
      default: false
    }
  },
  watch: {
    visible(val) {
      if (val) {
        this.oldValue = this.value;
        this.$nextTick(() => this.$refs.spinner.emitSelectRange('hours'));
      } else {
        this.needInitAdjust = true;
      }
    },
    value(newVal) {
      let date;
      if (newVal instanceof Date) {
        date = Object(date_util_["limitTimeRange"])(newVal, this.selectableRange, this.format);
      } else if (!newVal) {
        date = this.defaultValue ? new Date(this.defaultValue) : new Date();
      }
      this.date = date;
      if (this.visible && this.needInitAdjust) {
        this.$nextTick(_ => this.adjustSpinners());
        this.needInitAdjust = false;
      }
    },
    selectableRange(val) {
      this.$refs.spinner.selectableRange = val;
    },
    defaultValue(val) {
      if (!Object(date_util_["isDate"])(this.value)) {
        this.date = val ? new Date(val) : new Date();
      }
    }
  },
  data() {
    return {
      popperClass: '',
      format: 'HH:mm:ss',
      value: '',
      defaultValue: null,
      date: new Date(),
      oldValue: new Date(),
      selectableRange: [],
      selectionRange: [0, 2],
      disabled: false,
      arrowControl: false,
      needInitAdjust: true
    };
  },
  computed: {
    showSeconds() {
      return (this.format || '').indexOf('ss') !== -1;
    },
    showAmPm() {
      // Even if `toggle-am-pm` is set to true, if the time format doesn't include AM/PM then they won't be shown,
      // since this would create an inconsistency between the picker and the formatted time value. Also, although it
      // isn't required, AM/PM toggling should be used along with the `arrow-control` option to provide the best result.
      return this.toggleAmPm && ((this.format || '').indexOf('a') !== -1 || (this.format || '').indexOf('A') !== -1);
    },
    useArrow() {
      return this.arrowControl || this.timeArrowControl || false;
    },
    amPmMode() {
      if ((this.format || '').indexOf('A') !== -1) return 'A';
      if ((this.format || '').indexOf('a') !== -1) return 'a';
      return '';
    },
    twelveHourClock() {
      return (this.format || '').indexOf('hh') !== -1 || (this.format || '').indexOf('h') !== -1;
    },
    zeroPadHour() {
      return (this.format || '').indexOf('HH') !== -1 || (this.format || '').indexOf('hh') !== -1;
    }
  },
  methods: {
    handleCancel() {
      this.$emit('pick', this.oldValue, false);
    },
    handleChange(date) {
      // this.visible avoids edge cases, when use scrolls during panel closing animation
      if (this.visible) {
        this.date = Object(date_util_["clearMilliseconds"])(date);
        // if date is out of range, do not emit
        if (this.isValidValue(this.date)) {
          this.$emit('pick', this.date, true);
        }
      }
    },
    setSelectionRange(start, end) {
      this.$emit('select-range', start, end);
      this.selectionRange = [start, end];
    },
    handleConfirm(visible, first) {
      if (visible === void 0) {
        visible = false;
      }
      if (first) return;
      const date = Object(date_util_["clearMilliseconds"])(Object(date_util_["limitTimeRange"])(this.date, this.selectableRange, this.format));
      this.$emit('pick', date, visible, first);
    },
    handleKeydown(event) {
      const keyCode = event.keyCode;
      const mapping = {
        38: -1,
        40: 1,
        37: -1,
        39: 1
      };

      // Left or Right
      if (keyCode === 37 || keyCode === 39) {
        const step = mapping[keyCode];
        this.changeSelectionRange(step);
        event.preventDefault();
        return;
      }

      // Up or Down
      if (keyCode === 38 || keyCode === 40) {
        const step = mapping[keyCode];
        this.$refs.spinner.scrollDown(step);
        event.preventDefault();
        return;
      }
    },
    isValidValue(date) {
      return Object(date_util_["timeWithinRange"])(date, this.selectableRange, this.format);
    },
    adjustSpinners() {
      return this.$refs.spinner.adjustSpinners();
    },
    changeSelectionRange(step) {
      const hoursLen = !this.zeroPadHour && (this.twelveHourClock ? this.date.getHours() % 12 || 12 : this.date.getHours()) < 10 ? 1 : 2;
      const secondsOffset = this.showSeconds ? 3 : 0;
      const list = [0, 3 - (2 - hoursLen)].concat(this.showSeconds ? [6 - (2 - hoursLen)] : []).concat(this.showAmPm ? [6 + secondsOffset - (2 - hoursLen)] : []);
      const mapping = ['hours', 'minutes'].concat(this.showSeconds ? ['seconds'] : []).concat(this.showAmPm ? ['amPm'] : []);
      const index = list.indexOf(this.selectionRange[0]);
      const next = (index + step + list.length) % list.length;
      this.$refs.spinner.emitSelectRange(mapping[next]);
    }
  },
  mounted() {
    this.$nextTick(() => this.handleConfirm(true, true));
    this.$emit('mounted');
  }
});
// CONCATENATED MODULE: ./packages/date-picker/src/panel/time.vue?vue&type=script&lang=js
 /* harmony default export */ var panel_timevue_type_script_lang_js = (timevue_type_script_lang_js); 
// EXTERNAL MODULE: C:/Users/TylerTrotter/repos/Cognito Forms/Cognito.Web.Client/node_modules/.pnpm/vue-loader@15.11.1_css-loader@5.2.7_prettier@1.18.2_vue-template-compiler@2.7.15_webpack@4.46.0/node_modules/vue-loader/lib/runtime/componentNormalizer.js
var componentNormalizer = __webpack_require__(0);

// CONCATENATED MODULE: ./packages/date-picker/src/panel/time.vue





/* normalize component */

var component = Object(componentNormalizer["a" /* default */])(
  panel_timevue_type_script_lang_js,
  render,
  staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* harmony default export */ var time = __webpack_exports__["a"] = (component.exports);

/***/ }),
/* 28 */,
/* 29 */,
/* 30 */
/***/ (function(module, exports) {

module.exports = __webpack_require__("../../libs/element-ui/src/directives/repeat-click.js");

/***/ }),
/* 31 */,
/* 32 */,
/* 33 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";

// CONCATENATED MODULE: C:/Users/TylerTrotter/repos/Cognito Forms/Cognito.Web.Client/node_modules/.pnpm/vue-loader@15.11.1_css-loader@5.2.7_prettier@1.18.2_vue-template-compiler@2.7.15_webpack@4.46.0/node_modules/vue-loader/lib/loaders/templateLoader.js??ref--5!C:/Users/TylerTrotter/repos/Cognito Forms/Cognito.Web.Client/node_modules/.pnpm/vue-loader@15.11.1_css-loader@5.2.7_prettier@1.18.2_vue-template-compiler@2.7.15_webpack@4.46.0/node_modules/vue-loader/lib??vue-loader-options!./packages/date-picker/src/picker.vue?vue&type=template&id=13449820
var render = function render() {
  var _vm = this,
    _c = _vm._self._c
  return !_vm.ranged
    ? _c(
        "el-input",
        _vm._b(
          {
            directives: [
              {
                name: "clickoutside",
                rawName: "v-clickoutside",
                value: _vm.handleClose,
                expression: "handleClose"
              }
            ],
            ref: "reference",
            staticClass: "el-date-editor",
            class: "el-date-editor--" + _vm.type,
            attrs: {
              readonly:
                !_vm.editable ||
                _vm.readonly ||
                _vm.type === "dates" ||
                _vm.type === "week",
              disabled: _vm.pickerDisabled,
              size: _vm.pickerSize,
              name: _vm.name,
              placeholder: _vm.placeholder,
              value: _vm.displayValue,
              validateEvent: false
            },
            on: {
              focus: _vm.handleFocus,
              input: _vm.handleInput,
              change: _vm.handleChange
            },
            nativeOn: {
              keydown: function($event) {
                return _vm.handleKeydown.apply(null, arguments)
              },
              mouseenter: function($event) {
                return _vm.handleMouseEnter.apply(null, arguments)
              },
              mouseleave: function($event) {
                _vm.showClose = false
              }
            }
          },
          "el-input",
          _vm.firstInputId,
          false
        ),
        [
          _c(
            "template",
            { slot: "prefix" },
            [
              _vm._t("prefix", function() {
                return [
                  _c("i", {
                    staticClass: "el-input__icon",
                    class: _vm.triggerClass,
                    on: { click: _vm.handleFocus }
                  })
                ]
              })
            ],
            2
          ),
          _c(
            "template",
            { slot: "suffix" },
            [
              _vm._t("suffix", function() {
                return [
                  _vm.haveTrigger
                    ? _c("i", {
                        staticClass: "el-input__icon",
                        class: [_vm.showClose ? "" + _vm.clearIcon : ""],
                        on: { click: _vm.handleClickIcon }
                      })
                    : _vm._e()
                ]
              })
            ],
            2
          )
        ],
        2
      )
    : _c(
        "div",
        {
          directives: [
            {
              name: "clickoutside",
              rawName: "v-clickoutside",
              value: _vm.handleClose,
              expression: "handleClose"
            }
          ],
          ref: "reference",
          staticClass: "el-date-editor el-range-editor el-input__inner",
          class: [
            "el-date-editor--" + _vm.type,
            _vm.pickerSize ? `el-range-editor--${_vm.pickerSize}` : "",
            _vm.pickerDisabled ? "is-disabled" : "",
            _vm.pickerVisible ? "is-active" : ""
          ],
          on: {
            click: _vm.handleRangeClick,
            mouseenter: _vm.handleMouseEnter,
            mouseleave: function($event) {
              _vm.showClose = false
            },
            keydown: _vm.handleKeydown
          }
        },
        [
          _c("i", {
            class: ["el-input__icon", "el-range__icon", _vm.triggerClass]
          }),
          _c(
            "input",
            _vm._b(
              {
                staticClass: "el-range-input",
                attrs: {
                  autocomplete: "off",
                  placeholder: _vm.startPlaceholder,
                  disabled: _vm.pickerDisabled,
                  readonly: !_vm.editable || _vm.readonly,
                  name: _vm.name && _vm.name[0]
                },
                domProps: { value: _vm.displayValue && _vm.displayValue[0] },
                on: {
                  input: _vm.handleStartInput,
                  change: _vm.handleStartChange,
                  focus: _vm.handleFocus
                }
              },
              "input",
              _vm.firstInputId,
              false
            )
          ),
          _vm._t("range-separator", function() {
            return [
              _c("span", { staticClass: "el-range-separator" }, [
                _vm._v(_vm._s(_vm.rangeSeparator))
              ])
            ]
          }),
          _c(
            "input",
            _vm._b(
              {
                staticClass: "el-range-input",
                attrs: {
                  autocomplete: "off",
                  placeholder: _vm.endPlaceholder,
                  disabled: _vm.pickerDisabled,
                  readonly: !_vm.editable || _vm.readonly,
                  name: _vm.name && _vm.name[1]
                },
                domProps: { value: _vm.displayValue && _vm.displayValue[1] },
                on: {
                  input: _vm.handleEndInput,
                  change: _vm.handleEndChange,
                  focus: _vm.handleFocus
                }
              },
              "input",
              _vm.secondInputId,
              false
            )
          ),
          _vm.haveTrigger
            ? _c("i", {
                staticClass: "el-input__icon el-range__close-icon",
                class: [_vm.showClose ? "" + _vm.clearIcon : ""],
                on: { click: _vm.handleClickIcon }
              })
            : _vm._e()
        ],
        2
      )
}
var staticRenderFns = []
render._withStripped = true


// CONCATENATED MODULE: ./packages/date-picker/src/picker.vue?vue&type=template&id=13449820

// EXTERNAL MODULE: external "vue"
var external_vue_ = __webpack_require__(6);
var external_vue_default = /*#__PURE__*/__webpack_require__.n(external_vue_);

// EXTERNAL MODULE: external "./utils/clickoutside"
var clickoutside_ = __webpack_require__(12);
var clickoutside_default = /*#__PURE__*/__webpack_require__.n(clickoutside_);

// EXTERNAL MODULE: external "./utils/date-util"
var date_util_ = __webpack_require__(1);

// EXTERNAL MODULE: external "./utils/vue-popper"
var vue_popper_ = __webpack_require__(5);
var vue_popper_default = /*#__PURE__*/__webpack_require__.n(vue_popper_);

// EXTERNAL MODULE: external "./mixins/emitter"
var emitter_ = __webpack_require__(4);
var emitter_default = /*#__PURE__*/__webpack_require__.n(emitter_);

// EXTERNAL MODULE: external "./input"
var external_input_ = __webpack_require__(9);
var external_input_default = /*#__PURE__*/__webpack_require__.n(external_input_);

// EXTERNAL MODULE: external "./utils/merge"
var merge_ = __webpack_require__(10);
var merge_default = /*#__PURE__*/__webpack_require__.n(merge_);

// CONCATENATED MODULE: C:/Users/TylerTrotter/repos/Cognito Forms/Cognito.Web.Client/node_modules/.pnpm/babel-loader@8.3.0_@babel+core@7.25.2_webpack@4.46.0/node_modules/babel-loader/lib!C:/Users/TylerTrotter/repos/Cognito Forms/Cognito.Web.Client/node_modules/.pnpm/vue-loader@15.11.1_css-loader@5.2.7_prettier@1.18.2_vue-template-compiler@2.7.15_webpack@4.46.0/node_modules/vue-loader/lib??vue-loader-options!./packages/date-picker/src/picker.vue?vue&type=script&lang=js







const NewPopper = {
  props: {
    appendToBody: vue_popper_default.a.props.appendToBody,
    offset: vue_popper_default.a.props.offset,
    boundariesPadding: vue_popper_default.a.props.boundariesPadding,
    arrowOffset: vue_popper_default.a.props.arrowOffset
  },
  methods: vue_popper_default.a.methods,
  data() {
    return merge_default()({
      visibleArrow: true
    }, vue_popper_default.a.data);
  },
  beforeDestroy: vue_popper_default.a.beforeDestroy
};
const DEFAULT_FORMATS = {
  date: 'yyyy-MM-dd',
  month: 'yyyy-MM',
  datetime: 'yyyy-MM-dd HH:mm:ss',
  time: 'HH:mm:ss',
  week: 'yyyywWW',
  timerange: 'HH:mm:ss',
  daterange: 'yyyy-MM-dd',
  monthrange: 'yyyy-MM',
  datetimerange: 'yyyy-MM-dd HH:mm:ss',
  year: 'yyyy'
};
const HAVE_TRIGGER_TYPES = ['date', 'datetime', 'time', 'time-select', 'week', 'month', 'year', 'daterange', 'monthrange', 'timerange', 'datetimerange', 'dates'];
const DATE_FORMATTER = function (value, format) {
  if (format === 'timestamp') return value.getTime();
  return Object(date_util_["formatDate"])(value, format);
};
const DATE_PARSER = function (text, format) {
  if (format === 'timestamp') return new Date(Number(text));
  return Object(date_util_["parseDate"])(text, format);
};
const RANGE_FORMATTER = function (value, format) {
  if (Array.isArray(value) && value.length === 2) {
    const start = value[0];
    const end = value[1];
    if (start && end) {
      return [DATE_FORMATTER(start, format), DATE_FORMATTER(end, format)];
    }
  }
  return '';
};
const RANGE_PARSER = function (array, format, separator) {
  if (!Array.isArray(array)) {
    array = array.split(separator);
  }
  if (array.length === 2) {
    const range1 = array[0];
    const range2 = array[1];
    return [DATE_PARSER(range1, format), DATE_PARSER(range2, format)];
  }
  return [];
};
const TYPE_VALUE_RESOLVER_MAP = {
  default: {
    formatter(value) {
      if (!value) return '';
      return '' + value;
    },
    parser(text) {
      if (text === undefined || text === '') return null;
      return text;
    }
  },
  week: {
    formatter(value, format) {
      let week = Object(date_util_["getWeekNumber"])(value);
      let month = value.getMonth();
      const trueDate = new Date(value);
      if (week === 1 && month === 11) {
        trueDate.setHours(0, 0, 0, 0);
        trueDate.setDate(trueDate.getDate() + 3 - (trueDate.getDay() + 6) % 7);
      }
      let date = Object(date_util_["formatDate"])(trueDate, format);
      date = /WW/.test(date) ? date.replace(/WW/, week < 10 ? '0' + week : week) : date.replace(/W/, week);
      return date;
    },
    parser(text, format) {
      // parse as if a normal date
      return TYPE_VALUE_RESOLVER_MAP.date.parser(text, format);
    }
  },
  date: {
    formatter: DATE_FORMATTER,
    parser: DATE_PARSER
  },
  datetime: {
    formatter: DATE_FORMATTER,
    parser: DATE_PARSER
  },
  daterange: {
    formatter: RANGE_FORMATTER,
    parser: RANGE_PARSER
  },
  monthrange: {
    formatter: RANGE_FORMATTER,
    parser: RANGE_PARSER
  },
  datetimerange: {
    formatter: RANGE_FORMATTER,
    parser: RANGE_PARSER
  },
  timerange: {
    formatter: RANGE_FORMATTER,
    parser: RANGE_PARSER
  },
  time: {
    formatter: DATE_FORMATTER,
    parser: DATE_PARSER
  },
  month: {
    formatter: DATE_FORMATTER,
    parser: DATE_PARSER
  },
  year: {
    formatter: DATE_FORMATTER,
    parser: DATE_PARSER
  },
  number: {
    formatter(value) {
      if (!value) return '';
      return '' + value;
    },
    parser(text) {
      let result = Number(text);
      if (!isNaN(text)) {
        return result;
      } else {
        return null;
      }
    }
  },
  dates: {
    formatter(value, format) {
      return value.map(date => DATE_FORMATTER(date, format));
    },
    parser(value, format) {
      return (typeof value === 'string' ? value.split(', ') : value).map(date => date instanceof Date ? date : DATE_PARSER(date, format));
    }
  }
};
const PLACEMENT_MAP = {
  left: 'bottom-start',
  center: 'bottom',
  right: 'bottom-end'
};
const parseAsFormatAndType = function (value, customFormat, type, rangeSeparator) {
  if (rangeSeparator === void 0) {
    rangeSeparator = '-';
  }
  if (!value) return null;
  const parser = (TYPE_VALUE_RESOLVER_MAP[type] || TYPE_VALUE_RESOLVER_MAP['default']).parser;
  const format = customFormat || DEFAULT_FORMATS[type];
  return parser(value, format, rangeSeparator);
};
const formatAsFormatAndType = (value, customFormat, type) => {
  if (!value) return null;
  const formatter = (TYPE_VALUE_RESOLVER_MAP[type] || TYPE_VALUE_RESOLVER_MAP['default']).formatter;
  const format = customFormat || DEFAULT_FORMATS[type];
  return formatter(value, format);
};

/*
 * Considers:
 *   1. Date object
 *   2. date string
 *   3. array of 1 or 2
 */
const valueEquals = function (a, b) {
  // considers Date object and string
  const dateEquals = function (a, b) {
    const aIsDate = a instanceof Date;
    const bIsDate = b instanceof Date;
    if (aIsDate && bIsDate) {
      return a.getTime() === b.getTime();
    }
    if (!aIsDate && !bIsDate) {
      return a === b;
    }
    return false;
  };
  const aIsArray = a instanceof Array;
  const bIsArray = b instanceof Array;
  if (aIsArray && bIsArray) {
    if (a.length !== b.length) {
      return false;
    }
    return a.every((item, index) => dateEquals(item, b[index]));
  }
  if (!aIsArray && !bIsArray) {
    return dateEquals(a, b);
  }
  return false;
};
const isString = function (val) {
  return typeof val === 'string' || val instanceof String;
};
const validator = function (val) {
  // either: String, Array of String, null / undefined
  return val === null || val === undefined || isString(val) || Array.isArray(val) && val.length === 2 && val.every(isString);
};
/* harmony default export */ var pickervue_type_script_lang_js = ({
  mixins: [emitter_default.a, NewPopper],
  inject: {
    elForm: {
      default: ''
    },
    elFormItem: {
      default: ''
    }
  },
  props: {
    size: String,
    format: String,
    valueFormat: String,
    readonly: Boolean,
    placeholder: String,
    startPlaceholder: String,
    endPlaceholder: String,
    prefixIcon: String,
    clearIcon: {
      type: String,
      default: 'el-icon-circle-close'
    },
    name: {
      default: '',
      validator
    },
    disabled: Boolean,
    clearable: {
      type: Boolean,
      default: true
    },
    id: {
      default: '',
      validator
    },
    popperClass: String,
    editable: {
      type: Boolean,
      default: true
    },
    align: {
      type: String,
      default: 'left'
    },
    value: {},
    defaultValue: {},
    defaultTime: {},
    rangeSeparator: {
      default: '-'
    },
    minimum: Date,
    maximum: Date,
    pickerOptions: {},
    unlinkPanels: Boolean,
    validateEvent: {
      type: Boolean,
      default: true
    }
  },
  components: {
    ElInput: external_input_default.a
  },
  directives: {
    Clickoutside: clickoutside_default.a
  },
  data() {
    return {
      pickerVisible: false,
      showClose: false,
      userInput: null,
      valueOnOpen: null,
      // value when picker opens, used to determine whether to emit change
      unwatchPickerOptions: null,
      unwatchPickerMin: null,
      unwatchPickerMax: null
    };
  },
  watch: {
    pickerVisible(val) {
      if (this.readonly || this.pickerDisabled) return;
      this.$emit('visible-change', val);
      if (val) {
        this.showPicker();
        this.valueOnOpen = Array.isArray(this.value) ? [...this.value] : this.value;
      } else {
        this.hidePicker();
        this.emitChange(this.value);
        this.userInput = null;
        if (this.validateEvent) {
          this.dispatch('ElFormItem', 'el.form.blur');
        }
        this.$emit('blur', this);
        this.blur();
      }
    },
    parsedValue: {
      immediate: true,
      handler(val) {
        if (this.picker) {
          this.picker.value = val;
        }
      }
    },
    defaultValue(val) {
      // NOTE: should eventually move to jsx style picker + panel ?
      if (this.picker) {
        this.picker.defaultValue = val;
      }
    },
    value(val, oldVal) {
      if (!valueEquals(val, oldVal) && !this.pickerVisible && this.validateEvent) {
        this.dispatch('ElFormItem', 'el.form.change', val);
      }
    }
  },
  computed: {
    ranged() {
      return this.type.indexOf('range') > -1;
    },
    reference() {
      const reference = this.$refs.reference;
      return reference.$el || reference;
    },
    refInput() {
      if (this.reference) {
        return [].slice.call(this.reference.querySelectorAll('input'));
      }
      return [];
    },
    valueIsEmpty() {
      const val = this.value;
      if (Array.isArray(val)) {
        for (let i = 0, len = val.length; i < len; i++) {
          if (val[i]) {
            return false;
          }
        }
      } else {
        if (val) {
          return false;
        }
      }
      return true;
    },
    triggerClass() {
      return this.prefixIcon || (this.type.indexOf('time') !== -1 ? 'el-icon-time' : 'el-icon-date');
    },
    selectionMode() {
      if (this.type === 'week') {
        return 'week';
      } else if (this.type === 'month') {
        return 'month';
      } else if (this.type === 'year') {
        return 'year';
      } else if (this.type === 'dates') {
        return 'dates';
      }
      return 'day';
    },
    haveTrigger() {
      if (typeof this.showTrigger !== 'undefined') {
        return this.showTrigger;
      }
      return HAVE_TRIGGER_TYPES.indexOf(this.type) !== -1;
    },
    displayValue() {
      const formattedValue = formatAsFormatAndType(this.parsedValue, this.format, this.type, this.rangeSeparator);
      if (Array.isArray(this.userInput)) {
        return [this.userInput[0] || formattedValue && formattedValue[0] || '', this.userInput[1] || formattedValue && formattedValue[1] || ''];
      } else if (this.userInput !== null) {
        return this.userInput;
      } else if (formattedValue) {
        return this.type === 'dates' ? formattedValue.join(', ') : formattedValue;
      } else {
        return '';
      }
    },
    parsedValue() {
      if (!this.value) return this.value; // component value is not set
      if (this.type === 'time-select') return this.value; // time-select does not require parsing, this might change in next major version

      const valueIsDateObject = Object(date_util_["isDateObject"])(this.value) || Array.isArray(this.value) && this.value.every(date_util_["isDateObject"]);
      if (valueIsDateObject) {
        return this.value;
      }
      if (this.valueFormat) {
        return parseAsFormatAndType(this.value, this.valueFormat, this.type, this.rangeSeparator) || this.value;
      }

      // NOTE: deal with common but incorrect usage, should remove in next major version
      // user might provide string / timestamp without value-format, coerce them into date (or array of date)
      return Array.isArray(this.value) ? this.value.map(val => new Date(val)) : new Date(this.value);
    },
    _elFormItemSize() {
      return (this.elFormItem || {}).elFormItemSize;
    },
    pickerSize() {
      return this.size || this._elFormItemSize || (this.$ELEMENT || {}).size;
    },
    pickerDisabled() {
      return this.disabled || (this.elForm || {}).disabled;
    },
    firstInputId() {
      const obj = {};
      let id;
      if (this.ranged) {
        id = this.id && this.id[0];
      } else {
        id = this.id;
      }
      if (id) obj.id = id;
      return obj;
    },
    secondInputId() {
      const obj = {};
      let id;
      if (this.ranged) {
        id = this.id && this.id[1];
      }
      if (id) obj.id = id;
      return obj;
    }
  },
  created() {
    // vue-popper
    this.popperOptions = {
      boundariesPadding: 0,
      gpuAcceleration: false
    };
    this.placement = PLACEMENT_MAP[this.align] || PLACEMENT_MAP.left;
    this.$on('fieldReset', this.handleFieldReset);
  },
  methods: {
    focus() {
      if (!this.ranged) {
        this.$refs.reference.focus();
      } else {
        this.handleFocus();
      }
    },
    blur() {
      this.refInput.forEach(input => input.blur());
    },
    // {parse, formatTo} Value deals maps component value with internal Date
    parseValue(value) {
      const isParsed = Object(date_util_["isDateObject"])(value) || Array.isArray(value) && value.every(date_util_["isDateObject"]);
      if (this.valueFormat && !isParsed) {
        return parseAsFormatAndType(value, this.valueFormat, this.type, this.rangeSeparator) || value;
      } else {
        return value;
      }
    },
    formatToValue(date) {
      const isFormattable = Object(date_util_["isDateObject"])(date) || Array.isArray(date) && date.every(date_util_["isDateObject"]);
      if (this.valueFormat && isFormattable) {
        return formatAsFormatAndType(date, this.valueFormat, this.type, this.rangeSeparator);
      } else {
        return date;
      }
    },
    // {parse, formatTo} String deals with user input
    parseString(value) {
      const type = Array.isArray(value) ? this.type : this.type.replace('range', '');
      return parseAsFormatAndType(value, this.format, type);
    },
    formatToString(value) {
      const type = Array.isArray(value) ? this.type : this.type.replace('range', '');
      return formatAsFormatAndType(value, this.format, type);
    },
    handleMouseEnter() {
      if (this.readonly || this.pickerDisabled) return;
      if (!this.valueIsEmpty && this.clearable) {
        this.showClose = true;
      }
    },
    handleInput(value) {
      this.userInput = value;
    },
    handleChange() {
      if (this.userInput) {
        const value = this.parseString(this.displayValue);
        if (value) {
          this.picker.value = value;
          if (this.isValidValue(value)) {
            this.emitInput(value);
            this.userInput = null;
          }
        }
      }
      if (this.userInput === '') {
        this.emitInput(null);
        this.emitChange(null);
        this.userInput = null;
      }
    },
    handleStartInput(event) {
      if (this.userInput) {
        this.userInput = [event.target.value, this.userInput[1]];
      } else {
        this.userInput = [event.target.value, null];
      }
    },
    handleEndInput(event) {
      if (this.userInput) {
        this.userInput = [this.userInput[0], event.target.value];
      } else {
        this.userInput = [null, event.target.value];
      }
    },
    handleStartChange(event) {
      const value = this.parseString(this.userInput && this.userInput[0]);
      if (value) {
        this.userInput = [this.formatToString(value), this.displayValue[1]];
        const newValue = [value, this.picker.value && this.picker.value[1]];
        this.picker.value = newValue;
        if (this.isValidValue(newValue)) {
          this.emitInput(newValue);
          this.userInput = null;
        }
      }
    },
    handleEndChange(event) {
      const value = this.parseString(this.userInput && this.userInput[1]);
      if (value) {
        this.userInput = [this.displayValue[0], this.formatToString(value)];
        const newValue = [this.picker.value && this.picker.value[0], value];
        this.picker.value = newValue;
        if (this.isValidValue(newValue)) {
          this.emitInput(newValue);
          this.userInput = null;
        }
      }
    },
    handleClickIcon(event) {
      if (this.readonly || this.pickerDisabled) return;
      if (this.showClose) {
        this.valueOnOpen = this.value;
        event.stopPropagation();
        this.emitInput(null);
        this.emitChange(null);
        this.showClose = false;
        if (this.picker && typeof this.picker.handleClear === 'function') {
          this.picker.handleClear();
        }
      } else {
        this.pickerVisible = !this.pickerVisible;
      }
    },
    handleClose() {
      if (!this.pickerVisible) return;
      this.pickerVisible = false;
      if (this.type === 'dates') {
        // restore to former value
        const oldValue = parseAsFormatAndType(this.valueOnOpen, this.valueFormat, this.type, this.rangeSeparator) || this.valueOnOpen;
        this.emitInput(oldValue);
      }
    },
    handleFieldReset(initialValue) {
      this.userInput = initialValue === '' ? null : initialValue;
    },
    handleFocus() {
      const type = this.type;
      if (HAVE_TRIGGER_TYPES.indexOf(type) !== -1 && !this.pickerVisible) {
        this.pickerVisible = true;
      }
      this.$emit('focus', this);
    },
    handleKeydown(event) {
      const keyCode = event.keyCode;

      // ESC
      if (keyCode === 27) {
        this.pickerVisible = false;
        event.stopPropagation();
        return;
      }

      // Tab
      if (keyCode === 9) {
        if (!this.ranged) {
          this.handleChange();
          this.pickerVisible = this.picker.visible = false;
          this.blur();
          event.stopPropagation();
        } else {
          // user may change focus between two input
          setTimeout(() => {
            if (this.refInput.indexOf(document.activeElement) === -1) {
              this.pickerVisible = false;
              this.blur();
              event.stopPropagation();
            }
          }, 0);
        }
        return;
      }

      // Enter
      if (keyCode === 13) {
        if (this.userInput === '' || this.isValidValue(this.parseString(this.displayValue))) {
          this.handleChange();
          this.pickerVisible = this.picker.visible = false;
          this.blur();
        }
        event.stopPropagation();
        return;
      }

      // if user is typing, do not let picker handle key input
      if (this.userInput) {
        event.stopPropagation();
        return;
      }

      // delegate other keys to panel
      if (this.picker && this.picker.handleKeydown) {
        this.picker.handleKeydown(event);
      }
    },
    handleRangeClick() {
      const type = this.type;
      if (HAVE_TRIGGER_TYPES.indexOf(type) !== -1 && !this.pickerVisible) {
        this.pickerVisible = true;
      }
      this.$emit('focus', this);
    },
    hidePicker() {
      if (this.picker) {
        this.picker.resetView && this.picker.resetView();
        this.pickerVisible = this.picker.visible = false;
        this.destroyPopper();
      }
    },
    showPicker() {
      if (this.$isServer) return;
      if (!this.picker) {
        this.mountPicker();
      }
      this.pickerVisible = this.picker.visible = true;
      this.updatePopper();
      this.picker.value = this.parsedValue;
      this.picker.resetView && this.picker.resetView();
      this.$nextTick(() => {
        this.picker.adjustSpinners && this.picker.adjustSpinners();
      });
    },
    mountPicker() {
      var _this = this;
      this.picker = new external_vue_default.a(this.panel).$mount();
      this.picker.defaultValue = this.defaultValue;
      this.picker.defaultTime = this.defaultTime;
      this.picker.popperClass = this.popperClass;
      this.popperElm = this.picker.$el;
      this.picker.width = this.reference.getBoundingClientRect().width;
      this.picker.showTime = this.type === 'datetime' || this.type === 'datetimerange';
      this.picker.selectionMode = this.selectionMode;
      this.picker.unlinkPanels = this.unlinkPanels;
      this.picker.arrowControl = this.arrowControl || this.timeArrowControl || false;
      this.picker.toggleAmPm = this.toggleAmPm || false;
      this.picker.minimum = this.minimum || null;
      this.unwatchPickerMin = this.$watch('minimum', minimum => {
        this.picker.minimum = minimum || null;
      });
      this.picker.maximum = this.maximum || null;
      this.unwatchPickerMax = this.$watch('maximum', maximum => {
        this.picker.maximum = maximum || null;
      });
      this.$watch('format', format => {
        this.picker.format = format;
      });
      const updateOptions = () => {
        const options = this.pickerOptions;
        if (options && options.selectableRange) {
          let ranges = options.selectableRange;
          const parser = TYPE_VALUE_RESOLVER_MAP.datetimerange.parser;
          const format = DEFAULT_FORMATS.timerange;
          ranges = Array.isArray(ranges) ? ranges : [ranges];
          this.picker.selectableRange = ranges.map(range => parser(range, format, this.rangeSeparator));
        }
        for (const option in options) {
          if (options.hasOwnProperty(option) &&
          // 忽略 time-picker 的该配置项
          option !== 'selectableRange') {
            this.picker[option] = options[option];
          }
        }

        // main format must prevail over undocumented pickerOptions.format
        if (this.format) {
          this.picker.format = this.format;
        }
      };
      updateOptions();
      this.unwatchPickerOptions = this.$watch('pickerOptions', () => updateOptions(), {
        deep: true
      });
      this.$el.appendChild(this.picker.$el);
      this.picker.resetView && this.picker.resetView();
      this.picker.$on('dodestroy', this.doDestroy);
      this.picker.$on('pick', function (date, visible) {
        if (date === void 0) {
          date = '';
        }
        if (visible === void 0) {
          visible = false;
        }
        _this.userInput = null;
        _this.pickerVisible = _this.picker.visible = visible;
        _this.emitInput(date);
        _this.picker.resetView && _this.picker.resetView();
      });
      this.picker.$on('select-range', (start, end, pos) => {
        if (this.refInput.length === 0) return;
        if (!pos || pos === 'min') {
          this.refInput[0].setSelectionRange(start, end);
          this.refInput[0].focus();
        } else if (pos === 'max') {
          this.refInput[1].setSelectionRange(start, end);
          this.refInput[1].focus();
        }
      });
    },
    unmountPicker() {
      if (this.picker) {
        this.picker.$destroy();
        this.picker.$off();
        if (typeof this.unwatchPickerOptions === 'function') {
          this.unwatchPickerOptions();
        }
        if (typeof this.unwatchPickerMin === 'function') {
          this.unwatchPickerMin();
          this.unwatchPickerMin = null;
        }
        if (typeof this.unwatchPickerMax === 'function') {
          this.unwatchPickerMax();
          this.unwatchPickerMax = null;
        }
        this.picker.$el.parentNode.removeChild(this.picker.$el);
      }
    },
    emitChange(val) {
      // determine user real change only
      if (!valueEquals(val, this.valueOnOpen)) {
        this.$emit('change', val);
        this.valueOnOpen = val;
        if (this.validateEvent) {
          this.dispatch('ElFormItem', 'el.form.change', val);
        }
      }
    },
    emitInput(val) {
      const formatted = this.formatToValue(val);
      if (!valueEquals(this.value, formatted)) {
        this.$emit('input', formatted);
      }
    },
    isValidValue(value) {
      if (!this.picker) {
        this.mountPicker();
      }
      if (this.picker.isValidValue) {
        return value && this.picker.isValidValue(value);
      } else {
        return true;
      }
    }
  }
});
// CONCATENATED MODULE: ./packages/date-picker/src/picker.vue?vue&type=script&lang=js
 /* harmony default export */ var src_pickervue_type_script_lang_js = (pickervue_type_script_lang_js); 
// EXTERNAL MODULE: C:/Users/TylerTrotter/repos/Cognito Forms/Cognito.Web.Client/node_modules/.pnpm/vue-loader@15.11.1_css-loader@5.2.7_prettier@1.18.2_vue-template-compiler@2.7.15_webpack@4.46.0/node_modules/vue-loader/lib/runtime/componentNormalizer.js
var componentNormalizer = __webpack_require__(0);

// CONCATENATED MODULE: ./packages/date-picker/src/picker.vue





/* normalize component */

var component = Object(componentNormalizer["a" /* default */])(
  src_pickervue_type_script_lang_js,
  render,
  staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* harmony default export */ var picker = __webpack_exports__["a"] = (component.exports);

/***/ }),
/* 34 */,
/* 35 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";

// CONCATENATED MODULE: C:/Users/TylerTrotter/repos/Cognito Forms/Cognito.Web.Client/node_modules/.pnpm/vue-loader@15.11.1_css-loader@5.2.7_prettier@1.18.2_vue-template-compiler@2.7.15_webpack@4.46.0/node_modules/vue-loader/lib/loaders/templateLoader.js??ref--5!C:/Users/TylerTrotter/repos/Cognito Forms/Cognito.Web.Client/node_modules/.pnpm/vue-loader@15.11.1_css-loader@5.2.7_prettier@1.18.2_vue-template-compiler@2.7.15_webpack@4.46.0/node_modules/vue-loader/lib??vue-loader-options!./packages/date-picker/src/basic/time-spinner.vue?vue&type=template&id=24c3967c
var render = function render() {
  var _vm = this,
    _c = _vm._self._c
  return _c(
    "div",
    {
      staticClass: "el-time-spinner",
      class: { "has-seconds": _vm.showSeconds, "has-am-pm": _vm.showAmPm }
    },
    [
      !_vm.arrowControl
        ? [
            _c(
              "el-scrollbar",
              {
                ref: "hours",
                staticClass: "el-time-spinner__wrapper",
                attrs: {
                  "wrap-style": "max-height: inherit;",
                  "view-class": "el-time-spinner__list",
                  noresize: "",
                  tag: "ul"
                },
                nativeOn: {
                  mouseenter: function($event) {
                    return _vm.emitSelectRange("hours")
                  },
                  mousemove: function($event) {
                    return _vm.adjustCurrentSpinner("hours")
                  }
                }
              },
              _vm._l(_vm.hoursList, function(disabled, hour) {
                return _c(
                  "li",
                  {
                    key: hour,
                    staticClass: "el-time-spinner__item",
                    class: {
                      active: hour === _vm.hours,
                      "is-disabled": disabled
                    },
                    on: {
                      click: function($event) {
                        return _vm.handleClick("hours", {
                          value: hour,
                          disabled: disabled
                        })
                      }
                    }
                  },
                  [
                    _vm._v(
                      _vm._s(_vm.formatListItem("hours", hour)) +
                        _vm._s(_vm.getAmPm(hour, { prefix: " " }))
                    )
                  ]
                )
              }),
              0
            ),
            _c(
              "el-scrollbar",
              {
                ref: "minutes",
                staticClass: "el-time-spinner__wrapper",
                attrs: {
                  "wrap-style": "max-height: inherit;",
                  "view-class": "el-time-spinner__list",
                  noresize: "",
                  tag: "ul"
                },
                nativeOn: {
                  mouseenter: function($event) {
                    return _vm.emitSelectRange("minutes")
                  },
                  mousemove: function($event) {
                    return _vm.adjustCurrentSpinner("minutes")
                  }
                }
              },
              _vm._l(_vm.minutesList, function(enabled, key) {
                return _c(
                  "li",
                  {
                    key: key,
                    staticClass: "el-time-spinner__item",
                    class: {
                      active: key === _vm.minutes,
                      "is-disabled": !enabled
                    },
                    on: {
                      click: function($event) {
                        return _vm.handleClick("minutes", {
                          value: key,
                          disabled: false
                        })
                      }
                    }
                  },
                  [_vm._v(_vm._s(_vm.formatListItem("minutes", key)))]
                )
              }),
              0
            ),
            _c(
              "el-scrollbar",
              {
                directives: [
                  {
                    name: "show",
                    rawName: "v-show",
                    value: _vm.showSeconds,
                    expression: "showSeconds"
                  }
                ],
                ref: "seconds",
                staticClass: "el-time-spinner__wrapper",
                attrs: {
                  "wrap-style": "max-height: inherit;",
                  "view-class": "el-time-spinner__list",
                  noresize: "",
                  tag: "ul"
                },
                nativeOn: {
                  mouseenter: function($event) {
                    return _vm.emitSelectRange("seconds")
                  },
                  mousemove: function($event) {
                    return _vm.adjustCurrentSpinner("seconds")
                  }
                }
              },
              _vm._l(60, function(second, key) {
                return _c(
                  "li",
                  {
                    key: key,
                    staticClass: "el-time-spinner__item",
                    class: { active: key === _vm.seconds },
                    on: {
                      click: function($event) {
                        return _vm.handleClick("seconds", {
                          value: key,
                          disabled: false
                        })
                      }
                    }
                  },
                  [_vm._v(_vm._s(_vm.formatListItem("seconds", key)))]
                )
              }),
              0
            ),
            _c(
              "el-scrollbar",
              {
                directives: [
                  {
                    name: "show",
                    rawName: "v-show",
                    value: _vm.showAmPm,
                    expression: "showAmPm"
                  }
                ],
                ref: "amPm",
                staticClass: "el-time-spinner__wrapper",
                attrs: {
                  "wrap-style": "max-height: inherit;",
                  "view-class": "el-time-spinner__list",
                  noresize: "",
                  tag: "ul"
                },
                nativeOn: {
                  mouseenter: function($event) {
                    return _vm.emitSelectRange("amPm")
                  },
                  mousemove: function($event) {
                    return _vm.adjustCurrentSpinner("amPm")
                  }
                }
              },
              _vm._l(_vm.amPmList, function(value, key) {
                return _c(
                  "li",
                  {
                    key: key,
                    staticClass: "el-time-spinner__item",
                    class: { active: key === _vm.amPm },
                    on: {
                      click: function($event) {
                        return _vm.handleClick("amPm", {
                          value: key,
                          disabled: false
                        })
                      }
                    }
                  },
                  [_vm._v(_vm._s(_vm.formatListItem("amPm", key)))]
                )
              }),
              0
            )
          ]
        : _vm._e(),
      _vm.arrowControl
        ? [
            _c(
              "div",
              {
                staticClass: "el-time-spinner__wrapper is-arrow",
                on: {
                  mouseenter: function($event) {
                    return _vm.emitSelectRange("hours")
                  }
                }
              },
              [
                _c("i", {
                  directives: [
                    {
                      name: "repeat-click",
                      rawName: "v-repeat-click",
                      value: _vm.decrease,
                      expression: "decrease"
                    }
                  ],
                  staticClass: "el-time-spinner__arrow el-icon-arrow-up"
                }),
                _c("i", {
                  directives: [
                    {
                      name: "repeat-click",
                      rawName: "v-repeat-click",
                      value: _vm.increase,
                      expression: "increase"
                    }
                  ],
                  staticClass: "el-time-spinner__arrow el-icon-arrow-down"
                }),
                _c(
                  "ul",
                  { ref: "hours", staticClass: "el-time-spinner__list" },
                  _vm._l(_vm.arrowHourList, function(hour, key) {
                    return _c(
                      "li",
                      {
                        key: key,
                        staticClass: "el-time-spinner__item",
                        class: {
                          active: hour === _vm.hours,
                          "is-disabled": _vm.hoursList[hour]
                        }
                      },
                      [
                        _vm._v(
                          _vm._s(
                            hour === undefined
                              ? ""
                              : _vm.formatListItem("hours", hour) +
                                  (_vm.showAmPm
                                    ? ""
                                    : _vm.getAmPm(hour, { prefix: " " }))
                          )
                        )
                      ]
                    )
                  }),
                  0
                )
              ]
            ),
            _c(
              "div",
              {
                staticClass: "el-time-spinner__wrapper is-arrow",
                on: {
                  mouseenter: function($event) {
                    return _vm.emitSelectRange("minutes")
                  }
                }
              },
              [
                _c("i", {
                  directives: [
                    {
                      name: "repeat-click",
                      rawName: "v-repeat-click",
                      value: _vm.decrease,
                      expression: "decrease"
                    }
                  ],
                  staticClass: "el-time-spinner__arrow el-icon-arrow-up"
                }),
                _c("i", {
                  directives: [
                    {
                      name: "repeat-click",
                      rawName: "v-repeat-click",
                      value: _vm.increase,
                      expression: "increase"
                    }
                  ],
                  staticClass: "el-time-spinner__arrow el-icon-arrow-down"
                }),
                _c(
                  "ul",
                  { ref: "minutes", staticClass: "el-time-spinner__list" },
                  _vm._l(_vm.arrowMinuteList, function(minute, key) {
                    return _c(
                      "li",
                      {
                        key: key,
                        staticClass: "el-time-spinner__item",
                        class: { active: minute === _vm.minutes }
                      },
                      [
                        _vm._v(
                          "\n          " +
                            _vm._s(
                              minute === undefined
                                ? ""
                                : _vm.formatListItem("minutes", minute)
                            ) +
                            "\n        "
                        )
                      ]
                    )
                  }),
                  0
                )
              ]
            ),
            _vm.showSeconds
              ? _c(
                  "div",
                  {
                    staticClass: "el-time-spinner__wrapper is-arrow",
                    on: {
                      mouseenter: function($event) {
                        return _vm.emitSelectRange("seconds")
                      }
                    }
                  },
                  [
                    _c("i", {
                      directives: [
                        {
                          name: "repeat-click",
                          rawName: "v-repeat-click",
                          value: _vm.decrease,
                          expression: "decrease"
                        }
                      ],
                      staticClass: "el-time-spinner__arrow el-icon-arrow-up"
                    }),
                    _c("i", {
                      directives: [
                        {
                          name: "repeat-click",
                          rawName: "v-repeat-click",
                          value: _vm.increase,
                          expression: "increase"
                        }
                      ],
                      staticClass: "el-time-spinner__arrow el-icon-arrow-down"
                    }),
                    _c(
                      "ul",
                      { ref: "seconds", staticClass: "el-time-spinner__list" },
                      _vm._l(_vm.arrowSecondList, function(second, key) {
                        return _c(
                          "li",
                          {
                            key: key,
                            staticClass: "el-time-spinner__item",
                            class: { active: second === _vm.seconds }
                          },
                          [
                            _vm._v(
                              "\n          " +
                                _vm._s(
                                  second === undefined
                                    ? ""
                                    : _vm.formatListItem("seconds", second)
                                ) +
                                "\n        "
                            )
                          ]
                        )
                      }),
                      0
                    )
                  ]
                )
              : _vm._e(),
            _vm.showAmPm
              ? _c(
                  "div",
                  {
                    staticClass: "el-time-spinner__wrapper is-arrow",
                    on: {
                      mouseenter: function($event) {
                        return _vm.emitSelectRange("amPm")
                      }
                    }
                  },
                  [
                    _c("i", {
                      directives: [
                        {
                          name: "repeat-click",
                          rawName: "v-repeat-click",
                          value: _vm.decrease,
                          expression: "decrease"
                        }
                      ],
                      staticClass: "el-time-spinner__arrow el-icon-arrow-up"
                    }),
                    _c("i", {
                      directives: [
                        {
                          name: "repeat-click",
                          rawName: "v-repeat-click",
                          value: _vm.increase,
                          expression: "increase"
                        }
                      ],
                      staticClass: "el-time-spinner__arrow el-icon-arrow-down"
                    }),
                    _c(
                      "ul",
                      { ref: "amPm", staticClass: "el-time-spinner__list" },
                      _vm._l(_vm.arrowAmPmList, function(amOrPm, key) {
                        return _c(
                          "li",
                          {
                            key: key,
                            staticClass: "el-time-spinner__item",
                            class: { active: amOrPm === _vm.amPm }
                          },
                          [
                            _vm._v(
                              "\n          " +
                                _vm._s(
                                  amOrPm === undefined
                                    ? ""
                                    : _vm.formatListItem("amPm", amOrPm)
                                ) +
                                "\n        "
                            )
                          ]
                        )
                      }),
                      0
                    )
                  ]
                )
              : _vm._e()
          ]
        : _vm._e()
    ],
    2
  )
}
var staticRenderFns = []
render._withStripped = true


// CONCATENATED MODULE: ./packages/date-picker/src/basic/time-spinner.vue?vue&type=template&id=24c3967c

// EXTERNAL MODULE: external "./utils/date-util"
var date_util_ = __webpack_require__(1);

// EXTERNAL MODULE: external "./scrollbar"
var external_scrollbar_ = __webpack_require__(15);
var external_scrollbar_default = /*#__PURE__*/__webpack_require__.n(external_scrollbar_);

// EXTERNAL MODULE: external "@cognitoforms/element-ui/src/directives/repeat-click"
var repeat_click_ = __webpack_require__(30);
var repeat_click_default = /*#__PURE__*/__webpack_require__.n(repeat_click_);

// CONCATENATED MODULE: C:/Users/TylerTrotter/repos/Cognito Forms/Cognito.Web.Client/node_modules/.pnpm/babel-loader@8.3.0_@babel+core@7.25.2_webpack@4.46.0/node_modules/babel-loader/lib!C:/Users/TylerTrotter/repos/Cognito Forms/Cognito.Web.Client/node_modules/.pnpm/vue-loader@15.11.1_css-loader@5.2.7_prettier@1.18.2_vue-template-compiler@2.7.15_webpack@4.46.0/node_modules/vue-loader/lib??vue-loader-options!./packages/date-picker/src/basic/time-spinner.vue?vue&type=script&lang=js



/* harmony default export */ var time_spinnervue_type_script_lang_js = ({
  components: {
    ElScrollbar: external_scrollbar_default.a
  },
  directives: {
    repeatClick: repeat_click_default.a
  },
  props: {
    date: {},
    defaultValue: {},
    // reserved for future use
    showSeconds: {
      type: Boolean,
      default: true
    },
    showAmPm: {
      type: Boolean,
      default: false
    },
    arrowControl: Boolean,
    amPmMode: {
      type: String,
      default: '' // 'a': am/pm; 'A': AM/PM
    },
    twelveHourClock: Boolean,
    zeroPadHour: Boolean
  },
  computed: {
    hours() {
      return this.date.getHours();
    },
    minutes() {
      return this.date.getMinutes();
    },
    seconds() {
      return this.date.getSeconds();
    },
    amPm() {
      return this.date.getHours() >= 12 ? 1 : 0;
    },
    hoursList() {
      return Object(date_util_["getRangeHours"])(this.selectableRange);
    },
    minutesList() {
      return Object(date_util_["getRangeMinutes"])(this.selectableRange, this.hours);
    },
    amPmList() {
      return [0, 1];
    },
    arrowHourList() {
      const hours = this.hours;
      // Only show 12 hours if toggling AM/PM
      const minHour = this.showAmPm ? this.amPm ? 12 : 0 : 0;
      const maxHour = this.showAmPm ? this.amPm ? 23 : 11 : 23;
      return [hours > minHour ? hours - 1 : undefined, hours, hours < maxHour ? hours + 1 : undefined];
    },
    arrowMinuteList() {
      const minutes = this.minutes;
      return [minutes > 0 ? minutes - 1 : undefined, minutes, minutes < 59 ? minutes + 1 : undefined];
    },
    arrowSecondList() {
      const seconds = this.seconds;
      return [seconds > 0 ? seconds - 1 : undefined, seconds, seconds < 59 ? seconds + 1 : undefined];
    },
    arrowAmPmList() {
      var list = this.amPmMode ? [0, 1] : [];
      // Since there are only two options for AM/PM, prepend or append
      // a blank option depending on what is currently selected
      if (list.length) {
        if (this.amPm) {
          list.push(undefined);
        } else {
          list.splice(0, 0, undefined);
        }
      }
      return list;
    }
  },
  data() {
    return {
      selectableRange: [],
      currentScrollbar: null
    };
  },
  mounted() {
    this.$nextTick(() => {
      !this.arrowControl && this.bindScrollEvent();
    });
  },
  methods: {
    increase() {
      this.scrollDown(1);
    },
    decrease() {
      this.scrollDown(-1);
    },
    modifyDateField(type, value) {
      switch (type) {
        case 'hours':
          this.$emit('change', Object(date_util_["modifyTime"])(this.date, value, this.minutes, this.seconds));
          break;
        case 'minutes':
          this.$emit('change', Object(date_util_["modifyTime"])(this.date, this.hours, value, this.seconds));
          break;
        case 'seconds':
          this.$emit('change', Object(date_util_["modifyTime"])(this.date, this.hours, this.minutes, value));
          break;
        case 'amPm':
          this.$emit('change', Object(date_util_["modifyTime"])(this.date, this.hours % 12 + (value ? 12 : 0), this.minutes, this.seconds));
          break;
      }
    },
    handleClick(type, _ref) {
      let {
        value,
        disabled
      } = _ref;
      if (!disabled) {
        this.modifyDateField(type, value);
        this.emitSelectRange(type);
        this.adjustSpinner(type, value);
      }
    },
    formatListItem(type, value) {
      let text;
      if (type === 'hours') {
        text = ('0' + (this.twelveHourClock ? value % 12 || 12 : value)).slice(-2);
        if (!this.zeroPadHour) {
          text = text.replace(/^0/, '');
        }
      } else if (type === 'minutes') {
        text = ('0' + value).slice(-2);
      } else if (type === 'seconds') {
        text = ('0' + value).slice(-2);
      } else if (type === 'amPm') {
        text = value ? this.getAmPm(12) : this.getAmPm(0);
      } else {
        text = value + '';
      }
      return text;
    },
    emitSelectRange(type) {
      const hoursLen = !this.zeroPadHour && (this.twelveHourClock ? this.date.getHours() % 12 || 12 : this.date.getHours()) < 10 ? 1 : 2;
      const secondsOffset = this.showSeconds ? 3 : 0;
      if (type === 'hours') {
        this.$emit('select-range', 0, hoursLen);
      } else if (type === 'minutes') {
        this.$emit('select-range', 3 - (2 - hoursLen), 5 - (2 - hoursLen));
      } else if (type === 'seconds') {
        this.$emit('select-range', 6 - (2 - hoursLen), 8 - (2 - hoursLen));
      } else if (type === 'amPm') {
        this.$emit('select-range', 6 + secondsOffset - (2 - hoursLen), 8 + secondsOffset - (2 - hoursLen));
      }
      this.currentScrollbar = type;
    },
    bindScrollEvent() {
      const bindFuntion = type => {
        this.$refs[type].wrap.onscroll = e => {
          // TODO: scroll is emitted when set scrollTop programatically
          // should find better solutions in the future!
          this.handleScroll(type, e);
        };
      };
      bindFuntion('hours');
      bindFuntion('minutes');
      bindFuntion('seconds');
      bindFuntion('amPm');
    },
    handleScroll(type) {
      const value = Math.min(Math.round((this.$refs[type].wrap.scrollTop - (this.scrollBarHeight(type) * 0.5 - 10) / this.typeItemHeight(type) + 3) / this.typeItemHeight(type)), type === 'hours' ? 23 : 59);
      this.modifyDateField(type, value);
    },
    // NOTE: used by datetime / date-range panel
    //       renamed from adjustScrollTop
    //       should try to refactory it
    adjustSpinners() {
      this.adjustSpinner('hours', this.hours);
      this.adjustSpinner('minutes', this.minutes);
      this.adjustSpinner('seconds', this.seconds);
      this.adjustSpinner('amPm', this.amPm);
    },
    adjustCurrentSpinner(type) {
      this.adjustSpinner(type, this[type]);
    },
    adjustSpinner(type, value) {
      if (this.arrowControl) return;
      const el = this.$refs[type].wrap;
      if (el) {
        el.scrollTop = Math.max(0, value * this.typeItemHeight(type));
      }
    },
    scrollDown(step) {
      if (!this.currentScrollbar) {
        this.emitSelectRange('hours');
      }
      var label = this.currentScrollbar;
      const hoursList = this.hoursList;
      let now = this[label];
      if (label === 'amPm') {
        if (now === 0) {
          step = 12;
          label = 'hours';
          now = this.hours;
        } else if (now === 1) {
          step = -12;
          label = 'hours';
          now = this.hours;
        } else {
          return;
        }
      }
      if (label === 'hours') {
        let total = Math.abs(step);
        step = step > 0 ? 1 : -1;
        let length = hoursList.length;
        while (length-- && total) {
          now = (now + step + hoursList.length) % hoursList.length;
          if (hoursList[now]) {
            continue;
          }
          total--;
        }
        if (hoursList[now]) return;
      } else {
        now = (now + step + 60) % 60;
      }
      this.modifyDateField(label, now);
      this.adjustSpinner(label, now);
      this.$nextTick(() => this.emitSelectRange(this.currentScrollbar));
    },
    getAmPm(hour, options) {
      const prefix = options && typeof options.prefix === 'string' ? options.prefix : '';
      let shouldShowAmPm = this.amPmMode.toLowerCase() === 'a';
      if (!shouldShowAmPm) return '';
      let isCapital = this.amPmMode === 'A';
      const i18n = Object(date_util_["getI18nSettings"])();
      let content = hour < 12 ? i18n.amPm[0] || 'am' : i18n.amPm[1] || 'pm';
      if (isCapital) {
        content = content.toUpperCase();
      } else {
        content = content.toLowerCase();
      }
      return prefix + content;
    },
    typeItemHeight(type) {
      return this.$refs[type].$el.querySelector('li').offsetHeight;
    },
    scrollBarHeight(type) {
      return this.$refs[type].$el.offsetHeight;
    }
  }
});
// CONCATENATED MODULE: ./packages/date-picker/src/basic/time-spinner.vue?vue&type=script&lang=js
 /* harmony default export */ var basic_time_spinnervue_type_script_lang_js = (time_spinnervue_type_script_lang_js); 
// EXTERNAL MODULE: C:/Users/TylerTrotter/repos/Cognito Forms/Cognito.Web.Client/node_modules/.pnpm/vue-loader@15.11.1_css-loader@5.2.7_prettier@1.18.2_vue-template-compiler@2.7.15_webpack@4.46.0/node_modules/vue-loader/lib/runtime/componentNormalizer.js
var componentNormalizer = __webpack_require__(0);

// CONCATENATED MODULE: ./packages/date-picker/src/basic/time-spinner.vue





/* normalize component */

var component = Object(componentNormalizer["a" /* default */])(
  basic_time_spinnervue_type_script_lang_js,
  render,
  staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* harmony default export */ var time_spinner = __webpack_exports__["a"] = (component.exports);

/***/ }),
/* 36 */,
/* 37 */,
/* 38 */,
/* 39 */,
/* 40 */,
/* 41 */,
/* 42 */,
/* 43 */,
/* 44 */,
/* 45 */,
/* 46 */,
/* 47 */,
/* 48 */,
/* 49 */,
/* 50 */,
/* 51 */,
/* 52 */,
/* 53 */,
/* 54 */,
/* 55 */,
/* 56 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__);

// EXTERNAL MODULE: ./packages/date-picker/src/picker.vue + 4 modules
var picker = __webpack_require__(33);

// CONCATENATED MODULE: C:/Users/TylerTrotter/repos/Cognito Forms/Cognito.Web.Client/node_modules/.pnpm/vue-loader@15.11.1_css-loader@5.2.7_prettier@1.18.2_vue-template-compiler@2.7.15_webpack@4.46.0/node_modules/vue-loader/lib/loaders/templateLoader.js??ref--5!C:/Users/TylerTrotter/repos/Cognito Forms/Cognito.Web.Client/node_modules/.pnpm/vue-loader@15.11.1_css-loader@5.2.7_prettier@1.18.2_vue-template-compiler@2.7.15_webpack@4.46.0/node_modules/vue-loader/lib??vue-loader-options!./packages/date-picker/src/panel/date.vue?vue&type=template&id=262e3155
var render = function render() {
  var _vm = this,
    _c = _vm._self._c
  return _c(
    "transition",
    {
      attrs: { name: "el-zoom-in-top" },
      on: { "after-enter": _vm.handleEnter, "after-leave": _vm.handleLeave }
    },
    [
      _c(
        "div",
        {
          directives: [
            {
              name: "show",
              rawName: "v-show",
              value: _vm.visible,
              expression: "visible"
            }
          ],
          staticClass: "el-picker-panel el-date-picker el-popper",
          class: [
            {
              "has-sidebar": _vm.$slots.sidebar || _vm.shortcuts,
              "has-time": _vm.showTime
            },
            _vm.popperClass
          ],
          on: { mousedown: _vm.handleMousedown }
        },
        [
          _c(
            "div",
            { staticClass: "el-picker-panel__body-wrapper" },
            [
              _vm._t("sidebar"),
              _vm.shortcuts
                ? _c(
                    "div",
                    { staticClass: "el-picker-panel__sidebar" },
                    _vm._l(_vm.shortcuts, function(shortcut, key) {
                      return _c(
                        "button",
                        {
                          key: key,
                          staticClass: "el-picker-panel__shortcut",
                          attrs: { type: "button" },
                          on: {
                            click: function($event) {
                              return _vm.handleShortcutClick(shortcut)
                            }
                          }
                        },
                        [_vm._v(_vm._s(shortcut.text))]
                      )
                    }),
                    0
                  )
                : _vm._e(),
              _c("div", { staticClass: "el-picker-panel__body" }, [
                _vm.showTime
                  ? _c("div", { staticClass: "el-date-picker__time-header" }, [
                      _c(
                        "span",
                        { staticClass: "el-date-picker__editor-wrap" },
                        [
                          _c("el-input", {
                            attrs: {
                              placeholder: _vm.t("el.datepicker.selectDate"),
                              value: _vm.visibleDate,
                              size: "small"
                            },
                            on: {
                              input: val => (_vm.userInputDate = val),
                              change: _vm.handleVisibleDateChange
                            }
                          })
                        ],
                        1
                      ),
                      _c(
                        "span",
                        {
                          directives: [
                            {
                              name: "clickoutside",
                              rawName: "v-clickoutside",
                              value: _vm.handleTimePickClose,
                              expression: "handleTimePickClose"
                            }
                          ],
                          staticClass: "el-date-picker__editor-wrap"
                        },
                        [
                          _c("el-input", {
                            ref: "input",
                            attrs: {
                              placeholder: _vm.t("el.datepicker.selectTime"),
                              value: _vm.visibleTime,
                              size: "small"
                            },
                            on: {
                              focus: function($event) {
                                _vm.timePickerVisible = true
                              },
                              input: val => (_vm.userInputTime = val),
                              change: _vm.handleVisibleTimeChange
                            }
                          }),
                          _c("time-picker", {
                            ref: "timepicker",
                            attrs: {
                              "time-arrow-control": _vm.arrowControl,
                              visible: _vm.timePickerVisible
                            },
                            on: {
                              pick: _vm.handleTimePick,
                              mounted: _vm.proxyTimePickerDataProperties
                            }
                          })
                        ],
                        1
                      )
                    ])
                  : _vm._e(),
                _c(
                  "div",
                  {
                    directives: [
                      {
                        name: "show",
                        rawName: "v-show",
                        value: _vm.currentView !== "time",
                        expression: "currentView !== 'time'"
                      }
                    ],
                    staticClass: "el-date-picker__header",
                    class: {
                      "el-date-picker__header--bordered":
                        _vm.currentView === "year" ||
                        _vm.currentView === "month"
                    }
                  },
                  [
                    _c("button", {
                      staticClass:
                        "el-picker-panel__icon-btn el-date-picker__prev-btn el-icon-d-arrow-left",
                      class: { disabled: !_vm.canSelectPrevYear },
                      attrs: {
                        type: "button",
                        "aria-label": _vm.t(`el.datepicker.prevYear`)
                      },
                      on: {
                        click: _vm.prevYear,
                        mousedown: _vm.prevYearMousedown
                      }
                    }),
                    _c("button", {
                      directives: [
                        {
                          name: "show",
                          rawName: "v-show",
                          value: _vm.currentView === "date",
                          expression: "currentView === 'date'"
                        }
                      ],
                      staticClass:
                        "el-picker-panel__icon-btn el-date-picker__prev-btn el-icon-arrow-left",
                      class: { disabled: !_vm.canSelectPrevMonth },
                      attrs: {
                        type: "button",
                        "aria-label": _vm.t(`el.datepicker.prevMonth`)
                      },
                      on: {
                        click: _vm.prevMonth,
                        mousedown: _vm.prevMonthMousedown
                      }
                    }),
                    _c(
                      "span",
                      {
                        staticClass: "el-date-picker__header-label",
                        attrs: { role: "button" },
                        on: { click: _vm.showYearPicker }
                      },
                      [_vm._v(_vm._s(_vm.yearLabel))]
                    ),
                    _c(
                      "span",
                      {
                        directives: [
                          {
                            name: "show",
                            rawName: "v-show",
                            value: _vm.currentView === "date",
                            expression: "currentView === 'date'"
                          }
                        ],
                        staticClass: "el-date-picker__header-label",
                        class: { active: _vm.currentView === "month" },
                        attrs: { role: "button" },
                        on: { click: _vm.showMonthPicker }
                      },
                      [
                        _vm._v(
                          _vm._s(_vm.t(`el.datepicker.month${_vm.month + 1}`))
                        )
                      ]
                    ),
                    _c("button", {
                      staticClass:
                        "el-picker-panel__icon-btn el-date-picker__next-btn el-icon-d-arrow-right",
                      class: { disabled: !_vm.canSelectNextYear },
                      attrs: {
                        type: "button",
                        "aria-label": _vm.t(`el.datepicker.nextYear`)
                      },
                      on: {
                        click: _vm.nextYear,
                        mousedown: _vm.nextYearMousedown
                      }
                    }),
                    _c("button", {
                      directives: [
                        {
                          name: "show",
                          rawName: "v-show",
                          value: _vm.currentView === "date",
                          expression: "currentView === 'date'"
                        }
                      ],
                      staticClass:
                        "el-picker-panel__icon-btn el-date-picker__next-btn el-icon-arrow-right",
                      class: { disabled: !_vm.canSelectNextMonth },
                      attrs: {
                        type: "button",
                        "aria-label": _vm.t(`el.datepicker.nextMonth`)
                      },
                      on: {
                        click: _vm.nextMonth,
                        mousedown: _vm.nextMonthMousedown
                      }
                    })
                  ]
                ),
                _c(
                  "div",
                  { staticClass: "el-picker-panel__content" },
                  [
                    _c("date-table", {
                      directives: [
                        {
                          name: "show",
                          rawName: "v-show",
                          value: _vm.currentView === "date",
                          expression: "currentView === 'date'"
                        }
                      ],
                      attrs: {
                        "selection-mode": _vm.selectionMode,
                        "first-day-of-week": _vm.firstDayOfWeek,
                        value: _vm.value,
                        "default-value": _vm.defaultValue
                          ? new Date(_vm.defaultValue)
                          : null,
                        date: _vm.date,
                        "cell-class-name": _vm.cellClassName,
                        "disabled-date":
                          _vm.disabledDate ||
                          (_vm.minimum || _vm.maximum ? _vm.dateOutOfRange : "")
                      },
                      on: { pick: _vm.handleDatePick }
                    }),
                    _c("year-table", {
                      directives: [
                        {
                          name: "show",
                          rawName: "v-show",
                          value: _vm.currentView === "year",
                          expression: "currentView === 'year'"
                        }
                      ],
                      attrs: {
                        value: _vm.value,
                        "default-value": _vm.defaultValue
                          ? new Date(_vm.defaultValue)
                          : null,
                        date: _vm.date,
                        "disabled-date":
                          _vm.disabledDate ||
                          (_vm.minimum || _vm.maximum ? _vm.dateOutOfRange : "")
                      },
                      on: { pick: _vm.handleYearPick }
                    }),
                    _c("month-table", {
                      directives: [
                        {
                          name: "show",
                          rawName: "v-show",
                          value: _vm.currentView === "month",
                          expression: "currentView === 'month'"
                        }
                      ],
                      attrs: {
                        value: _vm.value,
                        "default-value": _vm.defaultValue
                          ? new Date(_vm.defaultValue)
                          : null,
                        date: _vm.date,
                        "disabled-date":
                          _vm.disabledDate ||
                          (_vm.minimum || _vm.maximum ? _vm.dateOutOfRange : "")
                      },
                      on: { pick: _vm.handleMonthPick }
                    })
                  ],
                  1
                )
              ])
            ],
            2
          ),
          _c(
            "div",
            {
              directives: [
                {
                  name: "show",
                  rawName: "v-show",
                  value: _vm.footerVisible && _vm.currentView === "date",
                  expression: "footerVisible && currentView === 'date'"
                }
              ],
              staticClass: "el-picker-panel__footer"
            },
            [
              _c(
                "el-button",
                {
                  directives: [
                    {
                      name: "show",
                      rawName: "v-show",
                      value: _vm.selectionMode !== "dates",
                      expression: "selectionMode !== 'dates'"
                    }
                  ],
                  staticClass: "el-picker-panel__link-btn",
                  attrs: { size: "mini", type: "text" },
                  on: { click: _vm.changeToNow }
                },
                [
                  _vm._v(
                    "\n        " +
                      _vm._s(_vm.t("el.datepicker.now")) +
                      "\n      "
                  )
                ]
              ),
              _c(
                "el-button",
                {
                  staticClass: "el-picker-panel__link-btn",
                  attrs: { plain: "", size: "mini" },
                  on: { click: _vm.confirm }
                },
                [
                  _vm._v(
                    "\n        " +
                      _vm._s(_vm.t("el.datepicker.confirm")) +
                      "\n      "
                  )
                ]
              )
            ],
            1
          )
        ]
      )
    ]
  )
}
var staticRenderFns = []
render._withStripped = true


// CONCATENATED MODULE: ./packages/date-picker/src/panel/date.vue?vue&type=template&id=262e3155

// EXTERNAL MODULE: external "./utils/date-util"
var date_util_ = __webpack_require__(1);

// EXTERNAL MODULE: external "./utils/clickoutside"
var clickoutside_ = __webpack_require__(12);
var clickoutside_default = /*#__PURE__*/__webpack_require__.n(clickoutside_);

// EXTERNAL MODULE: external "./mixins/locale"
var locale_ = __webpack_require__(7);
var locale_default = /*#__PURE__*/__webpack_require__.n(locale_);

// EXTERNAL MODULE: external "./input"
var external_input_ = __webpack_require__(9);
var external_input_default = /*#__PURE__*/__webpack_require__.n(external_input_);

// EXTERNAL MODULE: external "./button"
var external_button_ = __webpack_require__(14);
var external_button_default = /*#__PURE__*/__webpack_require__.n(external_button_);

// EXTERNAL MODULE: ./packages/date-picker/src/panel/time.vue + 4 modules
var panel_time = __webpack_require__(27);

// CONCATENATED MODULE: C:/Users/TylerTrotter/repos/Cognito Forms/Cognito.Web.Client/node_modules/.pnpm/vue-loader@15.11.1_css-loader@5.2.7_prettier@1.18.2_vue-template-compiler@2.7.15_webpack@4.46.0/node_modules/vue-loader/lib/loaders/templateLoader.js??ref--5!C:/Users/TylerTrotter/repos/Cognito Forms/Cognito.Web.Client/node_modules/.pnpm/vue-loader@15.11.1_css-loader@5.2.7_prettier@1.18.2_vue-template-compiler@2.7.15_webpack@4.46.0/node_modules/vue-loader/lib??vue-loader-options!./packages/date-picker/src/basic/year-table.vue?vue&type=template&id=805f8526
var year_tablevue_type_template_id_805f8526_render = function render() {
  var _vm = this,
    _c = _vm._self._c
  return _c(
    "table",
    { staticClass: "el-year-table", on: { click: _vm.handleYearTableClick } },
    [
      _c("tbody", [
        _c("tr", [
          _c(
            "td",
            {
              staticClass: "is-selectable",
              class: _vm.getCellStyle(_vm.startYear + 0)
            },
            [
              _c("a", { staticClass: "el-date-picker__cell" }, [
                _vm._v(_vm._s(_vm.startYear))
              ])
            ]
          ),
          _c(
            "td",
            {
              staticClass: "is-selectable",
              class: _vm.getCellStyle(_vm.startYear + 1)
            },
            [
              _c("a", { staticClass: "el-date-picker__cell" }, [
                _vm._v(_vm._s(_vm.startYear + 1))
              ])
            ]
          ),
          _c(
            "td",
            {
              staticClass: "is-selectable",
              class: _vm.getCellStyle(_vm.startYear + 2)
            },
            [
              _c("a", { staticClass: "el-date-picker__cell" }, [
                _vm._v(_vm._s(_vm.startYear + 2))
              ])
            ]
          ),
          _c(
            "td",
            {
              staticClass: "is-selectable",
              class: _vm.getCellStyle(_vm.startYear + 3)
            },
            [
              _c("a", { staticClass: "el-date-picker__cell" }, [
                _vm._v(_vm._s(_vm.startYear + 3))
              ])
            ]
          )
        ]),
        _c("tr", [
          _c(
            "td",
            {
              staticClass: "is-selectable",
              class: _vm.getCellStyle(_vm.startYear + 4)
            },
            [
              _c("a", { staticClass: "el-date-picker__cell" }, [
                _vm._v(_vm._s(_vm.startYear + 4))
              ])
            ]
          ),
          _c(
            "td",
            {
              staticClass: "is-selectable",
              class: _vm.getCellStyle(_vm.startYear + 5)
            },
            [
              _c("a", { staticClass: "el-date-picker__cell" }, [
                _vm._v(_vm._s(_vm.startYear + 5))
              ])
            ]
          ),
          _c(
            "td",
            {
              staticClass: "is-selectable",
              class: _vm.getCellStyle(_vm.startYear + 6)
            },
            [
              _c("a", { staticClass: "el-date-picker__cell" }, [
                _vm._v(_vm._s(_vm.startYear + 6))
              ])
            ]
          ),
          _c(
            "td",
            {
              staticClass: "is-selectable",
              class: _vm.getCellStyle(_vm.startYear + 7)
            },
            [
              _c("a", { staticClass: "el-date-picker__cell" }, [
                _vm._v(_vm._s(_vm.startYear + 7))
              ])
            ]
          )
        ]),
        _c("tr", [
          _c(
            "td",
            {
              staticClass: "is-selectable",
              class: _vm.getCellStyle(_vm.startYear + 8)
            },
            [
              _c("a", { staticClass: "el-date-picker__cell" }, [
                _vm._v(_vm._s(_vm.startYear + 8))
              ])
            ]
          ),
          _c(
            "td",
            {
              staticClass: "is-selectable",
              class: _vm.getCellStyle(_vm.startYear + 9)
            },
            [
              _c("a", { staticClass: "el-date-picker__cell" }, [
                _vm._v(_vm._s(_vm.startYear + 9))
              ])
            ]
          ),
          _c("td"),
          _c("td")
        ])
      ])
    ]
  )
}
var year_tablevue_type_template_id_805f8526_staticRenderFns = []
year_tablevue_type_template_id_805f8526_render._withStripped = true


// CONCATENATED MODULE: ./packages/date-picker/src/basic/year-table.vue?vue&type=template&id=805f8526

// EXTERNAL MODULE: external "./utils/dom"
var dom_ = __webpack_require__(2);

// EXTERNAL MODULE: external "./utils/util"
var util_ = __webpack_require__(3);

// CONCATENATED MODULE: C:/Users/TylerTrotter/repos/Cognito Forms/Cognito.Web.Client/node_modules/.pnpm/babel-loader@8.3.0_@babel+core@7.25.2_webpack@4.46.0/node_modules/babel-loader/lib!C:/Users/TylerTrotter/repos/Cognito Forms/Cognito.Web.Client/node_modules/.pnpm/vue-loader@15.11.1_css-loader@5.2.7_prettier@1.18.2_vue-template-compiler@2.7.15_webpack@4.46.0/node_modules/vue-loader/lib??vue-loader-options!./packages/date-picker/src/basic/year-table.vue?vue&type=script&lang=js



const datesInYear = year => {
  const numOfDays = Object(date_util_["getDayCountOfYear"])(year);
  const firstDay = new Date(year, 0, 1);
  return Object(date_util_["range"])(numOfDays).map(n => Object(date_util_["nextDate"])(firstDay, n));
};
/* harmony default export */ var year_tablevue_type_script_lang_js = ({
  props: {
    disabledDate: {},
    value: {},
    defaultValue: {
      validator(val) {
        // null or valid Date Object
        return val === null || val instanceof Date && Object(date_util_["isDate"])(val);
      }
    },
    date: {}
  },
  computed: {
    startYear() {
      return Math.floor(this.date.getFullYear() / 10) * 10;
    }
  },
  methods: {
    getCellStyle(year) {
      const style = {};
      const today = new Date();
      style.disabled = typeof this.disabledDate === 'function' ? datesInYear(year).every(this.disabledDate) : false;
      style['is-selected'] = Object(util_["arrayFindIndex"])(Object(util_["coerceTruthyValueToArray"])(this.value), date => date.getFullYear() === year) >= 0;
      style['is-current'] = today.getFullYear() === year;
      style.default = this.defaultValue && this.defaultValue.getFullYear() === year;
      return style;
    },
    handleYearTableClick(event) {
      const target = event.target;
      if (target.tagName === 'A') {
        if (Object(dom_["hasClass"])(target.parentNode, 'disabled')) return;
        const year = target.textContent || target.innerText;
        this.$emit('pick', Number(year));
      }
    }
  }
});
// CONCATENATED MODULE: ./packages/date-picker/src/basic/year-table.vue?vue&type=script&lang=js
 /* harmony default export */ var basic_year_tablevue_type_script_lang_js = (year_tablevue_type_script_lang_js); 
// EXTERNAL MODULE: C:/Users/TylerTrotter/repos/Cognito Forms/Cognito.Web.Client/node_modules/.pnpm/vue-loader@15.11.1_css-loader@5.2.7_prettier@1.18.2_vue-template-compiler@2.7.15_webpack@4.46.0/node_modules/vue-loader/lib/runtime/componentNormalizer.js
var componentNormalizer = __webpack_require__(0);

// CONCATENATED MODULE: ./packages/date-picker/src/basic/year-table.vue





/* normalize component */

var component = Object(componentNormalizer["a" /* default */])(
  basic_year_tablevue_type_script_lang_js,
  year_tablevue_type_template_id_805f8526_render,
  year_tablevue_type_template_id_805f8526_staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* harmony default export */ var year_table = (component.exports);
// CONCATENATED MODULE: C:/Users/TylerTrotter/repos/Cognito Forms/Cognito.Web.Client/node_modules/.pnpm/vue-loader@15.11.1_css-loader@5.2.7_prettier@1.18.2_vue-template-compiler@2.7.15_webpack@4.46.0/node_modules/vue-loader/lib/loaders/templateLoader.js??ref--5!C:/Users/TylerTrotter/repos/Cognito Forms/Cognito.Web.Client/node_modules/.pnpm/vue-loader@15.11.1_css-loader@5.2.7_prettier@1.18.2_vue-template-compiler@2.7.15_webpack@4.46.0/node_modules/vue-loader/lib??vue-loader-options!./packages/date-picker/src/basic/month-table.vue?vue&type=template&id=5fbba121
var month_tablevue_type_template_id_5fbba121_render = function render() {
  var _vm = this,
    _c = _vm._self._c
  return _c(
    "table",
    {
      staticClass: "el-month-table",
      on: { click: _vm.handleMonthTableClick, mousemove: _vm.handleMouseMove }
    },
    [
      _c(
        "tbody",
        _vm._l(_vm.rows, function(row, key) {
          return _c(
            "tr",
            { key: key },
            _vm._l(row, function(cell, key) {
              return _c("td", { key: key, class: _vm.getCellStyle(cell) }, [
                _c("div", [
                  _c("a", { staticClass: "el-date-picker__cell" }, [
                    _vm._v(
                      _vm._s(
                        _vm.t("el.datepicker.months." + _vm.months[cell.text])
                      )
                    )
                  ])
                ])
              ])
            }),
            0
          )
        }),
        0
      )
    ]
  )
}
var month_tablevue_type_template_id_5fbba121_staticRenderFns = []
month_tablevue_type_template_id_5fbba121_render._withStripped = true


// CONCATENATED MODULE: ./packages/date-picker/src/basic/month-table.vue?vue&type=template&id=5fbba121

// CONCATENATED MODULE: C:/Users/TylerTrotter/repos/Cognito Forms/Cognito.Web.Client/node_modules/.pnpm/babel-loader@8.3.0_@babel+core@7.25.2_webpack@4.46.0/node_modules/babel-loader/lib!C:/Users/TylerTrotter/repos/Cognito Forms/Cognito.Web.Client/node_modules/.pnpm/vue-loader@15.11.1_css-loader@5.2.7_prettier@1.18.2_vue-template-compiler@2.7.15_webpack@4.46.0/node_modules/vue-loader/lib??vue-loader-options!./packages/date-picker/src/basic/month-table.vue?vue&type=script&lang=js




const datesInMonth = (year, month) => {
  const numOfDays = Object(date_util_["getDayCountOfMonth"])(year, month);
  const firstDay = new Date(year, month, 1);
  return Object(date_util_["range"])(numOfDays).map(n => Object(date_util_["nextDate"])(firstDay, n));
};
const clearDate = date => {
  return new Date(date.getFullYear(), date.getMonth());
};
const getMonthTimestamp = function (time) {
  if (typeof time === 'number' || typeof time === 'string') {
    return clearDate(new Date(time)).getTime();
  } else if (time instanceof Date) {
    return clearDate(time).getTime();
  } else {
    return NaN;
  }
};
/* harmony default export */ var month_tablevue_type_script_lang_js = ({
  props: {
    disabledDate: {},
    value: {},
    selectionMode: {
      default: 'month'
    },
    minDate: {},
    maxDate: {},
    defaultValue: {
      validator(val) {
        // null or valid Date Object
        return val === null || Object(date_util_["isDate"])(val) || Array.isArray(val) && val.every(date_util_["isDate"]);
      }
    },
    date: {},
    rangeState: {
      default() {
        return {
          endDate: null,
          selecting: false
        };
      }
    }
  },
  mixins: [locale_default.a],
  watch: {
    'rangeState.endDate'(newVal) {
      this.markRange(this.minDate, newVal);
    },
    minDate(newVal, oldVal) {
      if (getMonthTimestamp(newVal) !== getMonthTimestamp(oldVal)) {
        this.markRange(this.minDate, this.maxDate);
      }
    },
    maxDate(newVal, oldVal) {
      if (getMonthTimestamp(newVal) !== getMonthTimestamp(oldVal)) {
        this.markRange(this.minDate, this.maxDate);
      }
    }
  },
  data() {
    return {
      months: ['jan', 'feb', 'mar', 'apr', 'may', 'jun', 'jul', 'aug', 'sep', 'oct', 'nov', 'dec'],
      tableRows: [[], [], []],
      lastRow: null,
      lastColumn: null
    };
  },
  methods: {
    cellMatchesDate(cell, date) {
      const value = new Date(date);
      return this.date.getFullYear() === value.getFullYear() && Number(cell.text) === value.getMonth();
    },
    getCellStyle(cell) {
      const style = {};
      const year = this.date.getFullYear();
      const today = new Date();
      const month = cell.text;
      const defaultValue = this.defaultValue ? Array.isArray(this.defaultValue) ? this.defaultValue : [this.defaultValue] : [];
      style.disabled = typeof this.disabledDate === 'function' ? datesInMonth(year, month).every(this.disabledDate) : false;
      style['is-selected'] = Object(util_["arrayFindIndex"])(Object(util_["coerceTruthyValueToArray"])(this.value), date => date.getFullYear() === year && date.getMonth() === month) >= 0;
      style['is-current'] = today.getFullYear() === year && today.getMonth() === month;
      style.default = defaultValue.some(date => this.cellMatchesDate(cell, date));
      if (cell.inRange) {
        style['in-range'] = true;
        if (cell.start) {
          style['start-date'] = true;
        }
        if (cell.end) {
          style['end-date'] = true;
        }
      }
      return style;
    },
    getMonthOfCell(month) {
      const year = this.date.getFullYear();
      return new Date(year, month, 1);
    },
    markRange(minDate, maxDate) {
      minDate = getMonthTimestamp(minDate);
      maxDate = getMonthTimestamp(maxDate) || minDate;
      [minDate, maxDate] = [Math.min(minDate, maxDate), Math.max(minDate, maxDate)];
      const rows = this.rows;
      for (let i = 0, k = rows.length; i < k; i++) {
        const row = rows[i];
        for (let j = 0, l = row.length; j < l; j++) {
          const cell = row[j];
          const index = i * 4 + j;
          const time = new Date(this.date.getFullYear(), index).getTime();
          cell.inRange = minDate && time >= minDate && time <= maxDate;
          cell.start = minDate && time === minDate;
          cell.end = maxDate && time === maxDate;
        }
      }
    },
    handleMouseMove(event) {
      if (!this.rangeState.selecting) return;
      let target = event.target;
      if (target.tagName === 'A') {
        target = target.parentNode.parentNode;
      }
      if (target.tagName === 'DIV') {
        target = target.parentNode;
      }
      if (target.tagName !== 'TD') return;
      const row = target.parentNode.rowIndex;
      const column = target.cellIndex;
      // can not select disabled date
      if (this.rows[row][column].disabled) return;

      // only update rangeState when mouse moves to a new cell
      // this avoids frequent Date object creation and improves performance
      if (row !== this.lastRow || column !== this.lastColumn) {
        this.lastRow = row;
        this.lastColumn = column;
        this.$emit('changerange', {
          minDate: this.minDate,
          maxDate: this.maxDate,
          rangeState: {
            selecting: true,
            endDate: this.getMonthOfCell(row * 4 + column)
          }
        });
      }
    },
    handleMonthTableClick(event) {
      let target = event.target;
      if (target.tagName === 'A') {
        target = target.parentNode.parentNode;
      }
      if (target.tagName === 'DIV') {
        target = target.parentNode;
      }
      if (target.tagName !== 'TD') return;
      if (Object(dom_["hasClass"])(target, 'disabled')) return;
      const column = target.cellIndex;
      const row = target.parentNode.rowIndex;
      const month = row * 4 + column;
      const newDate = this.getMonthOfCell(month);
      if (this.selectionMode === 'range') {
        if (!this.rangeState.selecting) {
          this.$emit('pick', {
            minDate: newDate,
            maxDate: null
          });
          this.rangeState.selecting = true;
        } else {
          if (newDate >= this.minDate) {
            this.$emit('pick', {
              minDate: this.minDate,
              maxDate: newDate
            });
          } else {
            this.$emit('pick', {
              minDate: newDate,
              maxDate: this.minDate
            });
          }
          this.rangeState.selecting = false;
        }
      } else {
        this.$emit('pick', month);
      }
    }
  },
  computed: {
    rows() {
      // TODO: refactory rows / getCellClasses
      const rows = this.tableRows;
      const disabledDate = this.disabledDate;
      const selectedDate = [];
      const now = getMonthTimestamp(new Date());
      for (let i = 0; i < 3; i++) {
        const row = rows[i];
        for (let j = 0; j < 4; j++) {
          let cell = row[j];
          if (!cell) {
            cell = {
              row: i,
              column: j,
              type: 'normal',
              inRange: false,
              start: false,
              end: false
            };
          }
          cell.type = 'normal';
          const index = i * 4 + j;
          const time = new Date(this.date.getFullYear(), index).getTime();
          cell.inRange = time >= getMonthTimestamp(this.minDate) && time <= getMonthTimestamp(this.maxDate);
          cell.start = this.minDate && time === getMonthTimestamp(this.minDate);
          cell.end = this.maxDate && time === getMonthTimestamp(this.maxDate);
          const isToday = time === now;
          if (isToday) {
            cell.type = 'today';
          }
          cell.text = index;
          let cellDate = new Date(time);
          cell.disabled = typeof disabledDate === 'function' && disabledDate(cellDate);
          cell.selected = Object(util_["arrayFind"])(selectedDate, date => date.getTime() === cellDate.getTime());
          this.$set(row, j, cell);
        }
      }
      return rows;
    }
  }
});
// CONCATENATED MODULE: ./packages/date-picker/src/basic/month-table.vue?vue&type=script&lang=js
 /* harmony default export */ var basic_month_tablevue_type_script_lang_js = (month_tablevue_type_script_lang_js); 
// CONCATENATED MODULE: ./packages/date-picker/src/basic/month-table.vue





/* normalize component */

var month_table_component = Object(componentNormalizer["a" /* default */])(
  basic_month_tablevue_type_script_lang_js,
  month_tablevue_type_template_id_5fbba121_render,
  month_tablevue_type_template_id_5fbba121_staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* harmony default export */ var month_table = (month_table_component.exports);
// CONCATENATED MODULE: C:/Users/TylerTrotter/repos/Cognito Forms/Cognito.Web.Client/node_modules/.pnpm/vue-loader@15.11.1_css-loader@5.2.7_prettier@1.18.2_vue-template-compiler@2.7.15_webpack@4.46.0/node_modules/vue-loader/lib/loaders/templateLoader.js??ref--5!C:/Users/TylerTrotter/repos/Cognito Forms/Cognito.Web.Client/node_modules/.pnpm/vue-loader@15.11.1_css-loader@5.2.7_prettier@1.18.2_vue-template-compiler@2.7.15_webpack@4.46.0/node_modules/vue-loader/lib??vue-loader-options!./packages/date-picker/src/basic/date-table.vue?vue&type=template&id=5ee1d2a3
var date_tablevue_type_template_id_5ee1d2a3_render = function render() {
  var _vm = this,
    _c = _vm._self._c
  return _c(
    "table",
    {
      staticClass: "el-date-table",
      class: { "is-week-mode": _vm.selectionMode === "week" },
      attrs: { cellspacing: "0", cellpadding: "0" },
      on: { click: _vm.handleClick, mousemove: _vm.handleMouseMove }
    },
    [
      _c(
        "tbody",
        [
          _c(
            "tr",
            [
              _vm.showWeekNumber
                ? _c("th", [_vm._v(_vm._s(_vm.t("el.datepicker.week")))])
                : _vm._e(),
              _vm._l(_vm.WEEKS, function(week, key) {
                return _c("th", { key: key }, [
                  _vm._v(_vm._s(_vm.t("el.datepicker.weeks." + week)))
                ])
              })
            ],
            2
          ),
          _vm._l(_vm.rows, function(row, key) {
            return _c(
              "tr",
              {
                key: key,
                staticClass: "el-date-table__row",
                class: { ["is-selected"]: _vm.isWeekActive(row[1]) }
              },
              _vm._l(row, function(cell, key) {
                return _c("td", { key: key, class: _vm.getCellClasses(cell) }, [
                  _c("div", [
                    _c("span", { staticClass: "el-date-picker__cell" }, [
                      _vm._v("\n          " + _vm._s(cell.text) + "\n        ")
                    ])
                  ])
                ])
              }),
              0
            )
          })
        ],
        2
      )
    ]
  )
}
var date_tablevue_type_template_id_5ee1d2a3_staticRenderFns = []
date_tablevue_type_template_id_5ee1d2a3_render._withStripped = true


// CONCATENATED MODULE: ./packages/date-picker/src/basic/date-table.vue?vue&type=template&id=5ee1d2a3

// CONCATENATED MODULE: C:/Users/TylerTrotter/repos/Cognito Forms/Cognito.Web.Client/node_modules/.pnpm/babel-loader@8.3.0_@babel+core@7.25.2_webpack@4.46.0/node_modules/babel-loader/lib!C:/Users/TylerTrotter/repos/Cognito Forms/Cognito.Web.Client/node_modules/.pnpm/vue-loader@15.11.1_css-loader@5.2.7_prettier@1.18.2_vue-template-compiler@2.7.15_webpack@4.46.0/node_modules/vue-loader/lib??vue-loader-options!./packages/date-picker/src/basic/date-table.vue?vue&type=script&lang=js



const WEEKS = ['sun', 'mon', 'tue', 'wed', 'thu', 'fri', 'sat'];
const getDateTimestamp = function (time) {
  if (typeof time === 'number' || typeof time === 'string') {
    return Object(date_util_["clearTime"])(new Date(time)).getTime();
  } else if (time instanceof Date) {
    return Object(date_util_["clearTime"])(time).getTime();
  } else {
    return NaN;
  }
};

// remove the first element that satisfies `pred` from arr
// return a new array if modification occurs
// return the original array otherwise
const removeFromArray = function (arr, pred) {
  const idx = typeof pred === 'function' ? Object(util_["arrayFindIndex"])(arr, pred) : arr.indexOf(pred);
  return idx >= 0 ? [...arr.slice(0, idx), ...arr.slice(idx + 1)] : arr;
};
/* harmony default export */ var date_tablevue_type_script_lang_js = ({
  mixins: [locale_default.a],
  props: {
    firstDayOfWeek: {
      default: 7,
      type: Number,
      validator: val => val >= 1 && val <= 7
    },
    value: {},
    defaultValue: {
      validator(val) {
        // either: null, valid Date object, Array of valid Date objects
        return val === null || Object(date_util_["isDate"])(val) || Array.isArray(val) && val.every(date_util_["isDate"]);
      }
    },
    date: {},
    selectionMode: {
      default: 'day'
    },
    showWeekNumber: {
      type: Boolean,
      default: false
    },
    disabledDate: {},
    cellClassName: {},
    minDate: {},
    maxDate: {},
    rangeState: {
      default() {
        return {
          endDate: null,
          selecting: false
        };
      }
    }
  },
  computed: {
    offsetDay() {
      const week = this.firstDayOfWeek;
      // 周日为界限，左右偏移的天数，3217654 例如周一就是 -1，目的是调整前两行日期的位置
      return week > 3 ? 7 - week : -week;
    },
    WEEKS() {
      const week = this.firstDayOfWeek;
      return WEEKS.concat(WEEKS).slice(week, week + 7);
    },
    year() {
      return this.date.getFullYear();
    },
    month() {
      return this.date.getMonth();
    },
    startDate() {
      return Object(date_util_["getStartDateOfMonth"])(this.year, this.month);
    },
    rows() {
      // TODO: refactory rows / getCellClasses
      const date = new Date(this.year, this.month, 1);
      let day = Object(date_util_["getFirstDayOfMonth"])(date); // day of first day
      const dateCountOfMonth = Object(date_util_["getDayCountOfMonth"])(date.getFullYear(), date.getMonth());
      const dateCountOfLastMonth = Object(date_util_["getDayCountOfMonth"])(date.getFullYear(), date.getMonth() === 0 ? 11 : date.getMonth() - 1);
      day = day === 0 ? 7 : day;
      const offset = this.offsetDay;
      const rows = this.tableRows;
      let count = 1;
      const startDate = this.startDate;
      const disabledDate = this.disabledDate;
      const cellClassName = this.cellClassName;
      const selectedDate = this.selectionMode === 'dates' ? Object(util_["coerceTruthyValueToArray"])(this.value) : [];
      const now = getDateTimestamp(new Date());
      for (let i = 0; i < 6; i++) {
        const row = rows[i];
        if (this.showWeekNumber) {
          if (!row[0]) {
            row[0] = {
              type: 'week',
              text: Object(date_util_["getWeekNumber"])(Object(date_util_["nextDate"])(startDate, i * 7 + 1))
            };
          }
        }
        for (let j = 0; j < 7; j++) {
          let cell = row[this.showWeekNumber ? j + 1 : j];
          if (!cell) {
            cell = {
              row: i,
              column: j,
              type: 'normal',
              inRange: false,
              start: false,
              end: false
            };
          }
          cell.type = 'normal';
          const index = i * 7 + j;
          const time = Object(date_util_["nextDate"])(startDate, index - offset).getTime();
          cell.inRange = time >= getDateTimestamp(this.minDate) && time <= getDateTimestamp(this.maxDate);
          cell.start = this.minDate && time === getDateTimestamp(this.minDate);
          cell.end = this.maxDate && time === getDateTimestamp(this.maxDate);
          const isToday = time === now;
          if (isToday) {
            cell.type = 'today';
          }
          if (i >= 0 && i <= 1) {
            const numberOfDaysFromPreviousMonth = day + offset < 0 ? 7 + day + offset : day + offset;
            if (j + i * 7 >= numberOfDaysFromPreviousMonth) {
              cell.text = count++;
            } else {
              cell.text = dateCountOfLastMonth - (numberOfDaysFromPreviousMonth - j % 7) + 1 + i * 7;
              cell.type = 'is-muted';
            }
          } else {
            if (count <= dateCountOfMonth) {
              cell.text = count++;
            } else {
              cell.text = count++ - dateCountOfMonth;
              cell.type = 'is-muted';
            }
          }
          let cellDate = new Date(time);
          cell.disabled = typeof disabledDate === 'function' && disabledDate(cellDate);
          cell.selected = Object(util_["arrayFind"])(selectedDate, date => date.getTime() === cellDate.getTime());
          cell.customClass = typeof cellClassName === 'function' && cellClassName(cellDate);
          this.$set(row, this.showWeekNumber ? j + 1 : j, cell);
        }
        if (this.selectionMode === 'week') {
          const start = this.showWeekNumber ? 1 : 0;
          const end = this.showWeekNumber ? 7 : 6;
          const isWeekActive = this.isWeekActive(row[start + 1]);
          row[start].inRange = isWeekActive;
          row[start].start = isWeekActive;
          row[end].inRange = isWeekActive;
          row[end].end = isWeekActive;
        }
      }
      return rows;
    }
  },
  watch: {
    'rangeState.endDate'(newVal) {
      this.markRange(this.minDate, newVal);
    },
    minDate(newVal, oldVal) {
      if (getDateTimestamp(newVal) !== getDateTimestamp(oldVal)) {
        this.markRange(this.minDate, this.maxDate);
      }
    },
    maxDate(newVal, oldVal) {
      if (getDateTimestamp(newVal) !== getDateTimestamp(oldVal)) {
        this.markRange(this.minDate, this.maxDate);
      }
    }
  },
  data() {
    return {
      tableRows: [[], [], [], [], [], []],
      lastRow: null,
      lastColumn: null
    };
  },
  methods: {
    cellMatchesDate(cell, date) {
      const value = new Date(date);
      return this.year === value.getFullYear() && this.month === value.getMonth() && Number(cell.text) === value.getDate();
    },
    getCellClasses(cell) {
      const selectionMode = this.selectionMode;
      const defaultValue = this.defaultValue ? Array.isArray(this.defaultValue) ? this.defaultValue : [this.defaultValue] : [];
      let classes = [];
      if ((cell.type === 'normal' || cell.type === 'today') && !cell.disabled) {
        classes.push('is-selectable');
        if (cell.type === 'today') {
          classes.push('is-current');
        }
      } else if (cell.type !== 'normal') {
        classes.push(cell.type);
      }
      if (cell.type === 'normal' && defaultValue.some(date => this.cellMatchesDate(cell, date))) {
        classes.push('default');
      }
      if (selectionMode === 'day' && (cell.type === 'normal' || cell.type === 'today') && this.cellMatchesDate(cell, this.value)) {
        classes.push('is-selected');
      }
      if (cell.inRange && (cell.type === 'normal' || cell.type === 'today' || this.selectionMode === 'week')) {
        classes.push('in-range');
        if (cell.start) {
          classes.push('start-date');
        }
        if (cell.end) {
          classes.push('end-date');
        }
      }
      if (cell.disabled) {
        classes.push('is-disabled');
      }
      if (cell.selected) {
        classes.push('is-selected');
      }
      if (cell.customClass) {
        classes.push(cell.customClass);
      }
      return classes.join(' ');
    },
    getDateOfCell(row, column) {
      const offsetFromStart = row * 7 + (column - (this.showWeekNumber ? 1 : 0)) - this.offsetDay;
      return Object(date_util_["nextDate"])(this.startDate, offsetFromStart);
    },
    isWeekActive(cell) {
      if (this.selectionMode !== 'week') return false;
      const newDate = new Date(this.year, this.month, 1);
      const year = newDate.getFullYear();
      const month = newDate.getMonth();
      if (cell.type === 'prev-month') {
        newDate.setMonth(month === 0 ? 11 : month - 1);
        newDate.setFullYear(month === 0 ? year - 1 : year);
      }
      if (cell.type === 'next-month') {
        newDate.setMonth(month === 11 ? 0 : month + 1);
        newDate.setFullYear(month === 11 ? year + 1 : year);
      }
      newDate.setDate(parseInt(cell.text, 10));
      if (Object(date_util_["isDate"])(this.value)) {
        const dayOffset = (this.value.getDay() - this.firstDayOfWeek + 7) % 7 - 1;
        const weekDate = Object(date_util_["prevDate"])(this.value, dayOffset);
        return weekDate.getTime() === newDate.getTime();
      }
      return false;
    },
    markRange(minDate, maxDate) {
      minDate = getDateTimestamp(minDate);
      maxDate = getDateTimestamp(maxDate) || minDate;
      [minDate, maxDate] = [Math.min(minDate, maxDate), Math.max(minDate, maxDate)];
      const startDate = this.startDate;
      const rows = this.rows;
      for (let i = 0, k = rows.length; i < k; i++) {
        const row = rows[i];
        for (let j = 0, l = row.length; j < l; j++) {
          if (this.showWeekNumber && j === 0) continue;
          const cell = row[j];
          const index = i * 7 + j + (this.showWeekNumber ? -1 : 0);
          const time = Object(date_util_["nextDate"])(startDate, index - this.offsetDay).getTime();
          cell.inRange = minDate && time >= minDate && time <= maxDate;
          cell.start = minDate && time === minDate;
          cell.end = maxDate && time === maxDate;
        }
      }
    },
    handleMouseMove(event) {
      if (!this.rangeState.selecting) return;
      let target = event.target;
      if (target.tagName === 'SPAN') {
        target = target.parentNode.parentNode;
      }
      if (target.tagName === 'DIV') {
        target = target.parentNode;
      }
      if (target.tagName !== 'TD') return;
      const row = target.parentNode.rowIndex - 1;
      const column = target.cellIndex;

      // can not select disabled date
      if (this.rows[row][column].disabled) return;

      // only update rangeState when mouse moves to a new cell
      // this avoids frequent Date object creation and improves performance
      if (row !== this.lastRow || column !== this.lastColumn) {
        this.lastRow = row;
        this.lastColumn = column;
        this.$emit('changerange', {
          minDate: this.minDate,
          maxDate: this.maxDate,
          rangeState: {
            selecting: true,
            endDate: this.getDateOfCell(row, column)
          }
        });
      }
    },
    handleClick(event) {
      let target = event.target;
      if (target.tagName === 'SPAN') {
        target = target.parentNode.parentNode;
      }
      if (target.tagName === 'DIV') {
        target = target.parentNode;
      }
      if (target.tagName !== 'TD') return;
      const row = target.parentNode.rowIndex - 1;
      const column = this.selectionMode === 'week' ? 1 : target.cellIndex;
      const cell = this.rows[row][column];
      if (cell.disabled || cell.type === 'week') return;
      const newDate = this.getDateOfCell(row, column);
      if (this.selectionMode === 'range') {
        if (!this.rangeState.selecting) {
          this.$emit('pick', {
            minDate: newDate,
            maxDate: null
          });
          this.rangeState.selecting = true;
        } else {
          if (newDate >= this.minDate) {
            this.$emit('pick', {
              minDate: this.minDate,
              maxDate: newDate
            });
          } else {
            this.$emit('pick', {
              minDate: newDate,
              maxDate: this.minDate
            });
          }
          this.rangeState.selecting = false;
        }
      } else if (this.selectionMode === 'day') {
        this.$emit('pick', newDate);
      } else if (this.selectionMode === 'week') {
        const weekNumber = Object(date_util_["getWeekNumber"])(newDate);
        const value = newDate.getFullYear() + 'w' + weekNumber;
        this.$emit('pick', {
          year: newDate.getFullYear(),
          week: weekNumber,
          value: value,
          date: newDate
        });
      } else if (this.selectionMode === 'dates') {
        const value = this.value || [];
        const newValue = cell.selected ? removeFromArray(value, date => date.getTime() === newDate.getTime()) : [...value, newDate];
        this.$emit('pick', newValue);
      }
    }
  }
});
// CONCATENATED MODULE: ./packages/date-picker/src/basic/date-table.vue?vue&type=script&lang=js
 /* harmony default export */ var basic_date_tablevue_type_script_lang_js = (date_tablevue_type_script_lang_js); 
// CONCATENATED MODULE: ./packages/date-picker/src/basic/date-table.vue





/* normalize component */

var date_table_component = Object(componentNormalizer["a" /* default */])(
  basic_date_tablevue_type_script_lang_js,
  date_tablevue_type_template_id_5ee1d2a3_render,
  date_tablevue_type_template_id_5ee1d2a3_staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* harmony default export */ var date_table = (date_table_component.exports);
// CONCATENATED MODULE: C:/Users/TylerTrotter/repos/Cognito Forms/Cognito.Web.Client/node_modules/.pnpm/babel-loader@8.3.0_@babel+core@7.25.2_webpack@4.46.0/node_modules/babel-loader/lib!C:/Users/TylerTrotter/repos/Cognito Forms/Cognito.Web.Client/node_modules/.pnpm/vue-loader@15.11.1_css-loader@5.2.7_prettier@1.18.2_vue-template-compiler@2.7.15_webpack@4.46.0/node_modules/vue-loader/lib??vue-loader-options!./packages/date-picker/src/panel/date.vue?vue&type=script&lang=js









/* harmony default export */ var datevue_type_script_lang_js = ({
  mixins: [locale_default.a],
  directives: {
    Clickoutside: clickoutside_default.a
  },
  watch: {
    showTime(val) {
      /* istanbul ignore if */
      if (!val) return;
      this.$nextTick(_ => {
        const inputElm = this.$refs.input.$el;
        if (inputElm) {
          this.pickerWidth = inputElm.getBoundingClientRect().width + 10;
        }
      });
    },
    value(val) {
      if (this.selectionMode === 'dates' && this.value) return;
      // Reset the internal `date` data property when the `value` prop changes
      this.resetDate();
    },
    defaultValue(val) {
      if (!Object(date_util_["isDate"])(this.value)) {
        this.date = val ? new Date(val) : new Date();
      }
    },
    timePickerVisible(val) {
      if (val) this.$nextTick(() => this.$refs.timepicker.adjustSpinners());
    },
    selectionMode(newVal) {
      if (newVal === 'month') {
        /* istanbul ignore next */
        if (this.currentView !== 'year' || this.currentView !== 'month') {
          this.currentView = 'month';
        }
      } else if (newVal === 'dates') {
        this.currentView = 'date';
      }
    }
  },
  methods: {
    proxyTimePickerDataProperties() {
      const format = timeFormat => {
        this.$refs.timepicker.format = timeFormat;
      };
      const value = value => {
        this.$refs.timepicker.value = value;
      };
      const date = date => {
        this.$refs.timepicker.date = date;
      };
      const selectableRange = selectableRange => {
        this.$refs.timepicker.selectableRange = selectableRange;
      };
      this.$watch('value', value);
      this.$watch('date', date);
      this.$watch('selectableRange', selectableRange);
      format(this.timeFormat);
      value(this.value);
      date(this.date);
      selectableRange(this.selectableRange);
    },
    handleClear() {
      this.date = this.getDefaultValue();
      this.$emit('pick', null);
    },
    emit(value) {
      for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
        args[_key - 1] = arguments[_key];
      }
      if (!value) {
        this.$emit('pick', value, ...args);
      } else if (Array.isArray(value)) {
        const dates = value.map(date => this.showTime ? Object(date_util_["clearMilliseconds"])(date) : Object(date_util_["clearTime"])(date));
        this.$emit('pick', dates, ...args);
      } else {
        this.$emit('pick', this.showTime ? Object(date_util_["clearMilliseconds"])(value) : Object(date_util_["clearTime"])(value), ...args);
      }
      this.userInputDate = null;
      this.userInputTime = null;
    },
    resetDate() {
      if (Object(date_util_["isDate"])(this.value)) {
        this.date = new Date(this.value);
      } else {
        this.date = this.getDefaultValue();
      }
    },
    showMonthPicker() {
      this.currentView = 'month';
    },
    showYearPicker() {
      this.currentView = 'year';
    },
    // XXX: 没用到
    // handleLabelClick() {
    //   if (this.currentView === 'date') {
    //     this.showMonthPicker();
    //   } else if (this.currentView === 'month') {
    //     this.showYearPicker();
    //   }
    // },

    prevMonth() {
      if (this.canSelectPrevMonth) {
        this.date = Object(date_util_["prevMonth"])(this.date);
      }
    },
    prevMonthMousedown(ev) {
      if (!this.canSelectPrevMonth) {
        // Cancel the default behavior to prevent the disabled button from being focused
        ev.preventDefault();
      }
    },
    nextMonth() {
      if (this.canSelectNextMonth) {
        this.date = Object(date_util_["nextMonth"])(this.date);
      }
    },
    nextMonthMousedown(ev) {
      if (!this.canSelectNextMonth) {
        // Cancel the default behavior to prevent the disabled button from being focused
        ev.preventDefault();
      }
    },
    prevYear() {
      if (this.canSelectPrevYear) {
        if (this.currentView === 'year') {
          this.date = Object(date_util_["prevYear"])(this.date, 10);
        } else {
          this.date = Object(date_util_["prevYear"])(this.date);
        }
      }
    },
    prevYearMousedown(ev) {
      if (!this.canSelectPrevYear) {
        // Cancel the default behavior to prevent the disabled button from being focused
        ev.preventDefault();
      }
    },
    nextYear() {
      if (this.canSelectNextYear) {
        if (this.currentView === 'year') {
          this.date = Object(date_util_["nextYear"])(this.date, 10);
        } else {
          this.date = Object(date_util_["nextYear"])(this.date);
        }
      }
    },
    nextYearMousedown(ev) {
      if (!this.canSelectNextYear) {
        // Cancel the default behavior to prevent the disabled button from being focused
        ev.preventDefault();
      }
    },
    handleShortcutClick(shortcut) {
      if (shortcut.onClick) {
        shortcut.onClick(this);
      }
    },
    handleTimePick(value, visible, first) {
      if (Object(date_util_["isDate"])(value)) {
        const newDate = this.value ? Object(date_util_["modifyTime"])(this.value, value.getHours(), value.getMinutes(), value.getSeconds()) : Object(date_util_["modifyWithTimeString"])(this.getDefaultValue(), this.defaultTime);
        this.date = newDate;
        this.emit(this.date, true);
      } else {
        this.emit(value, true);
      }
      if (!first) {
        this.timePickerVisible = visible;
      }
    },
    handleTimePickClose() {
      this.timePickerVisible = false;
    },
    handleMonthPick(month) {
      if (this.selectionMode === 'month') {
        this.date = Object(date_util_["modifyDate"])(this.date, this.year, month, 1);
        this.emit(this.date);
      } else {
        this.date = Object(date_util_["changeYearMonthAndClampDate"])(this.date, this.year, month);
        // TODO: should emit intermediate value ??
        // this.emit(this.date);
        this.currentView = 'date';
      }
    },
    handleDatePick(value) {
      if (this.selectionMode === 'day') {
        let newDate = this.value ? Object(date_util_["modifyDate"])(this.value, value.getFullYear(), value.getMonth(), value.getDate()) : Object(date_util_["modifyWithTimeString"])(value, this.defaultTime);
        // change default time while out of selectableRange
        if (!this.checkTimeWithinRange(newDate)) {
          newDate = Object(date_util_["modifyDate"])(this.selectableRange[0][0], value.getFullYear(), value.getMonth(), value.getDate());
        }
        this.date = newDate;
        this.emit(this.date, this.showTime);
      } else if (this.selectionMode === 'week') {
        this.emit(value.date);
      } else if (this.selectionMode === 'dates') {
        this.emit(value, true); // set false to keep panel open
      }
    },
    handleYearPick(year) {
      if (this.selectionMode === 'year') {
        this.date = Object(date_util_["modifyDate"])(this.date, year, 0, 1);
        this.emit(this.date);
      } else {
        this.date = Object(date_util_["changeYearMonthAndClampDate"])(this.date, year, this.month);
        // TODO: should emit intermediate value ??
        // this.emit(this.date, true);
        this.currentView = 'month';
      }
    },
    changeToNow() {
      // NOTE: not a permanent solution
      //       consider disable "now" button in the future
      if (this.isValidValue(new Date())) {
        this.date = new Date();
        this.emit(this.date);
      }
    },
    confirm() {
      if (this.selectionMode === 'dates') {
        this.emit(this.value);
      } else {
        // value were emitted in handle{Date,Time}Pick, nothing to update here
        // deal with the scenario where: user opens the picker, then confirm without doing anything
        const value = this.value ? this.value : Object(date_util_["modifyWithTimeString"])(this.getDefaultValue(), this.defaultTime);
        this.date = new Date(value); // refresh date
        this.emit(value);
      }
    },
    resetView() {
      if (this.selectionMode === 'month') {
        this.currentView = 'month';
      } else if (this.selectionMode === 'year') {
        this.currentView = 'year';
      } else {
        this.currentView = 'date';
      }
    },
    handleEnter() {
      document.body.addEventListener('keydown', this.handleKeydown);
    },
    handleLeave() {
      this.$emit('dodestroy');
      document.body.removeEventListener('keydown', this.handleKeydown);
    },
    handleKeydown(event) {
      const keyCode = event.keyCode;
      const list = [38, 40, 37, 39];
      if (this.visible && !this.timePickerVisible) {
        if (list.indexOf(keyCode) !== -1) {
          this.handleKeyControl(keyCode);
          event.stopPropagation();
          event.preventDefault();
        }
      }
    },
    handleKeyControl(keyCode) {
      const mapping = {
        'year': {
          38: -4,
          40: 4,
          37: -1,
          39: 1,
          offset: (date, step) => date.setFullYear(date.getFullYear() + step)
        },
        'month': {
          38: -4,
          40: 4,
          37: -1,
          39: 1,
          offset: (date, step) => date.setMonth(date.getMonth() + step)
        },
        'week': {
          38: -1,
          40: 1,
          37: -1,
          39: 1,
          offset: (date, step) => date.setDate(date.getDate() + step * 7)
        },
        'day': {
          38: -7,
          40: 7,
          37: -1,
          39: 1,
          offset: (date, step) => date.setDate(date.getDate() + step)
        }
      };
      const mode = this.selectionMode;
      const year = 3.1536e10;
      const now = this.date.getTime();
      const newDate = new Date(this.date.getTime());
      while (Math.abs(now - newDate.getTime()) <= year) {
        const map = mapping[mode];
        map.offset(newDate, map[keyCode]);
        if (!this.isValidDate(newDate)) {
          continue;
        }
        this.date = newDate;
        this.$emit('pick', newDate, true);
        break;
      }
    },
    handleVisibleTimeChange(value) {
      const time = Object(date_util_["parseDate"])(value, this.timeFormat);
      if (time && this.checkTimeWithinRange(time)) {
        this.date = Object(date_util_["modifyDate"])(time, this.year, this.month, this.monthDate);
        this.userInputTime = null;
        this.$refs.timepicker.value = this.date;
        this.timePickerVisible = false;
        this.emit(this.date, true);
      }
    },
    handleVisibleDateChange(value) {
      const date = Object(date_util_["parseDate"])(value, this.dateFormat);
      if (date) {
        if (!this.isValidDate(date)) {
          return;
        }
        this.date = Object(date_util_["modifyTime"])(date, this.date.getHours(), this.date.getMinutes(), this.date.getSeconds());
        this.userInputDate = null;
        this.resetView();
        this.emit(this.date, true);
      }
    },
    isValidValue(value) {
      return this.isValidDate(value) && this.checkTimeWithinRange(value);
    },
    isValidDate(date) {
      if (date && !isNaN(date)) {
        if (typeof this.disabledDate === 'function') {
          return !this.disabledDate(date);
        } else if (this.minimum || this.maximum) {
          return !this.dateOutOfRange(date);
        } else {
          return true;
        }
      } else {
        return false;
      }
    },
    dateOutOfRange(date) {
      return this.maximum && date > this.maximum || this.minimum && date < this.minimum;
    },
    getDefaultValue() {
      // if default-value is set, return it
      // otherwise, return now (the moment this method gets called)
      return this.defaultValue ? new Date(this.defaultValue) : new Date();
    },
    checkTimeWithinRange(date) {
      return this.selectableRange.length > 0 ? Object(date_util_["timeWithinRange"])(date, this.selectableRange, this.format || 'HH:mm:ss') : true;
    },
    handleMousedown(e) {
      // Prevent mousedown from stealing focus from date input
      e.preventDefault();
    }
  },
  components: {
    TimePicker: panel_time["a" /* default */],
    YearTable: year_table,
    MonthTable: month_table,
    DateTable: date_table,
    ElInput: external_input_default.a,
    ElButton: external_button_default.a
  },
  data() {
    return {
      popperClass: '',
      date: new Date(),
      value: '',
      defaultValue: null,
      // use getDefaultValue() for time computation
      defaultTime: null,
      showTime: false,
      selectionMode: 'day',
      shortcuts: '',
      visible: false,
      currentView: 'date',
      disabledDate: '',
      minimum: '',
      maximum: '',
      cellClassName: '',
      selectableRange: [],
      firstDayOfWeek: 7,
      showWeekNumber: false,
      timePickerVisible: false,
      format: '',
      arrowControl: false,
      userInputDate: null,
      userInputTime: null
    };
  },
  computed: {
    year() {
      return this.date.getFullYear();
    },
    month() {
      return this.date.getMonth();
    },
    week() {
      return Object(date_util_["getWeekNumber"])(this.date);
    },
    monthDate() {
      return this.date.getDate();
    },
    footerVisible() {
      return this.showTime || this.selectionMode === 'dates';
    },
    visibleTime() {
      if (this.userInputTime !== null) {
        return this.userInputTime;
      } else {
        return Object(date_util_["formatDate"])(this.value || this.defaultValue, this.timeFormat);
      }
    },
    visibleDate() {
      if (this.userInputDate !== null) {
        return this.userInputDate;
      } else {
        return Object(date_util_["formatDate"])(this.value || this.defaultValue, this.dateFormat);
      }
    },
    canSelectPrevMonth() {
      if (typeof this.disabledDate === 'function') {
        // If 'disabledDate' is defined, then minimum is ignored
        return true;
      } else if (this.minimum) {
        // If minimum is defined, ensure that the last day of the previous month is not before the minimum
        let prevMonthLastDay = Object(date_util_["getPrevMonthLastDays"])(this.date, 1)[0];
        let lastDayOfPrevMonth = this.date.getMonth() > 0 ? new Date(this.date.getFullYear(), this.date.getMonth() - 1, prevMonthLastDay) : new Date(this.date.getFullYear() - 1, 11, prevMonthLastDay);
        return lastDayOfPrevMonth >= this.minimum;
      } else {
        return true;
      }
    },
    canSelectPrevYear() {
      if (typeof this.disabledDate === 'function') {
        // If 'disabledDate' is defined, then minimum is ignored
        return true;
      } else if (this.minimum) {
        // If minimum is defined, ensure that the last day of the previous year is not before the minimum
        let lastDayOfPrevYear = new Date(this.date.getFullYear() - 1, 11, 31);
        return lastDayOfPrevYear >= this.minimum;
      } else {
        return true;
      }
    },
    canSelectNextMonth() {
      if (typeof this.disabledDate === 'function') {
        // If 'disabledDate' is defined, then minimum is ignored
        return true;
      } else if (this.maximum) {
        // If maximum is defined, ensure that the first day of the next month is not after the maximum
        let firstDayOfNextMonth = this.date.getMonth() < 11 ? new Date(this.date.getFullYear(), this.date.getMonth() + 1, 1) : new Date(this.date.getFullYear() + 1, 0, 1);
        return firstDayOfNextMonth <= this.maximum;
      } else {
        return true;
      }
    },
    canSelectNextYear() {
      if (typeof this.disabledDate === 'function') {
        // If 'disabledDate' is defined, then minimum is ignored
        return true;
      } else if (this.maximum) {
        // If maximum is defined, ensure that the first day of the next year is not after the maximum
        let firstDayOfNextYear = new Date(this.date.getFullYear() + 1, 0, 1);
        return firstDayOfNextYear <= this.maximum;
      } else {
        return true;
      }
    },
    yearLabel() {
      const yearTranslation = this.t('el.datepicker.year');
      if (this.currentView === 'year') {
        const startYear = Math.floor(this.year / 10) * 10;
        if (yearTranslation) {
          return startYear + ' ' + yearTranslation + ' - ' + (startYear + 9) + ' ' + yearTranslation;
        }
        return startYear + ' - ' + (startYear + 9);
      }
      return this.year + ' ' + yearTranslation;
    },
    timeFormat() {
      if (this.format) {
        return Object(date_util_["extractTimeFormat"])(this.format);
      } else {
        return 'HH:mm:ss';
      }
    },
    dateFormat() {
      if (this.format) {
        return Object(date_util_["extractDateFormat"])(this.format);
      } else {
        return 'yyyy-MM-dd';
      }
    }
  }
});
// CONCATENATED MODULE: ./packages/date-picker/src/panel/date.vue?vue&type=script&lang=js
 /* harmony default export */ var panel_datevue_type_script_lang_js = (datevue_type_script_lang_js); 
// CONCATENATED MODULE: ./packages/date-picker/src/panel/date.vue





/* normalize component */

var date_component = Object(componentNormalizer["a" /* default */])(
  panel_datevue_type_script_lang_js,
  render,
  staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* harmony default export */ var panel_date = (date_component.exports);
// CONCATENATED MODULE: C:/Users/TylerTrotter/repos/Cognito Forms/Cognito.Web.Client/node_modules/.pnpm/vue-loader@15.11.1_css-loader@5.2.7_prettier@1.18.2_vue-template-compiler@2.7.15_webpack@4.46.0/node_modules/vue-loader/lib/loaders/templateLoader.js??ref--5!C:/Users/TylerTrotter/repos/Cognito Forms/Cognito.Web.Client/node_modules/.pnpm/vue-loader@15.11.1_css-loader@5.2.7_prettier@1.18.2_vue-template-compiler@2.7.15_webpack@4.46.0/node_modules/vue-loader/lib??vue-loader-options!./packages/date-picker/src/panel/date-range.vue?vue&type=template&id=25fc967c
var date_rangevue_type_template_id_25fc967c_render = function render() {
  var _vm = this,
    _c = _vm._self._c
  return _c(
    "transition",
    {
      attrs: { name: "el-zoom-in-top" },
      on: {
        "after-leave": function($event) {
          return _vm.$emit("dodestroy")
        }
      }
    },
    [
      _c(
        "div",
        {
          directives: [
            {
              name: "show",
              rawName: "v-show",
              value: _vm.visible,
              expression: "visible"
            }
          ],
          staticClass: "el-picker-panel el-date-range-picker el-popper",
          class: [
            {
              "has-sidebar": _vm.$slots.sidebar || _vm.shortcuts,
              "has-time": _vm.showTime
            },
            _vm.popperClass
          ]
        },
        [
          _c(
            "div",
            { staticClass: "el-picker-panel__body-wrapper" },
            [
              _vm._t("sidebar"),
              _vm.shortcuts
                ? _c(
                    "div",
                    { staticClass: "el-picker-panel__sidebar" },
                    _vm._l(_vm.shortcuts, function(shortcut, key) {
                      return _c(
                        "button",
                        {
                          key: key,
                          staticClass: "el-picker-panel__shortcut",
                          attrs: { type: "button" },
                          on: {
                            click: function($event) {
                              return _vm.handleShortcutClick(shortcut)
                            }
                          }
                        },
                        [_vm._v(_vm._s(shortcut.text))]
                      )
                    }),
                    0
                  )
                : _vm._e(),
              _c("div", { staticClass: "el-picker-panel__body" }, [
                _vm.showTime
                  ? _c(
                      "div",
                      { staticClass: "el-date-range-picker__time-header" },
                      [
                        _c(
                          "span",
                          { staticClass: "el-date-range-picker__editors-wrap" },
                          [
                            _c(
                              "span",
                              {
                                staticClass:
                                  "el-date-range-picker__time-picker-wrap"
                              },
                              [
                                _c("el-input", {
                                  ref: "minInput",
                                  staticClass: "el-date-range-picker__editor",
                                  attrs: {
                                    size: "small",
                                    disabled: _vm.rangeState.selecting,
                                    placeholder: _vm.t(
                                      "el.datepicker.startDate"
                                    ),
                                    value: _vm.minVisibleDate
                                  },
                                  on: {
                                    input: val =>
                                      _vm.handleDateInput(val, "min"),
                                    change: val =>
                                      _vm.handleDateChange(val, "min")
                                  }
                                })
                              ],
                              1
                            ),
                            _c(
                              "span",
                              {
                                directives: [
                                  {
                                    name: "clickoutside",
                                    rawName: "v-clickoutside",
                                    value: _vm.handleMinTimeClose,
                                    expression: "handleMinTimeClose"
                                  }
                                ],
                                staticClass:
                                  "el-date-range-picker__time-picker-wrap"
                              },
                              [
                                _c("el-input", {
                                  staticClass: "el-date-range-picker__editor",
                                  attrs: {
                                    size: "small",
                                    disabled: _vm.rangeState.selecting,
                                    placeholder: _vm.t(
                                      "el.datepicker.startTime"
                                    ),
                                    value: _vm.minVisibleTime
                                  },
                                  on: {
                                    focus: function($event) {
                                      _vm.minTimePickerVisible = true
                                    },
                                    input: val =>
                                      _vm.handleTimeInput(val, "min"),
                                    change: val =>
                                      _vm.handleTimeChange(val, "min")
                                  }
                                }),
                                _c("time-picker", {
                                  ref: "minTimePicker",
                                  attrs: {
                                    "time-arrow-control": _vm.arrowControl,
                                    visible: _vm.minTimePickerVisible
                                  },
                                  on: {
                                    pick: _vm.handleMinTimePick,
                                    mounted: function($event) {
                                      _vm.$refs.minTimePicker.format =
                                        _vm.timeFormat
                                    }
                                  }
                                })
                              ],
                              1
                            )
                          ]
                        ),
                        _c("span", { staticClass: "el-icon-arrow-right" }),
                        _c(
                          "span",
                          {
                            staticClass:
                              "el-date-range-picker__editors-wrap is-right"
                          },
                          [
                            _c(
                              "span",
                              {
                                staticClass:
                                  "el-date-range-picker__time-picker-wrap"
                              },
                              [
                                _c("el-input", {
                                  staticClass: "el-date-range-picker__editor",
                                  attrs: {
                                    size: "small",
                                    disabled: _vm.rangeState.selecting,
                                    placeholder: _vm.t("el.datepicker.endDate"),
                                    value: _vm.maxVisibleDate,
                                    readonly: !_vm.minDate
                                  },
                                  on: {
                                    input: val =>
                                      _vm.handleDateInput(val, "max"),
                                    change: val =>
                                      _vm.handleDateChange(val, "max")
                                  }
                                })
                              ],
                              1
                            ),
                            _c(
                              "span",
                              {
                                directives: [
                                  {
                                    name: "clickoutside",
                                    rawName: "v-clickoutside",
                                    value: _vm.handleMaxTimeClose,
                                    expression: "handleMaxTimeClose"
                                  }
                                ],
                                staticClass:
                                  "el-date-range-picker__time-picker-wrap"
                              },
                              [
                                _c("el-input", {
                                  staticClass: "el-date-range-picker__editor",
                                  attrs: {
                                    size: "small",
                                    disabled: _vm.rangeState.selecting,
                                    placeholder: _vm.t("el.datepicker.endTime"),
                                    value: _vm.maxVisibleTime,
                                    readonly: !_vm.minDate
                                  },
                                  on: {
                                    focus: function($event) {
                                      _vm.minDate &&
                                        (_vm.maxTimePickerVisible = true)
                                    },
                                    input: val =>
                                      _vm.handleTimeInput(val, "max"),
                                    change: val =>
                                      _vm.handleTimeChange(val, "max")
                                  }
                                }),
                                _c("time-picker", {
                                  ref: "maxTimePicker",
                                  attrs: {
                                    "time-arrow-control": _vm.arrowControl,
                                    visible: _vm.maxTimePickerVisible
                                  },
                                  on: {
                                    pick: _vm.handleMaxTimePick,
                                    mounted: function($event) {
                                      _vm.$refs.maxTimePicker.format =
                                        _vm.timeFormat
                                    }
                                  }
                                })
                              ],
                              1
                            )
                          ]
                        )
                      ]
                    )
                  : _vm._e(),
                _c(
                  "div",
                  {
                    staticClass:
                      "el-picker-panel__content el-date-range-picker__content is-left"
                  },
                  [
                    _c("div", { staticClass: "el-date-range-picker__header" }, [
                      _c("button", {
                        staticClass:
                          "el-picker-panel__icon-btn el-icon-d-arrow-left",
                        attrs: { type: "button" },
                        on: { click: _vm.leftPrevYear }
                      }),
                      _c("button", {
                        staticClass:
                          "el-picker-panel__icon-btn el-icon-arrow-left",
                        attrs: { type: "button" },
                        on: { click: _vm.leftPrevMonth }
                      }),
                      _vm.unlinkPanels
                        ? _c("button", {
                            staticClass:
                              "el-picker-panel__icon-btn el-icon-d-arrow-right",
                            class: { "is-disabled": !_vm.enableYearArrow },
                            attrs: {
                              type: "button",
                              disabled: !_vm.enableYearArrow
                            },
                            on: { click: _vm.leftNextYear }
                          })
                        : _vm._e(),
                      _vm.unlinkPanels
                        ? _c("button", {
                            staticClass:
                              "el-picker-panel__icon-btn el-icon-arrow-right",
                            class: { "is-disabled": !_vm.enableMonthArrow },
                            attrs: {
                              type: "button",
                              disabled: !_vm.enableMonthArrow
                            },
                            on: { click: _vm.leftNextMonth }
                          })
                        : _vm._e(),
                      _c("div", [_vm._v(_vm._s(_vm.leftLabel))])
                    ]),
                    _c("date-table", {
                      attrs: {
                        "selection-mode": "range",
                        date: _vm.leftDate,
                        "default-value": _vm.defaultValue,
                        "min-date": _vm.minDate,
                        "max-date": _vm.maxDate,
                        "range-state": _vm.rangeState,
                        "disabled-date": _vm.disabledDate,
                        "cell-class-name": _vm.cellClassName,
                        "first-day-of-week": _vm.firstDayOfWeek
                      },
                      on: {
                        changerange: _vm.handleChangeRange,
                        pick: _vm.handleRangePick
                      }
                    })
                  ],
                  1
                ),
                _c(
                  "div",
                  {
                    staticClass:
                      "el-picker-panel__content el-date-range-picker__content is-right"
                  },
                  [
                    _c("div", { staticClass: "el-date-range-picker__header" }, [
                      _vm.unlinkPanels
                        ? _c("button", {
                            staticClass:
                              "el-picker-panel__icon-btn el-icon-d-arrow-left",
                            class: { "is-disabled": !_vm.enableYearArrow },
                            attrs: {
                              type: "button",
                              disabled: !_vm.enableYearArrow
                            },
                            on: { click: _vm.rightPrevYear }
                          })
                        : _vm._e(),
                      _vm.unlinkPanels
                        ? _c("button", {
                            staticClass:
                              "el-picker-panel__icon-btn el-icon-arrow-left",
                            class: { "is-disabled": !_vm.enableMonthArrow },
                            attrs: {
                              type: "button",
                              disabled: !_vm.enableMonthArrow
                            },
                            on: { click: _vm.rightPrevMonth }
                          })
                        : _vm._e(),
                      _c("button", {
                        staticClass:
                          "el-picker-panel__icon-btn el-icon-d-arrow-right",
                        attrs: { type: "button" },
                        on: { click: _vm.rightNextYear }
                      }),
                      _c("button", {
                        staticClass:
                          "el-picker-panel__icon-btn el-icon-arrow-right",
                        attrs: { type: "button" },
                        on: { click: _vm.rightNextMonth }
                      }),
                      _c("div", [_vm._v(_vm._s(_vm.rightLabel))])
                    ]),
                    _c("date-table", {
                      attrs: {
                        "selection-mode": "range",
                        date: _vm.rightDate,
                        "default-value": _vm.defaultValue,
                        "min-date": _vm.minDate,
                        "max-date": _vm.maxDate,
                        "range-state": _vm.rangeState,
                        "disabled-date": _vm.disabledDate,
                        "cell-class-name": _vm.cellClassName,
                        "first-day-of-week": _vm.firstDayOfWeek
                      },
                      on: {
                        changerange: _vm.handleChangeRange,
                        pick: _vm.handleRangePick
                      }
                    })
                  ],
                  1
                )
              ])
            ],
            2
          ),
          _vm.showTime
            ? _c(
                "div",
                { staticClass: "el-picker-panel__footer" },
                [
                  _c(
                    "el-button",
                    {
                      staticClass: "el-picker-panel__link-btn",
                      attrs: { size: "mini", type: "text" },
                      on: { click: _vm.handleClear }
                    },
                    [
                      _vm._v(
                        "\n        " +
                          _vm._s(_vm.t("el.datepicker.clear")) +
                          "\n      "
                      )
                    ]
                  ),
                  _c(
                    "el-button",
                    {
                      staticClass: "el-picker-panel__link-btn",
                      attrs: {
                        plain: "",
                        size: "mini",
                        disabled: _vm.btnDisabled
                      },
                      on: {
                        click: function($event) {
                          return _vm.handleConfirm(false)
                        }
                      }
                    },
                    [
                      _vm._v(
                        "\n        " +
                          _vm._s(_vm.t("el.datepicker.confirm")) +
                          "\n      "
                      )
                    ]
                  )
                ],
                1
              )
            : _vm._e()
        ]
      )
    ]
  )
}
var date_rangevue_type_template_id_25fc967c_staticRenderFns = []
date_rangevue_type_template_id_25fc967c_render._withStripped = true


// CONCATENATED MODULE: ./packages/date-picker/src/panel/date-range.vue?vue&type=template&id=25fc967c

// CONCATENATED MODULE: C:/Users/TylerTrotter/repos/Cognito Forms/Cognito.Web.Client/node_modules/.pnpm/babel-loader@8.3.0_@babel+core@7.25.2_webpack@4.46.0/node_modules/babel-loader/lib!C:/Users/TylerTrotter/repos/Cognito Forms/Cognito.Web.Client/node_modules/.pnpm/vue-loader@15.11.1_css-loader@5.2.7_prettier@1.18.2_vue-template-compiler@2.7.15_webpack@4.46.0/node_modules/vue-loader/lib??vue-loader-options!./packages/date-picker/src/panel/date-range.vue?vue&type=script&lang=js







const calcDefaultValue = defaultValue => {
  if (Array.isArray(defaultValue)) {
    return [new Date(defaultValue[0]), new Date(defaultValue[1])];
  } else if (defaultValue) {
    return [new Date(defaultValue), Object(date_util_["nextDate"])(new Date(defaultValue), 1)];
  } else {
    return [new Date(), Object(date_util_["nextDate"])(new Date(), 1)];
  }
};
/* harmony default export */ var date_rangevue_type_script_lang_js = ({
  mixins: [locale_default.a],
  directives: {
    Clickoutside: clickoutside_default.a
  },
  computed: {
    btnDisabled() {
      return !(this.minDate && this.maxDate && !this.selecting && this.isValidValue([this.minDate, this.maxDate]));
    },
    leftLabel() {
      return this.leftDate.getFullYear() + ' ' + this.t('el.datepicker.year') + ' ' + this.t(`el.datepicker.month${this.leftDate.getMonth() + 1}`);
    },
    rightLabel() {
      return this.rightDate.getFullYear() + ' ' + this.t('el.datepicker.year') + ' ' + this.t(`el.datepicker.month${this.rightDate.getMonth() + 1}`);
    },
    leftYear() {
      return this.leftDate.getFullYear();
    },
    leftMonth() {
      return this.leftDate.getMonth();
    },
    leftMonthDate() {
      return this.leftDate.getDate();
    },
    rightYear() {
      return this.rightDate.getFullYear();
    },
    rightMonth() {
      return this.rightDate.getMonth();
    },
    rightMonthDate() {
      return this.rightDate.getDate();
    },
    minVisibleDate() {
      if (this.dateUserInput.min !== null) return this.dateUserInput.min;
      if (this.minDate) return Object(date_util_["formatDate"])(this.minDate, this.dateFormat);
      return '';
    },
    maxVisibleDate() {
      if (this.dateUserInput.max !== null) return this.dateUserInput.max;
      if (this.maxDate || this.minDate) return Object(date_util_["formatDate"])(this.maxDate || this.minDate, this.dateFormat);
      return '';
    },
    minVisibleTime() {
      if (this.timeUserInput.min !== null) return this.timeUserInput.min;
      if (this.minDate) return Object(date_util_["formatDate"])(this.minDate, this.timeFormat);
      return '';
    },
    maxVisibleTime() {
      if (this.timeUserInput.max !== null) return this.timeUserInput.max;
      if (this.maxDate || this.minDate) return Object(date_util_["formatDate"])(this.maxDate || this.minDate, this.timeFormat);
      return '';
    },
    timeFormat() {
      if (this.format) {
        return Object(date_util_["extractTimeFormat"])(this.format);
      } else {
        return 'HH:mm:ss';
      }
    },
    dateFormat() {
      if (this.format) {
        return Object(date_util_["extractDateFormat"])(this.format);
      } else {
        return 'yyyy-MM-dd';
      }
    },
    enableMonthArrow() {
      const nextMonth = (this.leftMonth + 1) % 12;
      const yearOffset = this.leftMonth + 1 >= 12 ? 1 : 0;
      return this.unlinkPanels && new Date(this.leftYear + yearOffset, nextMonth) < new Date(this.rightYear, this.rightMonth);
    },
    enableYearArrow() {
      return this.unlinkPanels && this.rightYear * 12 + this.rightMonth - (this.leftYear * 12 + this.leftMonth + 1) >= 12;
    }
  },
  data() {
    return {
      popperClass: '',
      value: [],
      defaultValue: null,
      defaultTime: null,
      minDate: '',
      maxDate: '',
      leftDate: new Date(),
      rightDate: Object(date_util_["nextMonth"])(new Date()),
      rangeState: {
        endDate: null,
        selecting: false,
        row: null,
        column: null
      },
      showTime: false,
      shortcuts: '',
      visible: '',
      disabledDate: '',
      cellClassName: '',
      firstDayOfWeek: 7,
      minTimePickerVisible: false,
      maxTimePickerVisible: false,
      format: '',
      arrowControl: false,
      unlinkPanels: false,
      dateUserInput: {
        min: null,
        max: null
      },
      timeUserInput: {
        min: null,
        max: null
      }
    };
  },
  watch: {
    minDate(val) {
      this.dateUserInput.min = null;
      this.timeUserInput.min = null;
      this.$nextTick(() => {
        if (this.$refs.maxTimePicker && this.maxDate && this.maxDate < this.minDate) {
          const format = 'HH:mm:ss';
          this.$refs.maxTimePicker.selectableRange = [[Object(date_util_["parseDate"])(Object(date_util_["formatDate"])(this.minDate, format), format), Object(date_util_["parseDate"])('23:59:59', format)]];
        }
      });
      if (val && this.$refs.minTimePicker) {
        this.$refs.minTimePicker.date = val;
        this.$refs.minTimePicker.value = val;
      }
    },
    maxDate(val) {
      this.dateUserInput.max = null;
      this.timeUserInput.max = null;
      if (val && this.$refs.maxTimePicker) {
        this.$refs.maxTimePicker.date = val;
        this.$refs.maxTimePicker.value = val;
      }
    },
    minTimePickerVisible(val) {
      if (val) {
        this.$nextTick(() => {
          this.$refs.minTimePicker.date = this.minDate;
          this.$refs.minTimePicker.value = this.minDate;
          this.$refs.minTimePicker.adjustSpinners();
        });
      }
    },
    maxTimePickerVisible(val) {
      if (val) {
        this.$nextTick(() => {
          this.$refs.maxTimePicker.date = this.maxDate;
          this.$refs.maxTimePicker.value = this.maxDate;
          this.$refs.maxTimePicker.adjustSpinners();
        });
      }
    },
    value(newVal) {
      if (!newVal) {
        this.minDate = null;
        this.maxDate = null;
      } else if (Array.isArray(newVal)) {
        this.minDate = Object(date_util_["isDate"])(newVal[0]) ? new Date(newVal[0]) : null;
        this.maxDate = Object(date_util_["isDate"])(newVal[1]) ? new Date(newVal[1]) : null;
        if (this.minDate) {
          this.leftDate = this.minDate;
          if (this.unlinkPanels && this.maxDate) {
            const minDateYear = this.minDate.getFullYear();
            const minDateMonth = this.minDate.getMonth();
            const maxDateYear = this.maxDate.getFullYear();
            const maxDateMonth = this.maxDate.getMonth();
            this.rightDate = minDateYear === maxDateYear && minDateMonth === maxDateMonth ? Object(date_util_["nextMonth"])(this.maxDate) : this.maxDate;
          } else {
            this.rightDate = Object(date_util_["nextMonth"])(this.leftDate);
          }
        } else {
          this.leftDate = calcDefaultValue(this.defaultValue)[0];
          this.rightDate = Object(date_util_["nextMonth"])(this.leftDate);
        }
      }
    },
    defaultValue(val) {
      if (!Array.isArray(this.value)) {
        const [left, right] = calcDefaultValue(val);
        this.leftDate = left;
        this.rightDate = val && val[1] && this.unlinkPanels ? right : Object(date_util_["nextMonth"])(this.leftDate);
      }
    }
  },
  methods: {
    handleClear() {
      this.minDate = null;
      this.maxDate = null;
      this.leftDate = calcDefaultValue(this.defaultValue)[0];
      this.rightDate = Object(date_util_["nextMonth"])(this.leftDate);
      this.$emit('pick', null);
    },
    handleChangeRange(val) {
      this.minDate = val.minDate;
      this.maxDate = val.maxDate;
      this.rangeState = val.rangeState;
    },
    handleDateInput(value, type) {
      this.dateUserInput[type] = value;
      if (value.length !== this.dateFormat.length) return;
      const parsedValue = Object(date_util_["parseDate"])(value, this.dateFormat);
      if (parsedValue) {
        if (typeof this.disabledDate === 'function' && this.disabledDate(new Date(parsedValue))) {
          return;
        }
        if (type === 'min') {
          this.minDate = Object(date_util_["modifyDate"])(this.minDate || new Date(), parsedValue.getFullYear(), parsedValue.getMonth(), parsedValue.getDate());
          this.leftDate = new Date(parsedValue);
          if (!this.unlinkPanels) {
            this.rightDate = Object(date_util_["nextMonth"])(this.leftDate);
          }
        } else {
          this.maxDate = Object(date_util_["modifyDate"])(this.maxDate || new Date(), parsedValue.getFullYear(), parsedValue.getMonth(), parsedValue.getDate());
          this.rightDate = new Date(parsedValue);
          if (!this.unlinkPanels) {
            this.leftDate = Object(date_util_["prevMonth"])(parsedValue);
          }
        }
      }
    },
    handleDateChange(value, type) {
      const parsedValue = Object(date_util_["parseDate"])(value, this.dateFormat);
      if (parsedValue) {
        if (type === 'min') {
          this.minDate = Object(date_util_["modifyDate"])(this.minDate, parsedValue.getFullYear(), parsedValue.getMonth(), parsedValue.getDate());
          if (this.minDate > this.maxDate) {
            this.maxDate = this.minDate;
          }
        } else {
          this.maxDate = Object(date_util_["modifyDate"])(this.maxDate, parsedValue.getFullYear(), parsedValue.getMonth(), parsedValue.getDate());
          if (this.maxDate < this.minDate) {
            this.minDate = this.maxDate;
          }
        }
      }
    },
    handleTimeInput(value, type) {
      this.timeUserInput[type] = value;
      if (value.length !== this.timeFormat.length) return;
      const parsedValue = Object(date_util_["parseDate"])(value, this.timeFormat);
      if (parsedValue) {
        if (type === 'min') {
          this.minDate = Object(date_util_["modifyTime"])(this.minDate, parsedValue.getHours(), parsedValue.getMinutes(), parsedValue.getSeconds());
          this.$nextTick(_ => this.$refs.minTimePicker.adjustSpinners());
        } else {
          this.maxDate = Object(date_util_["modifyTime"])(this.maxDate, parsedValue.getHours(), parsedValue.getMinutes(), parsedValue.getSeconds());
          this.$nextTick(_ => this.$refs.maxTimePicker.adjustSpinners());
        }
      }
    },
    handleTimeChange(value, type) {
      const parsedValue = Object(date_util_["parseDate"])(value, this.timeFormat);
      if (parsedValue) {
        if (type === 'min') {
          this.minDate = Object(date_util_["modifyTime"])(this.minDate, parsedValue.getHours(), parsedValue.getMinutes(), parsedValue.getSeconds());
          if (this.minDate > this.maxDate) {
            this.maxDate = this.minDate;
          }
          this.$refs.minTimePicker.value = this.minDate;
          this.minTimePickerVisible = false;
        } else {
          this.maxDate = Object(date_util_["modifyTime"])(this.maxDate, parsedValue.getHours(), parsedValue.getMinutes(), parsedValue.getSeconds());
          if (this.maxDate < this.minDate) {
            this.minDate = this.maxDate;
          }
          this.$refs.maxTimePicker.value = this.minDate;
          this.maxTimePickerVisible = false;
        }
      }
    },
    handleRangePick(val, close) {
      if (close === void 0) {
        close = true;
      }
      const defaultTime = this.defaultTime || [];
      const minDate = Object(date_util_["modifyWithTimeString"])(val.minDate, defaultTime[0]);
      const maxDate = Object(date_util_["modifyWithTimeString"])(val.maxDate, defaultTime[1]);
      if (this.maxDate === maxDate && this.minDate === minDate) {
        return;
      }
      this.onPick && this.onPick(val);
      this.maxDate = maxDate;
      this.minDate = minDate;

      // workaround for https://github.com/ElemeFE/element/issues/7539, should remove this block when we don't have to care about Chromium 55 - 57
      setTimeout(() => {
        this.maxDate = maxDate;
        this.minDate = minDate;
      }, 10);
      if (!close || this.showTime) return;
      this.handleConfirm();
    },
    handleShortcutClick(shortcut) {
      if (shortcut.onClick) {
        shortcut.onClick(this);
      }
    },
    handleMinTimePick(value, visible, first) {
      this.minDate = this.minDate || new Date();
      if (value) {
        this.minDate = Object(date_util_["modifyTime"])(this.minDate, value.getHours(), value.getMinutes(), value.getSeconds());
      }
      if (!first) {
        this.minTimePickerVisible = visible;
      }
      if (!this.maxDate || this.maxDate && this.maxDate.getTime() < this.minDate.getTime()) {
        this.maxDate = new Date(this.minDate);
      }
    },
    handleMinTimeClose() {
      this.minTimePickerVisible = false;
    },
    handleMaxTimePick(value, visible, first) {
      if (this.maxDate && value) {
        this.maxDate = Object(date_util_["modifyTime"])(this.maxDate, value.getHours(), value.getMinutes(), value.getSeconds());
      }
      if (!first) {
        this.maxTimePickerVisible = visible;
      }
      if (this.maxDate && this.minDate && this.minDate.getTime() > this.maxDate.getTime()) {
        this.minDate = new Date(this.maxDate);
      }
    },
    handleMaxTimeClose() {
      this.maxTimePickerVisible = false;
    },
    // leftPrev*, rightNext* need to take care of `unlinkPanels`
    leftPrevYear() {
      this.leftDate = Object(date_util_["prevYear"])(this.leftDate);
      if (!this.unlinkPanels) {
        this.rightDate = Object(date_util_["nextMonth"])(this.leftDate);
      }
    },
    leftPrevMonth() {
      this.leftDate = Object(date_util_["prevMonth"])(this.leftDate);
      if (!this.unlinkPanels) {
        this.rightDate = Object(date_util_["nextMonth"])(this.leftDate);
      }
    },
    rightNextYear() {
      if (!this.unlinkPanels) {
        this.leftDate = Object(date_util_["nextYear"])(this.leftDate);
        this.rightDate = Object(date_util_["nextMonth"])(this.leftDate);
      } else {
        this.rightDate = Object(date_util_["nextYear"])(this.rightDate);
      }
    },
    rightNextMonth() {
      if (!this.unlinkPanels) {
        this.leftDate = Object(date_util_["nextMonth"])(this.leftDate);
        this.rightDate = Object(date_util_["nextMonth"])(this.leftDate);
      } else {
        this.rightDate = Object(date_util_["nextMonth"])(this.rightDate);
      }
    },
    // leftNext*, rightPrev* are called when `unlinkPanels` is true
    leftNextYear() {
      this.leftDate = Object(date_util_["nextYear"])(this.leftDate);
    },
    leftNextMonth() {
      this.leftDate = Object(date_util_["nextMonth"])(this.leftDate);
    },
    rightPrevYear() {
      this.rightDate = Object(date_util_["prevYear"])(this.rightDate);
    },
    rightPrevMonth() {
      this.rightDate = Object(date_util_["prevMonth"])(this.rightDate);
    },
    handleConfirm(visible) {
      if (visible === void 0) {
        visible = false;
      }
      if (this.isValidValue([this.minDate, this.maxDate])) {
        this.$emit('pick', [this.minDate, this.maxDate], visible);
      }
    },
    isValidValue(value) {
      return Array.isArray(value) && value && value[0] && value[1] && Object(date_util_["isDate"])(value[0]) && Object(date_util_["isDate"])(value[1]) && value[0].getTime() <= value[1].getTime() && (typeof this.disabledDate === 'function' ? !this.disabledDate(value[0]) && !this.disabledDate(value[1]) : true);
    },
    resetView() {
      // NOTE: this is a hack to reset {min, max}Date on picker open.
      // TODO: correct way of doing so is to refactor {min, max}Date to be dependent on value and internal selection state
      //       an alternative would be resetView whenever picker becomes visible, should also investigate date-panel's resetView
      if (this.minDate && this.maxDate == null) this.rangeState.selecting = false;
      this.minDate = this.value && Object(date_util_["isDate"])(this.value[0]) ? new Date(this.value[0]) : null;
      this.maxDate = this.value && Object(date_util_["isDate"])(this.value[0]) ? new Date(this.value[1]) : null;
    }
  },
  components: {
    TimePicker: panel_time["a" /* default */],
    DateTable: date_table,
    ElInput: external_input_default.a,
    ElButton: external_button_default.a
  }
});
// CONCATENATED MODULE: ./packages/date-picker/src/panel/date-range.vue?vue&type=script&lang=js
 /* harmony default export */ var panel_date_rangevue_type_script_lang_js = (date_rangevue_type_script_lang_js); 
// CONCATENATED MODULE: ./packages/date-picker/src/panel/date-range.vue





/* normalize component */

var date_range_component = Object(componentNormalizer["a" /* default */])(
  panel_date_rangevue_type_script_lang_js,
  date_rangevue_type_template_id_25fc967c_render,
  date_rangevue_type_template_id_25fc967c_staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* harmony default export */ var date_range = (date_range_component.exports);
// CONCATENATED MODULE: C:/Users/TylerTrotter/repos/Cognito Forms/Cognito.Web.Client/node_modules/.pnpm/vue-loader@15.11.1_css-loader@5.2.7_prettier@1.18.2_vue-template-compiler@2.7.15_webpack@4.46.0/node_modules/vue-loader/lib/loaders/templateLoader.js??ref--5!C:/Users/TylerTrotter/repos/Cognito Forms/Cognito.Web.Client/node_modules/.pnpm/vue-loader@15.11.1_css-loader@5.2.7_prettier@1.18.2_vue-template-compiler@2.7.15_webpack@4.46.0/node_modules/vue-loader/lib??vue-loader-options!./packages/date-picker/src/panel/month-range.vue?vue&type=template&id=704d6b4b
var month_rangevue_type_template_id_704d6b4b_render = function render() {
  var _vm = this,
    _c = _vm._self._c
  return _c(
    "transition",
    {
      attrs: { name: "el-zoom-in-top" },
      on: {
        "after-leave": function($event) {
          return _vm.$emit("dodestroy")
        }
      }
    },
    [
      _c(
        "div",
        {
          directives: [
            {
              name: "show",
              rawName: "v-show",
              value: _vm.visible,
              expression: "visible"
            }
          ],
          staticClass: "el-picker-panel el-date-range-picker el-popper",
          class: [
            {
              "has-sidebar": _vm.$slots.sidebar || _vm.shortcuts
            },
            _vm.popperClass
          ]
        },
        [
          _c(
            "div",
            { staticClass: "el-picker-panel__body-wrapper" },
            [
              _vm._t("sidebar"),
              _vm.shortcuts
                ? _c(
                    "div",
                    { staticClass: "el-picker-panel__sidebar" },
                    _vm._l(_vm.shortcuts, function(shortcut, key) {
                      return _c(
                        "button",
                        {
                          key: key,
                          staticClass: "el-picker-panel__shortcut",
                          attrs: { type: "button" },
                          on: {
                            click: function($event) {
                              return _vm.handleShortcutClick(shortcut)
                            }
                          }
                        },
                        [_vm._v(_vm._s(shortcut.text))]
                      )
                    }),
                    0
                  )
                : _vm._e(),
              _c("div", { staticClass: "el-picker-panel__body" }, [
                _c(
                  "div",
                  {
                    staticClass:
                      "el-picker-panel__content el-date-range-picker__content is-left"
                  },
                  [
                    _c("div", { staticClass: "el-date-range-picker__header" }, [
                      _c("button", {
                        staticClass:
                          "el-picker-panel__icon-btn el-icon-d-arrow-left",
                        attrs: { type: "button" },
                        on: { click: _vm.leftPrevYear }
                      }),
                      _vm.unlinkPanels
                        ? _c("button", {
                            staticClass:
                              "el-picker-panel__icon-btn el-icon-d-arrow-right",
                            class: { "is-disabled": !_vm.enableYearArrow },
                            attrs: {
                              type: "button",
                              disabled: !_vm.enableYearArrow
                            },
                            on: { click: _vm.leftNextYear }
                          })
                        : _vm._e(),
                      _c("div", [_vm._v(_vm._s(_vm.leftLabel))])
                    ]),
                    _c("month-table", {
                      attrs: {
                        "selection-mode": "range",
                        date: _vm.leftDate,
                        "default-value": _vm.defaultValue,
                        "min-date": _vm.minDate,
                        "max-date": _vm.maxDate,
                        "range-state": _vm.rangeState,
                        "disabled-date": _vm.disabledDate
                      },
                      on: {
                        changerange: _vm.handleChangeRange,
                        pick: _vm.handleRangePick
                      }
                    })
                  ],
                  1
                ),
                _c(
                  "div",
                  {
                    staticClass:
                      "el-picker-panel__content el-date-range-picker__content is-right"
                  },
                  [
                    _c("div", { staticClass: "el-date-range-picker__header" }, [
                      _vm.unlinkPanels
                        ? _c("button", {
                            staticClass:
                              "el-picker-panel__icon-btn el-icon-d-arrow-left",
                            class: { "is-disabled": !_vm.enableYearArrow },
                            attrs: {
                              type: "button",
                              disabled: !_vm.enableYearArrow
                            },
                            on: { click: _vm.rightPrevYear }
                          })
                        : _vm._e(),
                      _c("button", {
                        staticClass:
                          "el-picker-panel__icon-btn el-icon-d-arrow-right",
                        attrs: { type: "button" },
                        on: { click: _vm.rightNextYear }
                      }),
                      _c("div", [_vm._v(_vm._s(_vm.rightLabel))])
                    ]),
                    _c("month-table", {
                      attrs: {
                        "selection-mode": "range",
                        date: _vm.rightDate,
                        "default-value": _vm.defaultValue,
                        "min-date": _vm.minDate,
                        "max-date": _vm.maxDate,
                        "range-state": _vm.rangeState,
                        "disabled-date": _vm.disabledDate
                      },
                      on: {
                        changerange: _vm.handleChangeRange,
                        pick: _vm.handleRangePick
                      }
                    })
                  ],
                  1
                )
              ])
            ],
            2
          )
        ]
      )
    ]
  )
}
var month_rangevue_type_template_id_704d6b4b_staticRenderFns = []
month_rangevue_type_template_id_704d6b4b_render._withStripped = true


// CONCATENATED MODULE: ./packages/date-picker/src/panel/month-range.vue?vue&type=template&id=704d6b4b

// CONCATENATED MODULE: C:/Users/TylerTrotter/repos/Cognito Forms/Cognito.Web.Client/node_modules/.pnpm/babel-loader@8.3.0_@babel+core@7.25.2_webpack@4.46.0/node_modules/babel-loader/lib!C:/Users/TylerTrotter/repos/Cognito Forms/Cognito.Web.Client/node_modules/.pnpm/vue-loader@15.11.1_css-loader@5.2.7_prettier@1.18.2_vue-template-compiler@2.7.15_webpack@4.46.0/node_modules/vue-loader/lib??vue-loader-options!./packages/date-picker/src/panel/month-range.vue?vue&type=script&lang=js






const month_rangevue_type_script_lang_js_calcDefaultValue = defaultValue => {
  if (Array.isArray(defaultValue)) {
    return [new Date(defaultValue[0]), new Date(defaultValue[1])];
  } else if (defaultValue) {
    return [new Date(defaultValue), Object(date_util_["nextMonth"])(new Date(defaultValue))];
  } else {
    return [new Date(), Object(date_util_["nextMonth"])(new Date())];
  }
};
/* harmony default export */ var month_rangevue_type_script_lang_js = ({
  mixins: [locale_default.a],
  directives: {
    Clickoutside: clickoutside_default.a
  },
  computed: {
    btnDisabled() {
      return !(this.minDate && this.maxDate && !this.selecting && this.isValidValue([this.minDate, this.maxDate]));
    },
    leftLabel() {
      return this.leftDate.getFullYear() + ' ' + this.t('el.datepicker.year');
    },
    rightLabel() {
      return this.rightDate.getFullYear() + ' ' + this.t('el.datepicker.year');
    },
    leftYear() {
      return this.leftDate.getFullYear();
    },
    rightYear() {
      return this.rightDate.getFullYear() === this.leftDate.getFullYear() ? this.leftDate.getFullYear() + 1 : this.rightDate.getFullYear();
    },
    enableYearArrow() {
      return this.unlinkPanels && this.rightYear > this.leftYear + 1;
    }
  },
  data() {
    return {
      popperClass: '',
      value: [],
      defaultValue: null,
      defaultTime: null,
      minDate: '',
      maxDate: '',
      leftDate: new Date(),
      rightDate: Object(date_util_["nextYear"])(new Date()),
      rangeState: {
        endDate: null,
        selecting: false,
        row: null,
        column: null
      },
      shortcuts: '',
      visible: '',
      disabledDate: '',
      format: '',
      arrowControl: false,
      unlinkPanels: false
    };
  },
  watch: {
    value(newVal) {
      if (!newVal) {
        this.minDate = null;
        this.maxDate = null;
      } else if (Array.isArray(newVal)) {
        this.minDate = Object(date_util_["isDate"])(newVal[0]) ? new Date(newVal[0]) : null;
        this.maxDate = Object(date_util_["isDate"])(newVal[1]) ? new Date(newVal[1]) : null;
        if (this.minDate) {
          this.leftDate = this.minDate;
          if (this.unlinkPanels && this.maxDate) {
            const minDateYear = this.minDate.getFullYear();
            const maxDateYear = this.maxDate.getFullYear();
            this.rightDate = minDateYear === maxDateYear ? Object(date_util_["nextYear"])(this.maxDate) : this.maxDate;
          } else {
            this.rightDate = Object(date_util_["nextYear"])(this.leftDate);
          }
        } else {
          this.leftDate = month_rangevue_type_script_lang_js_calcDefaultValue(this.defaultValue)[0];
          this.rightDate = Object(date_util_["nextYear"])(this.leftDate);
        }
      }
    },
    defaultValue(val) {
      if (!Array.isArray(this.value)) {
        const [left, right] = month_rangevue_type_script_lang_js_calcDefaultValue(val);
        this.leftDate = left;
        this.rightDate = val && val[1] && left.getFullYear() !== right.getFullYear() && this.unlinkPanels ? right : Object(date_util_["nextYear"])(this.leftDate);
      }
    }
  },
  methods: {
    handleClear() {
      this.minDate = null;
      this.maxDate = null;
      this.leftDate = month_rangevue_type_script_lang_js_calcDefaultValue(this.defaultValue)[0];
      this.rightDate = Object(date_util_["nextYear"])(this.leftDate);
      this.$emit('pick', null);
    },
    handleChangeRange(val) {
      this.minDate = val.minDate;
      this.maxDate = val.maxDate;
      this.rangeState = val.rangeState;
    },
    handleRangePick(val, close) {
      if (close === void 0) {
        close = true;
      }
      const defaultTime = this.defaultTime || [];
      const minDate = Object(date_util_["modifyWithTimeString"])(val.minDate, defaultTime[0]);
      const maxDate = Object(date_util_["modifyWithTimeString"])(val.maxDate, defaultTime[1]);
      if (this.maxDate === maxDate && this.minDate === minDate) {
        return;
      }
      this.onPick && this.onPick(val);
      this.maxDate = maxDate;
      this.minDate = minDate;

      // workaround for https://github.com/ElemeFE/element/issues/7539, should remove this block when we don't have to care about Chromium 55 - 57
      setTimeout(() => {
        this.maxDate = maxDate;
        this.minDate = minDate;
      }, 10);
      if (!close) return;
      this.handleConfirm();
    },
    handleShortcutClick(shortcut) {
      if (shortcut.onClick) {
        shortcut.onClick(this);
      }
    },
    // leftPrev*, rightNext* need to take care of `unlinkPanels`
    leftPrevYear() {
      this.leftDate = Object(date_util_["prevYear"])(this.leftDate);
      if (!this.unlinkPanels) {
        this.rightDate = Object(date_util_["prevYear"])(this.rightDate);
      }
    },
    rightNextYear() {
      if (!this.unlinkPanels) {
        this.leftDate = Object(date_util_["nextYear"])(this.leftDate);
      }
      this.rightDate = Object(date_util_["nextYear"])(this.rightDate);
    },
    // leftNext*, rightPrev* are called when `unlinkPanels` is true
    leftNextYear() {
      this.leftDate = Object(date_util_["nextYear"])(this.leftDate);
    },
    rightPrevYear() {
      this.rightDate = Object(date_util_["prevYear"])(this.rightDate);
    },
    handleConfirm(visible) {
      if (visible === void 0) {
        visible = false;
      }
      if (this.isValidValue([this.minDate, this.maxDate])) {
        this.$emit('pick', [this.minDate, this.maxDate], visible);
      }
    },
    isValidValue(value) {
      return Array.isArray(value) && value && value[0] && value[1] && Object(date_util_["isDate"])(value[0]) && Object(date_util_["isDate"])(value[1]) && value[0].getTime() <= value[1].getTime() && (typeof this.disabledDate === 'function' ? !this.disabledDate(value[0]) && !this.disabledDate(value[1]) : true);
    },
    resetView() {
      // NOTE: this is a hack to reset {min, max}Date on picker open.
      // TODO: correct way of doing so is to refactor {min, max}Date to be dependent on value and internal selection state
      //       an alternative would be resetView whenever picker becomes visible, should also investigate date-panel's resetView
      this.minDate = this.value && Object(date_util_["isDate"])(this.value[0]) ? new Date(this.value[0]) : null;
      this.maxDate = this.value && Object(date_util_["isDate"])(this.value[0]) ? new Date(this.value[1]) : null;
    }
  },
  components: {
    MonthTable: month_table,
    ElInput: external_input_default.a,
    ElButton: external_button_default.a
  }
});
// CONCATENATED MODULE: ./packages/date-picker/src/panel/month-range.vue?vue&type=script&lang=js
 /* harmony default export */ var panel_month_rangevue_type_script_lang_js = (month_rangevue_type_script_lang_js); 
// CONCATENATED MODULE: ./packages/date-picker/src/panel/month-range.vue





/* normalize component */

var month_range_component = Object(componentNormalizer["a" /* default */])(
  panel_month_rangevue_type_script_lang_js,
  month_rangevue_type_template_id_704d6b4b_render,
  month_rangevue_type_template_id_704d6b4b_staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* harmony default export */ var month_range = (month_range_component.exports);
// CONCATENATED MODULE: ./packages/date-picker/src/picker/date-picker.js




const getPanel = function (type) {
  if (type === 'daterange' || type === 'datetimerange') {
    return date_range;
  } else if (type === 'monthrange') {
    return month_range;
  }
  return panel_date;
};
/* harmony default export */ var date_picker = ({
  mixins: [picker["a" /* default */]],
  name: 'ElDatePicker',
  props: {
    type: {
      type: String,
      default: 'date'
    },
    timeArrowControl: Boolean
  },
  watch: {
    type(type) {
      if (this.picker) {
        this.unmountPicker();
        this.panel = getPanel(type);
        this.mountPicker();
      } else {
        this.panel = getPanel(type);
      }
    }
  },
  created() {
    this.panel = getPanel(this.type);
  }
});
// CONCATENATED MODULE: ./packages/date-picker/index.js


/* istanbul ignore next */
date_picker.install = function install(Vue) {
  Vue.component(date_picker.name, date_picker);
};
/* harmony default export */ var packages_date_picker = __webpack_exports__["default"] = (date_picker);

/***/ })
/******/ ]);

/***/ }),

/***/ "../../libs/element-ui/lib/utils/date-util.js":
/***/ (function(module, exports, __webpack_require__) {

"use strict";


exports.__esModule = true;
exports.validateRangeInOneMonth = exports.toDate = exports.timeWithinRange = exports.range = exports.prevYear = exports.prevMonth = exports.prevDate = exports.parseDate = exports.nextYear = exports.nextMonth = exports.nextDate = exports.modifyWithTimeString = exports.modifyTime = exports.modifyDate = exports.limitTimeRange = exports.isDateObject = exports.isDate = exports.getWeekNumber = exports.getStartDateOfMonth = exports.getRangeMinutes = exports.getRangeHours = exports.getPrevMonthLastDays = exports.getMonthDays = exports.getI18nSettings = exports.getFirstDayOfMonth = exports.getDayCountOfYear = exports.getDayCountOfMonth = exports.formatDate = exports.extractTimeFormat = exports.extractDateFormat = exports.clearTime = exports.clearMilliseconds = exports.changeYearMonthAndClampDate = void 0;
var _date = _interopRequireDefault(__webpack_require__("../../libs/element-ui/lib/utils/date.js"));
var _locale = __webpack_require__("../../libs/element-ui/lib/locale/index.js");
function _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }
const weeks = ['sun', 'mon', 'tue', 'wed', 'thu', 'fri', 'sat'];
const months = ['jan', 'feb', 'mar', 'apr', 'may', 'jun', 'jul', 'aug', 'sep', 'oct', 'nov', 'dec'];
const newArray = function (start, end) {
  let result = [];
  for (let i = start; i <= end; i++) {
    result.push(i);
  }
  return result;
};
const getI18nSettings = () => {
  return {
    dayNamesShort: weeks.map(week => (0, _locale.t)(`el.datepicker.weeks.${week}`)),
    dayNames: weeks.map(week => (0, _locale.t)(`el.datepicker.weeks.${week}`)),
    monthNamesShort: months.map(month => (0, _locale.t)(`el.datepicker.months.${month}`)),
    monthNames: months.map((month, index) => (0, _locale.t)(`el.datepicker.month${index + 1}`)),
    amPm: ['am', 'pm'].map(amOrPm => (0, _locale.t)(`el.datepicker.${amOrPm}`) || amOrPm)
  };
};
exports.getI18nSettings = getI18nSettings;
const toDate = function (date) {
  return isDate(date) ? new Date(date) : null;
};
exports.toDate = toDate;
const isDate = function (date) {
  if (date === null || date === undefined) return false;
  if (isNaN(new Date(date).getTime())) return false;
  if (Array.isArray(date)) return false; // deal with `new Date([ new Date() ]) -> new Date()`
  return true;
};
exports.isDate = isDate;
const isDateObject = function (val) {
  return val instanceof Date;
};
exports.isDateObject = isDateObject;
const formatDate = function (date, format) {
  date = toDate(date);
  if (!date) return '';
  return _date.default.format(date, format || 'yyyy-MM-dd', getI18nSettings());
};
exports.formatDate = formatDate;
const parseDate = function (string, format) {
  return _date.default.parse(string, format || 'yyyy-MM-dd', getI18nSettings());
};
exports.parseDate = parseDate;
const getDayCountOfMonth = function (year, month) {
  if (month === 3 || month === 5 || month === 8 || month === 10) {
    return 30;
  }
  if (month === 1) {
    if (year % 4 === 0 && year % 100 !== 0 || year % 400 === 0) {
      return 29;
    } else {
      return 28;
    }
  }
  return 31;
};
exports.getDayCountOfMonth = getDayCountOfMonth;
const getDayCountOfYear = function (year) {
  const isLeapYear = year % 400 === 0 || year % 100 !== 0 && year % 4 === 0;
  return isLeapYear ? 366 : 365;
};
exports.getDayCountOfYear = getDayCountOfYear;
const getFirstDayOfMonth = function (date) {
  const temp = new Date(date.getTime());
  temp.setDate(1);
  return temp.getDay();
};

// see: https://stackoverflow.com/questions/3674539/incrementing-a-date-in-javascript
// {prev, next} Date should work for Daylight Saving Time
// Adding 24 * 60 * 60 * 1000 does not work in the above scenario
exports.getFirstDayOfMonth = getFirstDayOfMonth;
const prevDate = function (date, amount) {
  if (amount === void 0) {
    amount = 1;
  }
  return new Date(date.getFullYear(), date.getMonth(), date.getDate() - amount);
};
exports.prevDate = prevDate;
const nextDate = function (date, amount) {
  if (amount === void 0) {
    amount = 1;
  }
  return new Date(date.getFullYear(), date.getMonth(), date.getDate() + amount);
};
exports.nextDate = nextDate;
const getStartDateOfMonth = function (year, month) {
  const result = new Date(year, month, 1);
  const day = result.getDay();
  if (day === 0) {
    return prevDate(result, 7);
  } else {
    return prevDate(result, day);
  }
};
exports.getStartDateOfMonth = getStartDateOfMonth;
const getWeekNumber = function (src) {
  if (!isDate(src)) return null;
  const date = new Date(src.getTime());
  date.setHours(0, 0, 0, 0);
  // Thursday in current week decides the year.
  date.setDate(date.getDate() + 3 - (date.getDay() + 6) % 7);
  // January 4 is always in week 1.
  const week1 = new Date(date.getFullYear(), 0, 4);
  // Adjust to Thursday in week 1 and count number of weeks from date to week 1.
  // Rounding should be fine for Daylight Saving Time. Its shift should never be more than 12 hours.
  return 1 + Math.round(((date.getTime() - week1.getTime()) / 86400000 - 3 + (week1.getDay() + 6) % 7) / 7);
};
exports.getWeekNumber = getWeekNumber;
const getRangeHours = function (ranges) {
  const hours = [];
  let disabledHours = [];
  (ranges || []).forEach(range => {
    const value = range.map(date => date.getHours());
    disabledHours = disabledHours.concat(newArray(value[0], value[1]));
  });
  if (disabledHours.length) {
    for (let i = 0; i < 24; i++) {
      hours[i] = disabledHours.indexOf(i) === -1;
    }
  } else {
    for (let i = 0; i < 24; i++) {
      hours[i] = false;
    }
  }
  return hours;
};
exports.getRangeHours = getRangeHours;
const getPrevMonthLastDays = (date, amount) => {
  if (amount <= 0) return [];
  const temp = new Date(date.getTime());
  temp.setDate(0);
  const lastDay = temp.getDate();
  return range(amount).map((_, index) => lastDay - (amount - index - 1));
};
exports.getPrevMonthLastDays = getPrevMonthLastDays;
const getMonthDays = date => {
  const temp = new Date(date.getFullYear(), date.getMonth() + 1, 0);
  const days = temp.getDate();
  return range(days).map((_, index) => index + 1);
};
exports.getMonthDays = getMonthDays;
function setRangeData(arr, start, end, value) {
  for (let i = start; i < end; i++) {
    arr[i] = value;
  }
}
const getRangeMinutes = function (ranges, hour) {
  const minutes = new Array(60);
  if (ranges.length > 0) {
    ranges.forEach(range => {
      const start = range[0];
      const end = range[1];
      const startHour = start.getHours();
      const startMinute = start.getMinutes();
      const endHour = end.getHours();
      const endMinute = end.getMinutes();
      if (startHour === hour && endHour !== hour) {
        setRangeData(minutes, startMinute, 60, true);
      } else if (startHour === hour && endHour === hour) {
        setRangeData(minutes, startMinute, endMinute + 1, true);
      } else if (startHour !== hour && endHour === hour) {
        setRangeData(minutes, 0, endMinute + 1, true);
      } else if (startHour < hour && endHour > hour) {
        setRangeData(minutes, 0, 60, true);
      }
    });
  } else {
    setRangeData(minutes, 0, 60, true);
  }
  return minutes;
};
exports.getRangeMinutes = getRangeMinutes;
const range = function (n) {
  // see https://stackoverflow.com/questions/3746725/create-a-javascript-array-containing-1-n
  return Array.apply(null, {
    length: n
  }).map((_, n) => n);
};
exports.range = range;
const modifyDate = function (date, y, m, d) {
  return new Date(y, m, d, date.getHours(), date.getMinutes(), date.getSeconds(), date.getMilliseconds());
};
exports.modifyDate = modifyDate;
const modifyTime = function (date, h, m, s) {
  return new Date(date.getFullYear(), date.getMonth(), date.getDate(), h, m, s, date.getMilliseconds());
};
exports.modifyTime = modifyTime;
const modifyWithTimeString = (date, time) => {
  if (date == null || !time) {
    return date;
  }
  time = parseDate(time, 'HH:mm:ss');
  return modifyTime(date, time.getHours(), time.getMinutes(), time.getSeconds());
};
exports.modifyWithTimeString = modifyWithTimeString;
const clearTime = function (date) {
  return new Date(date.getFullYear(), date.getMonth(), date.getDate());
};
exports.clearTime = clearTime;
const clearMilliseconds = function (date) {
  return new Date(date.getFullYear(), date.getMonth(), date.getDate(), date.getHours(), date.getMinutes(), date.getSeconds(), 0);
};
exports.clearMilliseconds = clearMilliseconds;
const limitTimeRange = function (date, ranges, format) {
  if (format === void 0) {
    format = 'HH:mm:ss';
  }
  // TODO: refactory a more elegant solution
  if (ranges.length === 0) return date;
  const normalizeDate = date => _date.default.parse(_date.default.format(date, format), format);
  const ndate = normalizeDate(date);
  const nranges = ranges.map(range => range.map(normalizeDate));
  if (nranges.some(nrange => ndate >= nrange[0] && ndate <= nrange[1])) return date;
  let minDate = nranges[0][0];
  let maxDate = nranges[0][0];
  nranges.forEach(nrange => {
    minDate = new Date(Math.min(nrange[0], minDate));
    maxDate = new Date(Math.max(nrange[1], minDate));
  });
  const ret = ndate < minDate ? minDate : maxDate;
  // preserve Year/Month/Date
  return modifyDate(ret, date.getFullYear(), date.getMonth(), date.getDate());
};
exports.limitTimeRange = limitTimeRange;
const timeWithinRange = function (date, selectableRange, format) {
  const limitedDate = limitTimeRange(date, selectableRange, format);
  return limitedDate.getTime() === date.getTime();
};
exports.timeWithinRange = timeWithinRange;
const changeYearMonthAndClampDate = function (date, year, month) {
  // clamp date to the number of days in `year`, `month`
  // eg: (2010-1-31, 2010, 2) => 2010-2-28
  const monthDate = Math.min(date.getDate(), getDayCountOfMonth(year, month));
  return modifyDate(date, year, month, monthDate);
};
exports.changeYearMonthAndClampDate = changeYearMonthAndClampDate;
const prevMonth = function (date) {
  const year = date.getFullYear();
  const month = date.getMonth();
  return month === 0 ? changeYearMonthAndClampDate(date, year - 1, 11) : changeYearMonthAndClampDate(date, year, month - 1);
};
exports.prevMonth = prevMonth;
const nextMonth = function (date) {
  const year = date.getFullYear();
  const month = date.getMonth();
  return month === 11 ? changeYearMonthAndClampDate(date, year + 1, 0) : changeYearMonthAndClampDate(date, year, month + 1);
};
exports.nextMonth = nextMonth;
const prevYear = function (date, amount) {
  if (amount === void 0) {
    amount = 1;
  }
  const year = date.getFullYear();
  const month = date.getMonth();
  return changeYearMonthAndClampDate(date, year - amount, month);
};
exports.prevYear = prevYear;
const nextYear = function (date, amount) {
  if (amount === void 0) {
    amount = 1;
  }
  const year = date.getFullYear();
  const month = date.getMonth();
  return changeYearMonthAndClampDate(date, year + amount, month);
};
exports.nextYear = nextYear;
const extractDateFormat = function (format) {
  return format.replace(/\W?m{1,2}|\W?ZZ/g, '').replace(/\W?h{1,2}|\W?s{1,3}|\W?a/gi, '').trim();
};
exports.extractDateFormat = extractDateFormat;
const extractTimeFormat = function (format) {
  return format.replace(/\W?D{1,2}|\W?Do|\W?d{1,4}|\W?M{1,4}|\W?y{2,4}/g, '').trim();
};
exports.extractTimeFormat = extractTimeFormat;
const validateRangeInOneMonth = function (start, end) {
  return start.getMonth() === end.getMonth() && start.getFullYear() === end.getFullYear();
};
exports.validateRangeInOneMonth = validateRangeInOneMonth;

/***/ }),

/***/ "../../libs/element-ui/lib/utils/date.js":
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var __WEBPACK_AMD_DEFINE_RESULT__;

/* Modified from https://github.com/taylorhakes/fecha
 *
 * The MIT License (MIT)
 *
 * Copyright (c) 2015 Taylor Hakes
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 *     The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 *     THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 *     FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 *     OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */

/*eslint-disable*/
// 把 YYYY-MM-DD 改成了 yyyy-MM-dd
(function (main) {
  'use strict';

  /**
   * Parse or format dates
   * @class fecha
   */
  var fecha = {};
  var token = /d{1,4}|M{1,4}|yy(?:yy)?|S{1,3}|Do|ZZ|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g;
  var twoDigits = '\\d\\d?';
  var threeDigits = '\\d{3}';
  var fourDigits = '\\d{4}';
  var word = '[^\\s]+';
  var literal = /\[([^]*?)\]/gm;
  var noop = function () {};
  function regexEscape(str) {
    return str.replace(/[|\\{()[^$+*?.-]/g, '\\$&');
  }
  function shorten(arr, sLen) {
    var newArr = [];
    for (var i = 0, len = arr.length; i < len; i++) {
      newArr.push(arr[i].substr(0, sLen));
    }
    return newArr;
  }
  function monthUpdate(arrName) {
    return function (d, v, i18n) {
      var index = i18n[arrName].indexOf(v.charAt(0).toUpperCase() + v.substr(1).toLowerCase());
      if (~index) {
        d.month = index;
      }
    };
  }
  function pad(val, len) {
    val = String(val);
    len = len || 2;
    while (val.length < len) {
      val = '0' + val;
    }
    return val;
  }
  var dayNames = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];
  var monthNames = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];
  var monthNamesShort = shorten(monthNames, 3);
  var dayNamesShort = shorten(dayNames, 3);
  fecha.i18n = {
    dayNamesShort: dayNamesShort,
    dayNames: dayNames,
    monthNamesShort: monthNamesShort,
    monthNames: monthNames,
    amPm: ['am', 'pm'],
    DoFn: function DoFn(D) {
      return D + ['th', 'st', 'nd', 'rd'][D % 10 > 3 ? 0 : (D - D % 10 !== 10) * D % 10];
    }
  };
  var formatFlags = {
    D: function (dateObj) {
      return dateObj.getDay();
    },
    DD: function (dateObj) {
      return pad(dateObj.getDay());
    },
    Do: function (dateObj, i18n) {
      return i18n.DoFn(dateObj.getDate());
    },
    d: function (dateObj) {
      return dateObj.getDate();
    },
    dd: function (dateObj) {
      return pad(dateObj.getDate());
    },
    ddd: function (dateObj, i18n) {
      return i18n.dayNamesShort[dateObj.getDay()];
    },
    dddd: function (dateObj, i18n) {
      return i18n.dayNames[dateObj.getDay()];
    },
    M: function (dateObj) {
      return dateObj.getMonth() + 1;
    },
    MM: function (dateObj) {
      return pad(dateObj.getMonth() + 1);
    },
    MMM: function (dateObj, i18n) {
      return i18n.monthNamesShort[dateObj.getMonth()];
    },
    MMMM: function (dateObj, i18n) {
      return i18n.monthNames[dateObj.getMonth()];
    },
    yy: function (dateObj) {
      return pad(String(dateObj.getFullYear()), 4).substr(2);
    },
    yyyy: function (dateObj) {
      return pad(dateObj.getFullYear(), 4);
    },
    h: function (dateObj) {
      return dateObj.getHours() % 12 || 12;
    },
    hh: function (dateObj) {
      return pad(dateObj.getHours() % 12 || 12);
    },
    H: function (dateObj) {
      return dateObj.getHours();
    },
    HH: function (dateObj) {
      return pad(dateObj.getHours());
    },
    m: function (dateObj) {
      return dateObj.getMinutes();
    },
    mm: function (dateObj) {
      return pad(dateObj.getMinutes());
    },
    s: function (dateObj) {
      return dateObj.getSeconds();
    },
    ss: function (dateObj) {
      return pad(dateObj.getSeconds());
    },
    S: function (dateObj) {
      return Math.round(dateObj.getMilliseconds() / 100);
    },
    SS: function (dateObj) {
      return pad(Math.round(dateObj.getMilliseconds() / 10), 2);
    },
    SSS: function (dateObj) {
      return pad(dateObj.getMilliseconds(), 3);
    },
    a: function (dateObj, i18n) {
      return dateObj.getHours() < 12 ? i18n.amPm[0] : i18n.amPm[1];
    },
    A: function (dateObj, i18n) {
      return dateObj.getHours() < 12 ? i18n.amPm[0].toUpperCase() : i18n.amPm[1].toUpperCase();
    },
    ZZ: function (dateObj) {
      var o = dateObj.getTimezoneOffset();
      return (o > 0 ? '-' : '+') + pad(Math.floor(Math.abs(o) / 60) * 100 + Math.abs(o) % 60, 4);
    }
  };
  var parseFlags = {
    d: [twoDigits, function (d, v) {
      d.day = v;
    }],
    Do: [twoDigits + word, function (d, v) {
      d.day = parseInt(v, 10);
    }],
    M: [twoDigits, function (d, v) {
      d.month = v - 1;
    }],
    yy: [twoDigits, function (d, v) {
      var da = new Date(),
        cent = +('' + da.getFullYear()).substr(0, 2);
      d.year = '' + (v > 68 ? cent - 1 : cent) + v;
    }],
    h: [twoDigits, function (d, v) {
      d.hour = v;
    }],
    m: [twoDigits, function (d, v) {
      d.minute = v;
    }],
    s: [twoDigits, function (d, v) {
      d.second = v;
    }],
    yyyy: [fourDigits, function (d, v) {
      d.year = v;
    }],
    S: ['\\d', function (d, v) {
      d.millisecond = v * 100;
    }],
    SS: ['\\d{2}', function (d, v) {
      d.millisecond = v * 10;
    }],
    SSS: [threeDigits, function (d, v) {
      d.millisecond = v;
    }],
    D: [twoDigits, noop],
    ddd: [word, noop],
    MMM: [word, monthUpdate('monthNamesShort')],
    MMMM: [word, monthUpdate('monthNames')],
    a: [word, function (d, v, i18n) {
      var val = v.toLowerCase();
      if (val === i18n.amPm[0]) {
        d.isPm = false;
      } else if (val === i18n.amPm[1]) {
        d.isPm = true;
      }
    }],
    ZZ: ['[^\\s]*?[\\+\\-]\\d\\d:?\\d\\d|[^\\s]*?Z', function (d, v) {
      var parts = (v + '').match(/([+-]|\d\d)/gi),
        minutes;
      if (parts) {
        minutes = +(parts[1] * 60) + parseInt(parts[2], 10);
        d.timezoneOffset = parts[0] === '+' ? minutes : -minutes;
      }
    }]
  };
  parseFlags.dd = parseFlags.d;
  parseFlags.dddd = parseFlags.ddd;
  parseFlags.DD = parseFlags.D;
  parseFlags.mm = parseFlags.m;
  parseFlags.hh = parseFlags.H = parseFlags.HH = parseFlags.h;
  parseFlags.MM = parseFlags.M;
  parseFlags.ss = parseFlags.s;
  parseFlags.A = parseFlags.a;

  // Some common format strings
  fecha.masks = {
    default: 'ddd MMM dd yyyy HH:mm:ss',
    shortDate: 'M/D/yy',
    mediumDate: 'MMM d, yyyy',
    longDate: 'MMMM d, yyyy',
    fullDate: 'dddd, MMMM d, yyyy',
    shortTime: 'HH:mm',
    mediumTime: 'HH:mm:ss',
    longTime: 'HH:mm:ss.SSS'
  };

  /***
   * Format a date
   * @method format
   * @param {Date|number} dateObj
   * @param {string} mask Format of the date, i.e. 'mm-dd-yy' or 'shortDate'
   */
  fecha.format = function (dateObj, mask, i18nSettings) {
    var i18n = i18nSettings || fecha.i18n;
    if (typeof dateObj === 'number') {
      dateObj = new Date(dateObj);
    }
    if (Object.prototype.toString.call(dateObj) !== '[object Date]' || isNaN(dateObj.getTime())) {
      throw new Error('Invalid Date in fecha.format');
    }
    mask = fecha.masks[mask] || mask || fecha.masks['default'];
    var literals = [];

    // Make literals inactive by replacing them with ??
    mask = mask.replace(literal, function ($0, $1) {
      literals.push($1);
      return '@@@';
    });
    // Apply formatting rules
    mask = mask.replace(token, function ($0) {
      return $0 in formatFlags ? formatFlags[$0](dateObj, i18n) : $0.slice(1, $0.length - 1);
    });
    // Inline literal values back into the formatted value
    return mask.replace(/@@@/g, function () {
      return literals.shift();
    });
  };

  /**
   * Parse a date string into an object, changes - into /
   * @method parse
   * @param {string} dateStr Date string
   * @param {string} format Date parse format
   * @returns {Date|boolean}
   */
  fecha.parse = function (dateStr, format, i18nSettings) {
    var i18n = i18nSettings || fecha.i18n;
    if (typeof format !== 'string') {
      throw new Error('Invalid format in fecha.parse');
    }
    format = fecha.masks[format] || format;

    // Avoid regular expression denial of service, fail early for really long strings
    // https://www.owasp.org/index.php/Regular_expression_Denial_of_Service_-_ReDoS
    if (dateStr.length > 1000) {
      return null;
    }
    var dateInfo = {};
    var parseInfo = [];
    var literals = [];
    format = format.replace(literal, function ($0, $1) {
      literals.push($1);
      return '@@@';
    });
    var newFormat = regexEscape(format).replace(token, function ($0) {
      if (parseFlags[$0]) {
        var info = parseFlags[$0];
        parseInfo.push(info[1]);
        return '(' + info[0] + ')';
      }
      return $0;
    });
    newFormat = newFormat.replace(/@@@/g, function () {
      return literals.shift();
    });
    var matches = dateStr.match(new RegExp(newFormat, 'i'));
    if (!matches) {
      return null;
    }
    for (var i = 1; i < matches.length; i++) {
      parseInfo[i - 1](dateInfo, matches[i], i18n);
    }
    var today = new Date();
    if (dateInfo.isPm === true && dateInfo.hour != null && +dateInfo.hour !== 12) {
      dateInfo.hour = +dateInfo.hour + 12;
    } else if (dateInfo.isPm === false && +dateInfo.hour === 12) {
      dateInfo.hour = 0;
    }
    var date;
    if (dateInfo.timezoneOffset != null) {
      dateInfo.minute = +(dateInfo.minute || 0) - +dateInfo.timezoneOffset;
      date = new Date(Date.UTC(dateInfo.year || today.getFullYear(), dateInfo.month || 0, dateInfo.day || 1, dateInfo.hour || 0, dateInfo.minute || 0, dateInfo.second || 0, dateInfo.millisecond || 0));
    } else {
      date = new Date(dateInfo.year || today.getFullYear(), dateInfo.month || 0, dateInfo.day || 1, dateInfo.hour || 0, dateInfo.minute || 0, dateInfo.second || 0, dateInfo.millisecond || 0);
    }
    return date;
  };

  /* istanbul ignore next */
  if ( true && module.exports) {
    module.exports = fecha;
  } else if (true) {
    !(__WEBPACK_AMD_DEFINE_RESULT__ = (function () {
      return fecha;
    }).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
  } else {}
})(void 0);

/***/ }),

/***/ "../../node_modules/.pnpm/babel-loader@8.0.5_@babel+core@7.22.6_webpack@4.46.0/node_modules/babel-loader/lib/index.js?!../../node_modules/.pnpm/vue-loader@15.10.0_css-loader@3.2.0_lodash@4.17.21_vue-template-compiler@2.7.15_webpack@4.46.0/node_modules/vue-loader/lib/index.js?!./src/components/Date.vue?vue&type=script&lang=js&":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var src_style_popper_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/style/_popper.scss");
/* harmony import */ var src_style_picker_panel_scss__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/style/_picker-panel.scss");
/* harmony import */ var src_style_input_icon_scss__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./src/style/_input-icon.scss");
/* harmony import */ var src_style_scrollbar_scss__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./src/style/_scrollbar.scss");
/* harmony import */ var src_style_motion_scss__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./src/style/_motion.scss");
/* harmony import */ var _DatePicker__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("./src/components/DatePicker.ts");
/* harmony import */ var src_components_PickerNative_vue__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("./src/components/PickerNative.vue");
/* harmony import */ var src_mixins_focus__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("./src/mixins/focus.ts");
/* harmony import */ var src_assets_calendar_svg__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("./src/assets/calendar.svg");
/* harmony import */ var src_localization_element_format_translation__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("./src/localization/element-format-translation.ts");
/* harmony import */ var _cognitoforms_model_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("../../libs/model.js/lib/index.js");
/* harmony import */ var _cognitoforms_model_js__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(_cognitoforms_model_js__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var _form_resizing__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("./src/components/form-resizing.ts");
/* harmony import */ var _cognitoforms_utils_user_agent__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__("../../libs/utils/user-agent.ts");
/* harmony import */ var _cognitoforms_utils_user_agent__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(_cognitoforms_utils_user_agent__WEBPACK_IMPORTED_MODULE_12__);
/* harmony import */ var src_util_shouldHideDateTimeIcon__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__("./src/util/shouldHideDateTimeIcon.ts");














const DATE_PICKER_HEIGHT = 350;
/* harmony default export */ __webpack_exports__["default"] = ({
  name: 'CDate',
  components: {
    ICalendar: src_assets_calendar_svg__WEBPACK_IMPORTED_MODULE_8__["default"],
    CPickerNative: src_components_PickerNative_vue__WEBPACK_IMPORTED_MODULE_6__["default"],
    'c-date-picker': _DatePicker__WEBPACK_IMPORTED_MODULE_5__["default"]
  },
  mixins: [src_mixins_focus__WEBPACK_IMPORTED_MODULE_7__["default"]],
  inject: {
    formEvents: {},
    $format: {},
    $parse: {},
    $expandDateFormat: {},
    $culture: {},
    flags: {
      default: () => ({})
    }
  },
  inheritAttrs: false,
  model: {
    prop: 'value',
    event: 'change'
  },
  props: {
    value: {
      type: String,
      default: null
    },
    format: {
      type: String,
      default: 'd'
    },
    placeholder: {
      type: String,
      default: null
    },
    readonly: Boolean,
    chameleon: Boolean,
    mobile: Boolean,
    id: {
      type: String,
      default: null
    },
    scope: {
      type: String,
      default: '0'
    },
    min: {
      type: Date,
      default: null
    },
    max: {
      type: Date,
      default: null
    }
  },
  data() {
    return {
      dateValue: null,
      textValue: this.value,
      unparsedValue: this.value,
      nativeTextValue: '',
      isClosing: false,
      isRecentIOS: Object(_cognitoforms_utils_user_agent__WEBPACK_IMPORTED_MODULE_12__["getDeviceType"])(window.navigator.userAgent) === 'mac-desktop' && 'ontouchstart' in window,
      dateTimeIconIsHidden: false
    };
  },
  computed: {
    elementFormat: function () {
      return Object(src_localization_element_format_translation__WEBPACK_IMPORTED_MODULE_9__["convertToElementDateFormat"])(this.modelFormat);
    },
    modelFormat: function () {
      return this.$expandDateFormat(this.format);
    },
    normalizedMin: function () {
      return this.min ? Object(_cognitoforms_model_js__WEBPACK_IMPORTED_MODULE_10__["normalize"])(this.min, 'd') : null;
    },
    normalizedMax: function () {
      return this.max ? Object(_cognitoforms_model_js__WEBPACK_IMPORTED_MODULE_10__["normalize"])(this.max, 'd') : null;
    },
    defaultValue: function () {
      if (this.min || this.max) {
        const today = Object(_cognitoforms_model_js__WEBPACK_IMPORTED_MODULE_10__["normalize"])(new Date(), 'd');

        // If the max date is before today (which means that today is not a valid date to select),
        // then use the max date as the default instead of today
        if (today > this.normalizedMax) return this.normalizedMax;

        // If the min date is after today (which means that today is not a valid date to select),
        // then use the min date as the default instead of today
        if (today < this.normalizedMin) return this.normalizedMin;
      }
      return null;
    }
  },
  watch: {
    value: {
      immediate: true,
      handler(newValue) {
        this.dateValue = newValue ? this.$parse(Date, newValue, this.modelFormat) : null;
        this.textValue = newValue || '';
        this.unparsedValue = this.dateValue ? null : newValue;
      }
    },
    dateValue: {
      immediate: true,
      handler(dateValue) {
        this.nativeTextValue = dateValue ? this.$format(dateValue, 'yyyy-MM-dd') : '';
      }
    }
  },
  beforeDestroy() {
    window.removeEventListener('resize', this.handleResize);
  },
  mounted() {
    // When selecting a date in a table, the date icon can overlap the text (#12315)
    const dateFields = document.querySelectorAll('td.cog-date');
    dateFields.forEach(date => {
      if (date.offsetWidth <= 100) {
        const calIcon = Array.from(date.getElementsByClassName('cog-i-calendar'));
        calIcon.forEach(icon => {
          icon.classList.add('is-hidden');
        });
      }
    });
    const input = this.$el.querySelector('.cog-date--date input[type="text"]');
    if (input && this.isRecentIOS) {
      input.setAttribute('readonly', 'readonly');
      input.setAttribute('aria-readonly', 'false');
    }
    this.dateTimeIconIsHidden = Object(src_util_shouldHideDateTimeIcon__WEBPACK_IMPORTED_MODULE_13__["default"])(this.mobile, this.nativeTextValue, this.$refs.input);
    window.addEventListener('resize', this.handleResize);
  },
  methods: {
    handlePreFocus(pickerPosition) {
      if (this.formEvents) {
        const formHeight = document.documentElement.clientHeight;
        const pickerBottomBounds = pickerPosition.bottom + DATE_PICKER_HEIGHT;
        // If there's no room on top nor bottom of the form for thie picker
        if (pickerPosition.top < DATE_PICKER_HEIGHT && pickerBottomBounds > formHeight) {
          // Make the form big enough to accomidate the picker on the bottom
          const minHeight = pickerBottomBounds;
          Object(_form_resizing__WEBPACK_IMPORTED_MODULE_11__["ensureMinHeight"])(this.formEvents, minHeight);
        }
      }
    },
    handleOuterClick(evt) {
      // Since the picker won't automatically expand when focussed, then handle open/close when the editor/picker is clicked by mouse
      const picker = this.$refs.picker;
      if (picker) {
        this.handleClick(evt);
      }
    },
    handleFocus(ev) {
      this.addClassOnFocus();
      this.$emit('focus', ev);
      const input = this.$el.querySelector('.cog-date--date input[type="text"]');
      if (input && this.isRecentIOS) {
        input.setAttribute('readonly', 'readonly');
        requestAnimationFrame(() => {
          input.removeAttribute('readonly');
        });
      }
    },
    handleBlur(ev) {
      // Ignore the blur event if the picker is going to immediately restore focus to the input (ex: hitting Escape or Alt+Up)
      const picker = this.$refs.picker;
      const input = this.$el.querySelector('.cog-date--date input[type="text"]');
      if (picker && picker.willRestoreFocus) {
        if (input && this.isRecentIOS) input.removeAttribute('readonly');
        return;
      }
      if (input && this.isRecentIOS) input.setAttribute('readonly', 'readonly');

      // Turn off the focused state and raise a blur event
      this.removeClassOnBlur();
      this.$emit('blur', ev);
    },
    handleClick(evt) {
      const picker = this.$refs.picker;
      picker.handleFocus(evt);
      evt.stopPropagation();
    },
    handleIconClick(evt) {
      const picker = this.$refs.picker;
      if (!picker.pickerVisible) {
        picker.$el.querySelector('input').focus();
        picker.handleFocus(evt);
      } else {
        picker.softClose();
      }
      evt.stopPropagation();
    },
    handleIconMousedown(evt) {
      // prevent blurring of the date field when clicking the icon
      evt.preventDefault();
    },
    handleInput(value, unparsedValue) {
      if (value && unparsedValue) unparsedValue = null;
      if (this.$refs.picker && this.$refs.picker.userInput === null) {
        const textValue = unparsedValue || (typeof value === 'string' ? value : value instanceof Date ? this.$format(value, this.modelFormat) : '');
        const dateValue = unparsedValue ? null : typeof value === 'string' ? this.$parse(Date, value, this.modelFormat) : value || null;
        this.textValue = textValue;
        this.dateValue = dateValue;
        if (unparsedValue) {
          this.$emit('change', unparsedValue);
        } else if (textValue) {
          this.$emit('change', textValue);
        } else {
          this.$emit('change', null);
        }
      }
    },
    handleChange(value, unparsedValue) {
      const textValue = unparsedValue || (typeof value === 'string' ? value : value instanceof Date ? this.$format(value, this.modelFormat) : '');
      const dateValue = unparsedValue ? null : typeof value === 'string' ? this.$parse(Date, value, this.modelFormat) : value || null;
      this.textValue = textValue;
      this.dateValue = dateValue;
      if (unparsedValue) {
        this.$emit('change', unparsedValue);
      } else if (value) {
        this.$emit('change', textValue);
      } else {
        this.$emit('change', null);
      }
    },
    handleNativeChange(ev) {
      const dateValue = ev.target.value ? this.$parse(Date, ev.target.value, 'yyyy-MM-dd') : null;
      const textValue = dateValue ? this.$format(dateValue, this.modelFormat) : null;
      this.nativeTextValue = ev.target.value;
      this.textValue = textValue;
      this.dateValue = dateValue;
      this.$emit('change', textValue);
      this.dateTimeIconIsHidden = Object(src_util_shouldHideDateTimeIcon__WEBPACK_IMPORTED_MODULE_13__["default"])(this.mobile, this.nativeTextValue, this.$refs.input);
    },
    handlePickerVisibleChange(visible) {
      if (!visible) {
        Object(_form_resizing__WEBPACK_IMPORTED_MODULE_11__["ensureMinHeight"])(this.formEvents, 0);
        // When the picker is closed, reset it so that it goes back to its default state/location
        // Use a `setTimeout` so that there isn't a noticeable transition as the picker is closing
        setTimeout(() => {
          if (this.$refs.picker && this.$refs.picker.picker) this.$refs.picker.picker.resetDate();
        }, 100);
      } else if (this.min && new Date(this.min) > new Date()) requestAnimationFrame(() => {
        this.$refs.picker.picker.date = this.min;
      });
    },
    handleResize() {
      this.dateTimeIconIsHidden = Object(src_util_shouldHideDateTimeIcon__WEBPACK_IMPORTED_MODULE_13__["default"])(this.mobile, this.nativeTextValue, this.$refs.input);
    }
  }
});

/***/ }),

/***/ "../../node_modules/.pnpm/css-loader@3.2.0_webpack@4.46.0/node_modules/css-loader/dist/cjs.js!../../node_modules/.pnpm/sass-loader@10.1.1_sass@1.44.0_webpack@4.46.0/node_modules/sass-loader/dist/cjs.js!../../node_modules/.pnpm/sass-resources-loader@2.0.1/node_modules/sass-resources-loader/lib/loader.js?!./src/style/_picker-panel.scss":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("../../node_modules/.pnpm/css-loader@3.2.0_webpack@4.46.0/node_modules/css-loader/dist/runtime/api.js")(false);
// Module
exports.push([module.i, "html .cog-cognito.el-picker-panel, :root:root:root:root:root .cog-cognito.el-picker-panel {\n  margin: 5px 0;\n  line-height: 30px;\n  transition: transform calc(var(--speed) / 4), opacity calc(var(--speed) / 4);\n}\nhtml .cog-cognito .el-picker-panel__body::after, html .cog-cognito .el-picker-panel__body-wrapper::after, :root:root:root:root:root .cog-cognito .el-picker-panel__body::after, :root:root:root:root:root .cog-cognito .el-picker-panel__body-wrapper::after {\n  display: table;\n  clear: both;\n  content: \"\";\n}\nhtml .cog-cognito .el-picker-panel__content, :root:root:root:root:root .cog-cognito .el-picker-panel__content {\n  position: relative;\n  margin: 15px;\n}\nhtml .cog-cognito .el-picker-panel__icon-btn, :root:root:root:root:root .cog-cognito .el-picker-panel__icon-btn {\n  width: 1.5em;\n  height: 1.5em;\n  margin-top: 0.25em;\n  background: transparent;\n  border: 0;\n  padding: 0;\n  font-size: inherit;\n}\nhtml .cog-cognito .el-picker-panel__icon-btn .is-disabled, :root:root:root:root:root .cog-cognito .el-picker-panel__icon-btn .is-disabled {\n  cursor: not-allowed;\n  opacity: 0.6;\n}\nhtml .cog-cognito .el-picker-panel__icon-btn__link-btn, :root:root:root:root:root .cog-cognito .el-picker-panel__icon-btn__link-btn {\n  vertical-align: middle;\n}", ""]);


/***/ }),

/***/ "../../node_modules/.pnpm/css-loader@3.2.0_webpack@4.46.0/node_modules/css-loader/dist/cjs.js!../../node_modules/.pnpm/vue-loader@15.10.0_css-loader@3.2.0_lodash@4.17.21_vue-template-compiler@2.7.15_webpack@4.46.0/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/.pnpm/sass-loader@10.1.1_sass@1.44.0_webpack@4.46.0/node_modules/sass-loader/dist/cjs.js!../../node_modules/.pnpm/sass-resources-loader@2.0.1/node_modules/sass-resources-loader/lib/loader.js?!../../node_modules/.pnpm/vue-loader@15.10.0_css-loader@3.2.0_lodash@4.17.21_vue-template-compiler@2.7.15_webpack@4.46.0/node_modules/vue-loader/lib/index.js?!./src/components/Date.vue?vue&type=style&index=0&id=40f214de&lang=scss&":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("../../node_modules/.pnpm/css-loader@3.2.0_webpack@4.46.0/node_modules/css-loader/dist/runtime/api.js")(false);
// Module
exports.push([module.i, "html .cog-date .cog-i-calendar g, :root:root:root:root:root .cog-date .cog-i-calendar g {\n  stroke-width: calc(var(--icon-weight) * 1.1px);\n}\nhtml .cog-date .cog-i-calendar__rule, :root:root:root:root:root .cog-date .cog-i-calendar__rule {\n  opacity: 0.5;\n  stroke-width: var(--icon-weight);\n}\nhtml .cog-date-picker, :root:root:root:root:root .cog-date-picker {\n  max-width: 360px;\n  text-align: center;\n}\nhtml .cog-date-picker .el-picker-panel__content, :root:root:root:root:root .cog-date-picker .el-picker-panel__content {\n  max-width: 340px;\n}\nhtml .cog-date-picker a, :root:root:root:root:root .cog-date-picker a {\n  text-decoration: none;\n}\nhtml .cog-date-picker table, :root:root:root:root:root .cog-date-picker table {\n  width: 100%;\n  table-layout: fixed;\n}\nhtml .cog-date-picker .el-date-picker__editor-wrap, :root:root:root:root:root .cog-date-picker .el-date-picker__editor-wrap {\n  display: table-cell;\n  position: relative;\n  padding: 0 5px;\n}\nhtml .cog-date-picker .el-date-picker__header, :root:root:root:root:root .cog-date-picker .el-date-picker__header {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin: 12px 15px;\n}\nhtml .cog-date-picker .el-date-picker__header button, :root:root:root:root:root .cog-date-picker .el-date-picker__header button {\n  position: relative;\n  border: 1px solid transparent;\n  border-radius: 50%;\n  margin-right: 4px;\n  margin-left: 4px;\n  outline: 0;\n}\nhtml .cog-date-picker .el-date-picker__header button:focus, :root:root:root:root:root .cog-date-picker .el-date-picker__header button:focus {\n  border-color: var(--highlight);\n}\nhtml .cog-date-picker .el-date-picker__header button::before, html .cog-date-picker .el-date-picker__header button[class*=el-icon-d]::after, :root:root:root:root:root .cog-date-picker .el-date-picker__header button::before, :root:root:root:root:root .cog-date-picker .el-date-picker__header button[class*=el-icon-d]::after {\n  display: block;\n  position: absolute;\n  top: 15%;\n  width: 60%;\n  height: 60%;\n  border: calc(var(--icon-weight) * 3px) solid var(--color);\n  transform: rotate(45deg) scale(0.6);\n  content: \"\";\n}\nhtml .cog-date-picker .el-date-picker__header button.is-disabled::before, html .cog-date-picker .el-date-picker__header button.is-disabled::after, :root:root:root:root:root .cog-date-picker .el-date-picker__header button.is-disabled::before, :root:root:root:root:root .cog-date-picker .el-date-picker__header button.is-disabled::after {\n  opacity: 0.3;\n}\nhtml .cog-date-picker .el-date-picker__header button[class*=el-icon-d]::before, :root:root:root:root:root .cog-date-picker .el-date-picker__header button[class*=el-icon-d]::before {\n  margin-left: calc(var(--icon-weight) * -1px - 2px);\n}\nhtml .cog-date-picker .el-date-picker__header button[class*=el-icon-d]::after, :root:root:root:root:root .cog-date-picker .el-date-picker__header button[class*=el-icon-d]::after {\n  margin-left: calc(var(--icon-weight) * 1px + 2px);\n}\nhtml .cog-date-picker .el-date-picker__header button:not(.is-disabled):hover::before, html .cog-date-picker .el-date-picker__header button:not(.is-disabled):hover::after, :root:root:root:root:root .cog-date-picker .el-date-picker__header button:not(.is-disabled):hover::before, :root:root:root:root:root .cog-date-picker .el-date-picker__header button:not(.is-disabled):hover::after {\n  border-color: var(--highlight);\n  opacity: 1;\n}\nhtml .cog-date-picker .el-date-picker__header .el-icon-arrow-left, :root:root:root:root:root .cog-date-picker .el-date-picker__header .el-icon-arrow-left {\n  margin-right: auto;\n}\nhtml .cog-date-picker .el-date-picker__header .el-icon-arrow-right, :root:root:root:root:root .cog-date-picker .el-date-picker__header .el-icon-arrow-right {\n  margin-left: auto;\n}\nhtml .cog-date-picker .el-date-picker__header .el-icon-d-arrow-right, :root:root:root:root:root .cog-date-picker .el-date-picker__header .el-icon-d-arrow-right {\n  order: 100;\n}\nhtml .cog-date-picker .el-date-picker__header .el-date-picker__prev-btn::before,\nhtml .cog-date-picker .el-date-picker__header .el-icon-d-arrow-left.el-icon-d-arrow-left::after, :root:root:root:root:root .cog-date-picker .el-date-picker__header .el-date-picker__prev-btn::before,\n:root:root:root:root:root .cog-date-picker .el-date-picker__header .el-icon-d-arrow-left.el-icon-d-arrow-left::after {\n  left: 20%;\n  border-top: 0;\n  border-right: 0;\n}\nhtml .cog-date-picker .el-date-picker__header .el-date-picker__next-btn::before,\nhtml .cog-date-picker .el-date-picker__header .el-icon-d-arrow-right.el-icon-d-arrow-right::after, :root:root:root:root:root .cog-date-picker .el-date-picker__header .el-date-picker__next-btn::before,\n:root:root:root:root:root .cog-date-picker .el-date-picker__header .el-icon-d-arrow-right.el-icon-d-arrow-right::after {\n  left: 5%;\n  border-bottom: 0;\n  border-left: 0;\n}\nhtml .cog-date-picker .el-date-picker__header .el-picker-panel__icon-btn.is-disabled, :root:root:root:root:root .cog-date-picker .el-date-picker__header .el-picker-panel__icon-btn.is-disabled {\n  cursor: not-allowed;\n  color: hsla(var(--background-hsl), 1);\n}\nhtml .cog-date-picker .el-date-picker__header-label, :root:root:root:root:root .cog-date-picker .el-date-picker__header-label {\n  padding: 0 5px;\n  cursor: pointer;\n  font-weight: 500;\n  line-height: 22px;\n}\nhtml .cog-date-picker .el-date-picker__header-label:hover, html .cog-date-picker .el-date-picker__header-label.active, :root:root:root:root:root .cog-date-picker .el-date-picker__header-label:hover, :root:root:root:root:root .cog-date-picker .el-date-picker__header-label.active {\n  color: var(--highlight);\n}\nhtml .cog-date-picker .el-date-picker__prev-btn, :root:root:root:root:root .cog-date-picker .el-date-picker__prev-btn {\n  float: left;\n}\nhtml .cog-date-picker .el-date-picker__next-btn, :root:root:root:root:root .cog-date-picker .el-date-picker__next-btn {\n  float: right;\n}\nhtml .cog-date-picker .el-month-table,\nhtml .cog-date-picker .el-year-table, :root:root:root:root:root .cog-date-picker .el-month-table,\n:root:root:root:root:root .cog-date-picker .el-year-table {\n  margin: -1px;\n  border-collapse: collapse;\n}\nhtml .cog-date-picker .el-month-table td,\nhtml .cog-date-picker .el-year-table td, :root:root:root:root:root .cog-date-picker .el-month-table td,\n:root:root:root:root:root .cog-date-picker .el-year-table td {\n  padding: 20px 3px;\n  cursor: pointer;\n}\nhtml .cog-date-picker .el-month-table td.is-disabled .el-date-picker__cell,\nhtml .cog-date-picker .el-year-table td.is-disabled .el-date-picker__cell, :root:root:root:root:root .cog-date-picker .el-month-table td.is-disabled .el-date-picker__cell,\n:root:root:root:root:root .cog-date-picker .el-year-table td.is-disabled .el-date-picker__cell {\n  cursor: not-allowed;\n  /* stylelint-disable-next-line color-function-notation */\n  color: hsla(var(--background-hsl));\n}\nhtml .cog-date-picker .el-month-table td .el-date-picker__cell,\nhtml .cog-date-picker .el-year-table td .el-date-picker__cell, :root:root:root:root:root .cog-date-picker .el-month-table td .el-date-picker__cell,\n:root:root:root:root:root .cog-date-picker .el-year-table td .el-date-picker__cell {\n  display: block;\n  width: 3em;\n  margin: 0 auto;\n}\nhtml .cog-date-picker .el-date-table td, :root:root:root:root:root .cog-date-picker .el-date-table td {\n  position: relative;\n  width: 32px;\n  height: 30px;\n  box-sizing: border-box;\n  padding: 4px 0;\n  cursor: pointer;\n  text-align: center;\n}\nhtml .cog-date-picker .el-date-table td div, :root:root:root:root:root .cog-date-picker .el-date-table td div {\n  height: 30px;\n  box-sizing: border-box;\n  padding: 3px 0;\n}\nhtml .cog-date-picker .el-date-table th, :root:root:root:root:root .cog-date-picker .el-date-table th {\n  border-bottom: var(--border-width) var(--input__border-style) hsla(var(--background-hsl), 0.35);\n  overflow: hidden;\n  padding: 5px;\n  font-weight: 400;\n  word-wrap: initial;\n  overflow-wrap: initial;\n  text-overflow: ellipsis;\n}\nhtml .cog-date-picker .el-date-table .el-date-picker__cell, :root:root:root:root:root .cog-date-picker .el-date-table .el-date-picker__cell {\n  position: absolute;\n  left: 50%;\n  width: 1.8em;\n  height: 1.8em;\n  border-radius: 50%;\n  margin: 0 auto;\n  transform: translateX(-50%);\n  line-height: 1.8em;\n}\nhtml .cog-date-picker .is-current, :root:root:root:root:root .cog-date-picker .is-current {\n  position: relative;\n}\nhtml .cog-date-picker .is-current .el-date-picker__cell, :root:root:root:root:root .cog-date-picker .is-current .el-date-picker__cell {\n  color: var(--highlight);\n  font-weight: bold;\n}\nhtml .cog-date-picker .is-selectable:hover, :root:root:root:root:root .cog-date-picker .is-selectable:hover {\n  color: var(--highlight);\n}\nhtml .cog-date-picker .is-selected:not(.is-disabled) .el-date-picker__cell, :root:root:root:root:root .cog-date-picker .is-selected:not(.is-disabled) .el-date-picker__cell {\n  display: block;\n  background-color: var(--highlight);\n  box-shadow: 0 0 0 3px var(--highlight);\n  color: var(--highlight-reverse);\n}\nhtml .cog-date-picker .is-muted,\nhtml .cog-date-picker .is-disabled, :root:root:root:root:root .cog-date-picker .is-muted,\n:root:root:root:root:root .cog-date-picker .is-disabled {\n  color: hsla(var(--background-hsl), 0.6);\n}\nhtml .cog-date-picker .is-muted.is-disabled, :root:root:root:root:root .cog-date-picker .is-muted.is-disabled {\n  color: hsla(var(--background-hsl), 0.2);\n}\nhtml .cog-date-picker .is-disabled, :root:root:root:root:root .cog-date-picker .is-disabled {\n  background-color: hsla(var(--background-hsl), 0.12);\n  cursor: not-allowed;\n}", ""]);


/***/ }),

/***/ "../../node_modules/.pnpm/style-loader@2.0.0_webpack@4.46.0/node_modules/style-loader/dist/cjs.js?!../../node_modules/.pnpm/css-loader@3.2.0_webpack@4.46.0/node_modules/css-loader/dist/cjs.js!../../node_modules/.pnpm/vue-loader@15.10.0_css-loader@3.2.0_lodash@4.17.21_vue-template-compiler@2.7.15_webpack@4.46.0/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/.pnpm/sass-loader@10.1.1_sass@1.44.0_webpack@4.46.0/node_modules/sass-loader/dist/cjs.js!../../node_modules/.pnpm/sass-resources-loader@2.0.1/node_modules/sass-resources-loader/lib/loader.js?!../../node_modules/.pnpm/vue-loader@15.10.0_css-loader@3.2.0_lodash@4.17.21_vue-template-compiler@2.7.15_webpack@4.46.0/node_modules/vue-loader/lib/index.js?!./src/components/Date.vue?vue&type=style&index=0&id=40f214de&lang=scss&":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _node_modules_pnpm_style_loader_2_0_0_webpack_4_46_0_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("../../node_modules/.pnpm/style-loader@2.0.0_webpack@4.46.0/node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js");
/* harmony import */ var _node_modules_pnpm_style_loader_2_0_0_webpack_4_46_0_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_pnpm_style_loader_2_0_0_webpack_4_46_0_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_pnpm_css_loader_3_2_0_webpack_4_46_0_node_modules_css_loader_dist_cjs_js_node_modules_pnpm_vue_loader_15_10_0_css_loader_3_2_0_lodash_4_17_21_vue_template_compiler_2_7_15_webpack_4_46_0_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_pnpm_sass_loader_10_1_1_sass_1_44_0_webpack_4_46_0_node_modules_sass_loader_dist_cjs_js_node_modules_pnpm_sass_resources_loader_2_0_1_node_modules_sass_resources_loader_lib_loader_js_ref_5_oneOf_1_3_node_modules_pnpm_vue_loader_15_10_0_css_loader_3_2_0_lodash_4_17_21_vue_template_compiler_2_7_15_webpack_4_46_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Date_vue_vue_type_style_index_0_id_40f214de_lang_scss___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("../../node_modules/.pnpm/css-loader@3.2.0_webpack@4.46.0/node_modules/css-loader/dist/cjs.js!../../node_modules/.pnpm/vue-loader@15.10.0_css-loader@3.2.0_lodash@4.17.21_vue-template-compiler@2.7.15_webpack@4.46.0/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/.pnpm/sass-loader@10.1.1_sass@1.44.0_webpack@4.46.0/node_modules/sass-loader/dist/cjs.js!../../node_modules/.pnpm/sass-resources-loader@2.0.1/node_modules/sass-resources-loader/lib/loader.js?!../../node_modules/.pnpm/vue-loader@15.10.0_css-loader@3.2.0_lodash@4.17.21_vue-template-compiler@2.7.15_webpack@4.46.0/node_modules/vue-loader/lib/index.js?!./src/components/Date.vue?vue&type=style&index=0&id=40f214de&lang=scss&");
/* harmony import */ var _node_modules_pnpm_css_loader_3_2_0_webpack_4_46_0_node_modules_css_loader_dist_cjs_js_node_modules_pnpm_vue_loader_15_10_0_css_loader_3_2_0_lodash_4_17_21_vue_template_compiler_2_7_15_webpack_4_46_0_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_pnpm_sass_loader_10_1_1_sass_1_44_0_webpack_4_46_0_node_modules_sass_loader_dist_cjs_js_node_modules_pnpm_sass_resources_loader_2_0_1_node_modules_sass_resources_loader_lib_loader_js_ref_5_oneOf_1_3_node_modules_pnpm_vue_loader_15_10_0_css_loader_3_2_0_lodash_4_17_21_vue_template_compiler_2_7_15_webpack_4_46_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Date_vue_vue_type_style_index_0_id_40f214de_lang_scss___WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_pnpm_css_loader_3_2_0_webpack_4_46_0_node_modules_css_loader_dist_cjs_js_node_modules_pnpm_vue_loader_15_10_0_css_loader_3_2_0_lodash_4_17_21_vue_template_compiler_2_7_15_webpack_4_46_0_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_pnpm_sass_loader_10_1_1_sass_1_44_0_webpack_4_46_0_node_modules_sass_loader_dist_cjs_js_node_modules_pnpm_sass_resources_loader_2_0_1_node_modules_sass_resources_loader_lib_loader_js_ref_5_oneOf_1_3_node_modules_pnpm_vue_loader_15_10_0_css_loader_3_2_0_lodash_4_17_21_vue_template_compiler_2_7_15_webpack_4_46_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Date_vue_vue_type_style_index_0_id_40f214de_lang_scss___WEBPACK_IMPORTED_MODULE_1__);

            

var options = {"attributes":{"class":"cog-style"}};

options.insert = "head";
options.singleton = false;

var update = _node_modules_pnpm_style_loader_2_0_0_webpack_4_46_0_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()(_node_modules_pnpm_css_loader_3_2_0_webpack_4_46_0_node_modules_css_loader_dist_cjs_js_node_modules_pnpm_vue_loader_15_10_0_css_loader_3_2_0_lodash_4_17_21_vue_template_compiler_2_7_15_webpack_4_46_0_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_pnpm_sass_loader_10_1_1_sass_1_44_0_webpack_4_46_0_node_modules_sass_loader_dist_cjs_js_node_modules_pnpm_sass_resources_loader_2_0_1_node_modules_sass_resources_loader_lib_loader_js_ref_5_oneOf_1_3_node_modules_pnpm_vue_loader_15_10_0_css_loader_3_2_0_lodash_4_17_21_vue_template_compiler_2_7_15_webpack_4_46_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Date_vue_vue_type_style_index_0_id_40f214de_lang_scss___WEBPACK_IMPORTED_MODULE_1___default.a, options);


if (true) {
  if (!_node_modules_pnpm_css_loader_3_2_0_webpack_4_46_0_node_modules_css_loader_dist_cjs_js_node_modules_pnpm_vue_loader_15_10_0_css_loader_3_2_0_lodash_4_17_21_vue_template_compiler_2_7_15_webpack_4_46_0_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_pnpm_sass_loader_10_1_1_sass_1_44_0_webpack_4_46_0_node_modules_sass_loader_dist_cjs_js_node_modules_pnpm_sass_resources_loader_2_0_1_node_modules_sass_resources_loader_lib_loader_js_ref_5_oneOf_1_3_node_modules_pnpm_vue_loader_15_10_0_css_loader_3_2_0_lodash_4_17_21_vue_template_compiler_2_7_15_webpack_4_46_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Date_vue_vue_type_style_index_0_id_40f214de_lang_scss___WEBPACK_IMPORTED_MODULE_1___default.a.locals || module.hot.invalidate) {
    var isEqualLocals = function isEqualLocals(a, b, isNamedExport) {
  if (!a && b || a && !b) {
    return false;
  }

  var p;

  for (p in a) {
    if (isNamedExport && p === 'default') {
      // eslint-disable-next-line no-continue
      continue;
    }

    if (a[p] !== b[p]) {
      return false;
    }
  }

  for (p in b) {
    if (isNamedExport && p === 'default') {
      // eslint-disable-next-line no-continue
      continue;
    }

    if (!a[p]) {
      return false;
    }
  }

  return true;
};
    var oldLocals = _node_modules_pnpm_css_loader_3_2_0_webpack_4_46_0_node_modules_css_loader_dist_cjs_js_node_modules_pnpm_vue_loader_15_10_0_css_loader_3_2_0_lodash_4_17_21_vue_template_compiler_2_7_15_webpack_4_46_0_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_pnpm_sass_loader_10_1_1_sass_1_44_0_webpack_4_46_0_node_modules_sass_loader_dist_cjs_js_node_modules_pnpm_sass_resources_loader_2_0_1_node_modules_sass_resources_loader_lib_loader_js_ref_5_oneOf_1_3_node_modules_pnpm_vue_loader_15_10_0_css_loader_3_2_0_lodash_4_17_21_vue_template_compiler_2_7_15_webpack_4_46_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Date_vue_vue_type_style_index_0_id_40f214de_lang_scss___WEBPACK_IMPORTED_MODULE_1___default.a.locals;

    module.hot.accept(
      "../../node_modules/.pnpm/css-loader@3.2.0_webpack@4.46.0/node_modules/css-loader/dist/cjs.js!../../node_modules/.pnpm/vue-loader@15.10.0_css-loader@3.2.0_lodash@4.17.21_vue-template-compiler@2.7.15_webpack@4.46.0/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/.pnpm/sass-loader@10.1.1_sass@1.44.0_webpack@4.46.0/node_modules/sass-loader/dist/cjs.js!../../node_modules/.pnpm/sass-resources-loader@2.0.1/node_modules/sass-resources-loader/lib/loader.js?!../../node_modules/.pnpm/vue-loader@15.10.0_css-loader@3.2.0_lodash@4.17.21_vue-template-compiler@2.7.15_webpack@4.46.0/node_modules/vue-loader/lib/index.js?!./src/components/Date.vue?vue&type=style&index=0&id=40f214de&lang=scss&",
      function(__WEBPACK_OUTDATED_DEPENDENCIES__) { /* harmony import */ _node_modules_pnpm_css_loader_3_2_0_webpack_4_46_0_node_modules_css_loader_dist_cjs_js_node_modules_pnpm_vue_loader_15_10_0_css_loader_3_2_0_lodash_4_17_21_vue_template_compiler_2_7_15_webpack_4_46_0_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_pnpm_sass_loader_10_1_1_sass_1_44_0_webpack_4_46_0_node_modules_sass_loader_dist_cjs_js_node_modules_pnpm_sass_resources_loader_2_0_1_node_modules_sass_resources_loader_lib_loader_js_ref_5_oneOf_1_3_node_modules_pnpm_vue_loader_15_10_0_css_loader_3_2_0_lodash_4_17_21_vue_template_compiler_2_7_15_webpack_4_46_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Date_vue_vue_type_style_index_0_id_40f214de_lang_scss___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("../../node_modules/.pnpm/css-loader@3.2.0_webpack@4.46.0/node_modules/css-loader/dist/cjs.js!../../node_modules/.pnpm/vue-loader@15.10.0_css-loader@3.2.0_lodash@4.17.21_vue-template-compiler@2.7.15_webpack@4.46.0/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/.pnpm/sass-loader@10.1.1_sass@1.44.0_webpack@4.46.0/node_modules/sass-loader/dist/cjs.js!../../node_modules/.pnpm/sass-resources-loader@2.0.1/node_modules/sass-resources-loader/lib/loader.js?!../../node_modules/.pnpm/vue-loader@15.10.0_css-loader@3.2.0_lodash@4.17.21_vue-template-compiler@2.7.15_webpack@4.46.0/node_modules/vue-loader/lib/index.js?!./src/components/Date.vue?vue&type=style&index=0&id=40f214de&lang=scss&");
/* harmony import */ _node_modules_pnpm_css_loader_3_2_0_webpack_4_46_0_node_modules_css_loader_dist_cjs_js_node_modules_pnpm_vue_loader_15_10_0_css_loader_3_2_0_lodash_4_17_21_vue_template_compiler_2_7_15_webpack_4_46_0_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_pnpm_sass_loader_10_1_1_sass_1_44_0_webpack_4_46_0_node_modules_sass_loader_dist_cjs_js_node_modules_pnpm_sass_resources_loader_2_0_1_node_modules_sass_resources_loader_lib_loader_js_ref_5_oneOf_1_3_node_modules_pnpm_vue_loader_15_10_0_css_loader_3_2_0_lodash_4_17_21_vue_template_compiler_2_7_15_webpack_4_46_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Date_vue_vue_type_style_index_0_id_40f214de_lang_scss___WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_pnpm_css_loader_3_2_0_webpack_4_46_0_node_modules_css_loader_dist_cjs_js_node_modules_pnpm_vue_loader_15_10_0_css_loader_3_2_0_lodash_4_17_21_vue_template_compiler_2_7_15_webpack_4_46_0_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_pnpm_sass_loader_10_1_1_sass_1_44_0_webpack_4_46_0_node_modules_sass_loader_dist_cjs_js_node_modules_pnpm_sass_resources_loader_2_0_1_node_modules_sass_resources_loader_lib_loader_js_ref_5_oneOf_1_3_node_modules_pnpm_vue_loader_15_10_0_css_loader_3_2_0_lodash_4_17_21_vue_template_compiler_2_7_15_webpack_4_46_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Date_vue_vue_type_style_index_0_id_40f214de_lang_scss___WEBPACK_IMPORTED_MODULE_1__);
(function () {
        if (!isEqualLocals(oldLocals, _node_modules_pnpm_css_loader_3_2_0_webpack_4_46_0_node_modules_css_loader_dist_cjs_js_node_modules_pnpm_vue_loader_15_10_0_css_loader_3_2_0_lodash_4_17_21_vue_template_compiler_2_7_15_webpack_4_46_0_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_pnpm_sass_loader_10_1_1_sass_1_44_0_webpack_4_46_0_node_modules_sass_loader_dist_cjs_js_node_modules_pnpm_sass_resources_loader_2_0_1_node_modules_sass_resources_loader_lib_loader_js_ref_5_oneOf_1_3_node_modules_pnpm_vue_loader_15_10_0_css_loader_3_2_0_lodash_4_17_21_vue_template_compiler_2_7_15_webpack_4_46_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Date_vue_vue_type_style_index_0_id_40f214de_lang_scss___WEBPACK_IMPORTED_MODULE_1___default.a.locals, undefined)) {
                module.hot.invalidate();

                return;
              }

              oldLocals = _node_modules_pnpm_css_loader_3_2_0_webpack_4_46_0_node_modules_css_loader_dist_cjs_js_node_modules_pnpm_vue_loader_15_10_0_css_loader_3_2_0_lodash_4_17_21_vue_template_compiler_2_7_15_webpack_4_46_0_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_pnpm_sass_loader_10_1_1_sass_1_44_0_webpack_4_46_0_node_modules_sass_loader_dist_cjs_js_node_modules_pnpm_sass_resources_loader_2_0_1_node_modules_sass_resources_loader_lib_loader_js_ref_5_oneOf_1_3_node_modules_pnpm_vue_loader_15_10_0_css_loader_3_2_0_lodash_4_17_21_vue_template_compiler_2_7_15_webpack_4_46_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Date_vue_vue_type_style_index_0_id_40f214de_lang_scss___WEBPACK_IMPORTED_MODULE_1___default.a.locals;

              update(_node_modules_pnpm_css_loader_3_2_0_webpack_4_46_0_node_modules_css_loader_dist_cjs_js_node_modules_pnpm_vue_loader_15_10_0_css_loader_3_2_0_lodash_4_17_21_vue_template_compiler_2_7_15_webpack_4_46_0_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_pnpm_sass_loader_10_1_1_sass_1_44_0_webpack_4_46_0_node_modules_sass_loader_dist_cjs_js_node_modules_pnpm_sass_resources_loader_2_0_1_node_modules_sass_resources_loader_lib_loader_js_ref_5_oneOf_1_3_node_modules_pnpm_vue_loader_15_10_0_css_loader_3_2_0_lodash_4_17_21_vue_template_compiler_2_7_15_webpack_4_46_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Date_vue_vue_type_style_index_0_id_40f214de_lang_scss___WEBPACK_IMPORTED_MODULE_1___default.a);
      })(__WEBPACK_OUTDATED_DEPENDENCIES__); }.bind(this)
    )
  }

  module.hot.dispose(function() {
    update();
  });
}

/* harmony default export */ __webpack_exports__["default"] = (_node_modules_pnpm_css_loader_3_2_0_webpack_4_46_0_node_modules_css_loader_dist_cjs_js_node_modules_pnpm_vue_loader_15_10_0_css_loader_3_2_0_lodash_4_17_21_vue_template_compiler_2_7_15_webpack_4_46_0_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_pnpm_sass_loader_10_1_1_sass_1_44_0_webpack_4_46_0_node_modules_sass_loader_dist_cjs_js_node_modules_pnpm_sass_resources_loader_2_0_1_node_modules_sass_resources_loader_lib_loader_js_ref_5_oneOf_1_3_node_modules_pnpm_vue_loader_15_10_0_css_loader_3_2_0_lodash_4_17_21_vue_template_compiler_2_7_15_webpack_4_46_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Date_vue_vue_type_style_index_0_id_40f214de_lang_scss___WEBPACK_IMPORTED_MODULE_1___default.a.locals || {});

/***/ }),

/***/ "../../node_modules/.pnpm/vue-loader@15.10.0_css-loader@3.2.0_lodash@4.17.21_vue-template-compiler@2.7.15_webpack@4.46.0/node_modules/vue-loader/lib/loaders/templateLoader.js?!../../node_modules/.pnpm/vue-loader@15.10.0_css-loader@3.2.0_lodash@4.17.21_vue-template-compiler@2.7.15_webpack@4.46.0/node_modules/vue-loader/lib/index.js?!./src/components/Date.vue?vue&type=template&id=40f214de&":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "render", function() { return render; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "staticRenderFns", function() { return staticRenderFns; });
var render = function render() {
  var _vm = this,
    _c = _vm._self._c
  return _c(
    "div",
    {
      staticClass: "cog-picker cog-input",
      class: { "is-read-only": _vm.readonly },
      on: { click: _vm.handleOuterClick }
    },
    [
      _vm.readonly
        ? [_vm._v(_vm._s(_vm.textValue || " "))]
        : _vm.chameleon || _vm.mobile
        ? _c(
            "c-picker-native",
            {
              attrs: {
                placeholder: _vm.placeholder,
                "show-placeholder": !_vm.chameleon && !_vm.value
              },
              scopedSlots: _vm._u(
                [
                  _vm.mobile
                    ? {
                        key: "icon",
                        fn: function() {
                          return [
                            _c("i-calendar", {
                              class: {
                                "cog-offscreen": _vm.dateTimeIconIsHidden
                              }
                            })
                          ]
                        },
                        proxy: true
                      }
                    : null
                ],
                null,
                true
              )
            },
            [
              _c(
                "input",
                _vm._b(
                  {
                    ref: "input",
                    staticClass: "el-input__inner",
                    attrs: {
                      id: "cog-" + _vm.id,
                      type: "date",
                      min: _vm.$format(_vm.min, "yyyy-MM-dd"),
                      max: _vm.$format(_vm.max, "yyyy-MM-dd")
                    },
                    domProps: { value: _vm.nativeTextValue },
                    on: {
                      focus: _vm.handleFocus,
                      blur: _vm.handleBlur,
                      change: _vm.handleNativeChange
                    }
                  },
                  "input",
                  _vm.$attrs,
                  false
                )
              )
            ]
          )
        : _c(
            "c-date-picker",
            _vm._b(
              {
                ref: "picker",
                attrs: {
                  id: "cog-" + _vm.id,
                  value: _vm.dateValue,
                  "unparsed-value": _vm.unparsedValue,
                  format: _vm.elementFormat,
                  "model-format": _vm.modelFormat,
                  placeholder: _vm.placeholder,
                  "popper-class":
                    "cog-cognito cog-" +
                    _vm.scope +
                    " cog-cognito--" +
                    (_vm.chameleon ? "chameleon" : "styled") +
                    " cog-date-picker" +
                    (_vm.flags.protectCss ? " cog-cognito--protect-css" : ""),
                  "format-date": (date, format) => _vm.$format(date, format),
                  "parse-date": (text, format) =>
                    _vm.$parse(Date, text, format),
                  "default-value": _vm.defaultValue,
                  minimum: _vm.normalizedMin,
                  maximum: _vm.normalizedMax,
                  "picker-options": {
                    firstDayOfWeek: _vm.$culture.dateTimeFormat.FirstDayOfWeek
                  }
                },
                on: {
                  click: _vm.handleClick,
                  focus: _vm.handleFocus,
                  blur: _vm.handleBlur,
                  input: _vm.handleInput,
                  change: _vm.handleChange,
                  "visible-change": _vm.handlePickerVisibleChange,
                  pickerPosition: _vm.handlePreFocus
                },
                scopedSlots: _vm._u([
                  {
                    key: "suffix",
                    fn: function() {
                      return [
                        _c(
                          "span",
                          {
                            on: {
                              click: _vm.handleIconClick,
                              mousedown: _vm.handleIconMousedown
                            }
                          },
                          [_c("i-calendar")],
                          1
                        )
                      ]
                    },
                    proxy: true
                  }
                ])
              },
              "c-date-picker",
              _vm.$attrs,
              false
            )
          )
    ],
    2
  )
}
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ "./src/assets/calendar.svg":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);

      /* harmony default export */ __webpack_exports__["default"] = ({
        functional: true,
        render(_h, _vm) {
          const { _c, _v, data, children = [] } = _vm;

          const {
            class: classNames,
            staticClass,
            style,
            staticStyle,
            attrs = {},
            ...rest
          } = data;

          return _c(
            'svg',
            {
              class: ["cog-icon cog-i-calendar",classNames,staticClass],
              style: [style,staticStyle],
              attrs: Object.assign({"viewBox":"0 0 18 18","focusable":"false","class":"cog-icon cog-i-calendar"}, attrs),
              ...rest,
            },
            children.concat([_c('defs'),_c('g',[_c('path',{attrs:{"d":"M2.5 3.5h13v12h-13z"}}),_c('path',{staticClass:"cog-i-calendar__rule",attrs:{"d":"M4.02 7.5h9.88"}}),_c('path',{attrs:{"d":"M5.5 5V1.5M12.5 5V1.5"}})])])
          )
        }
      });
    

/***/ }),

/***/ "./src/components/Date.vue":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _Date_vue_vue_type_template_id_40f214de___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/components/Date.vue?vue&type=template&id=40f214de&");
/* harmony import */ var _Date_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/components/Date.vue?vue&type=script&lang=js&");
/* empty/unused harmony star reexport *//* harmony import */ var _Date_vue_vue_type_style_index_0_id_40f214de_lang_scss___WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./src/components/Date.vue?vue&type=style&index=0&id=40f214de&lang=scss&");
/* harmony import */ var _node_modules_pnpm_vue_loader_15_10_0_css_loader_3_2_0_lodash_4_17_21_vue_template_compiler_2_7_15_webpack_4_46_0_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("../../node_modules/.pnpm/vue-loader@15.10.0_css-loader@3.2.0_lodash@4.17.21_vue-template-compiler@2.7.15_webpack@4.46.0/node_modules/vue-loader/lib/runtime/componentNormalizer.js");






/* normalize component */

var component = Object(_node_modules_pnpm_vue_loader_15_10_0_css_loader_3_2_0_lodash_4_17_21_vue_template_compiler_2_7_15_webpack_4_46_0_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__["default"])(
  _Date_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__["default"],
  _Date_vue_vue_type_template_id_40f214de___WEBPACK_IMPORTED_MODULE_0__["render"],
  _Date_vue_vue_type_template_id_40f214de___WEBPACK_IMPORTED_MODULE_0__["staticRenderFns"],
  false,
  null,
  null,
  null
  
)

/* hot reload */
if (true) {
  var api = __webpack_require__("../../node_modules/.pnpm/vue-hot-reload-api@2.3.4/node_modules/vue-hot-reload-api/dist/index.js")
  api.install(__webpack_require__("vue"))
  if (api.compatible) {
    module.hot.accept()
    if (!api.isRecorded('40f214de')) {
      api.createRecord('40f214de', component.options)
    } else {
      api.reload('40f214de', component.options)
    }
    module.hot.accept("./src/components/Date.vue?vue&type=template&id=40f214de&", function(__WEBPACK_OUTDATED_DEPENDENCIES__) { /* harmony import */ _Date_vue_vue_type_template_id_40f214de___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/components/Date.vue?vue&type=template&id=40f214de&");
(function () {
      api.rerender('40f214de', {
        render: _Date_vue_vue_type_template_id_40f214de___WEBPACK_IMPORTED_MODULE_0__["render"],
        staticRenderFns: _Date_vue_vue_type_template_id_40f214de___WEBPACK_IMPORTED_MODULE_0__["staticRenderFns"]
      })
    })(__WEBPACK_OUTDATED_DEPENDENCIES__); }.bind(this))
  }
}
component.options.__file = "src/components/Date.vue"
/* harmony default export */ __webpack_exports__["default"] = (component.exports);

/***/ }),

/***/ "./src/components/Date.vue?vue&type=script&lang=js&":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _node_modules_pnpm_babel_loader_8_0_5_babel_core_7_22_6_webpack_4_46_0_node_modules_babel_loader_lib_index_js_ref_3_node_modules_pnpm_vue_loader_15_10_0_css_loader_3_2_0_lodash_4_17_21_vue_template_compiler_2_7_15_webpack_4_46_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Date_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("../../node_modules/.pnpm/babel-loader@8.0.5_@babel+core@7.22.6_webpack@4.46.0/node_modules/babel-loader/lib/index.js?!../../node_modules/.pnpm/vue-loader@15.10.0_css-loader@3.2.0_lodash@4.17.21_vue-template-compiler@2.7.15_webpack@4.46.0/node_modules/vue-loader/lib/index.js?!./src/components/Date.vue?vue&type=script&lang=js&");
/* empty/unused harmony star reexport */ /* harmony default export */ __webpack_exports__["default"] = (_node_modules_pnpm_babel_loader_8_0_5_babel_core_7_22_6_webpack_4_46_0_node_modules_babel_loader_lib_index_js_ref_3_node_modules_pnpm_vue_loader_15_10_0_css_loader_3_2_0_lodash_4_17_21_vue_template_compiler_2_7_15_webpack_4_46_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Date_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__["default"]); 

/***/ }),

/***/ "./src/components/Date.vue?vue&type=style&index=0&id=40f214de&lang=scss&":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _node_modules_pnpm_style_loader_2_0_0_webpack_4_46_0_node_modules_style_loader_dist_cjs_js_ref_5_oneOf_1_0_node_modules_pnpm_css_loader_3_2_0_webpack_4_46_0_node_modules_css_loader_dist_cjs_js_node_modules_pnpm_vue_loader_15_10_0_css_loader_3_2_0_lodash_4_17_21_vue_template_compiler_2_7_15_webpack_4_46_0_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_pnpm_sass_loader_10_1_1_sass_1_44_0_webpack_4_46_0_node_modules_sass_loader_dist_cjs_js_node_modules_pnpm_sass_resources_loader_2_0_1_node_modules_sass_resources_loader_lib_loader_js_ref_5_oneOf_1_3_node_modules_pnpm_vue_loader_15_10_0_css_loader_3_2_0_lodash_4_17_21_vue_template_compiler_2_7_15_webpack_4_46_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Date_vue_vue_type_style_index_0_id_40f214de_lang_scss___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("../../node_modules/.pnpm/style-loader@2.0.0_webpack@4.46.0/node_modules/style-loader/dist/cjs.js?!../../node_modules/.pnpm/css-loader@3.2.0_webpack@4.46.0/node_modules/css-loader/dist/cjs.js!../../node_modules/.pnpm/vue-loader@15.10.0_css-loader@3.2.0_lodash@4.17.21_vue-template-compiler@2.7.15_webpack@4.46.0/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/.pnpm/sass-loader@10.1.1_sass@1.44.0_webpack@4.46.0/node_modules/sass-loader/dist/cjs.js!../../node_modules/.pnpm/sass-resources-loader@2.0.1/node_modules/sass-resources-loader/lib/loader.js?!../../node_modules/.pnpm/vue-loader@15.10.0_css-loader@3.2.0_lodash@4.17.21_vue-template-compiler@2.7.15_webpack@4.46.0/node_modules/vue-loader/lib/index.js?!./src/components/Date.vue?vue&type=style&index=0&id=40f214de&lang=scss&");
/* empty/unused harmony star reexport */

/***/ }),

/***/ "./src/components/Date.vue?vue&type=template&id=40f214de&":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _node_modules_pnpm_vue_loader_15_10_0_css_loader_3_2_0_lodash_4_17_21_vue_template_compiler_2_7_15_webpack_4_46_0_node_modules_vue_loader_lib_loaders_templateLoader_js_ref_5_node_modules_pnpm_vue_loader_15_10_0_css_loader_3_2_0_lodash_4_17_21_vue_template_compiler_2_7_15_webpack_4_46_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Date_vue_vue_type_template_id_40f214de___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("../../node_modules/.pnpm/vue-loader@15.10.0_css-loader@3.2.0_lodash@4.17.21_vue-template-compiler@2.7.15_webpack@4.46.0/node_modules/vue-loader/lib/loaders/templateLoader.js?!../../node_modules/.pnpm/vue-loader@15.10.0_css-loader@3.2.0_lodash@4.17.21_vue-template-compiler@2.7.15_webpack@4.46.0/node_modules/vue-loader/lib/index.js?!./src/components/Date.vue?vue&type=template&id=40f214de&");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "render", function() { return _node_modules_pnpm_vue_loader_15_10_0_css_loader_3_2_0_lodash_4_17_21_vue_template_compiler_2_7_15_webpack_4_46_0_node_modules_vue_loader_lib_loaders_templateLoader_js_ref_5_node_modules_pnpm_vue_loader_15_10_0_css_loader_3_2_0_lodash_4_17_21_vue_template_compiler_2_7_15_webpack_4_46_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Date_vue_vue_type_template_id_40f214de___WEBPACK_IMPORTED_MODULE_0__["render"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "staticRenderFns", function() { return _node_modules_pnpm_vue_loader_15_10_0_css_loader_3_2_0_lodash_4_17_21_vue_template_compiler_2_7_15_webpack_4_46_0_node_modules_vue_loader_lib_loaders_templateLoader_js_ref_5_node_modules_pnpm_vue_loader_15_10_0_css_loader_3_2_0_lodash_4_17_21_vue_template_compiler_2_7_15_webpack_4_46_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Date_vue_vue_type_template_id_40f214de___WEBPACK_IMPORTED_MODULE_0__["staticRenderFns"]; });



/***/ }),

/***/ "./src/components/DatePicker.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return CDatePicker; });
/* harmony import */ var _cognitoforms_element_ui_lib_date_picker__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("../../libs/element-ui/lib/date-picker.js");
/* harmony import */ var _cognitoforms_element_ui_lib_date_picker__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_cognitoforms_element_ui_lib_date_picker__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("vue");
/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(vue__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var vue_property_decorator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("../../node_modules/.pnpm/vue-property-decorator@8.2.1_prettier@1.18.2/node_modules/vue-property-decorator/lib/vue-property-decorator.js");
/* harmony import */ var src_util_dom__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./src/util/dom.ts");

var _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _class, _class2, _descriptor, _descriptor2, _descriptor3, _descriptor4;
function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }
function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }
function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }



const ElementDatePickerConstructor = vue__WEBPACK_IMPORTED_MODULE_1___default.a.extend(_cognitoforms_element_ui_lib_date_picker__WEBPACK_IMPORTED_MODULE_0___default.a);
const HAVE_TRIGGER_TYPES = ['date', 'datetime', 'time', 'time-select', 'week', 'month', 'year', 'daterange', 'monthrange', 'timerange', 'datetimerange', 'dates'];
let CDatePicker = (_dec = Object(vue_property_decorator__WEBPACK_IMPORTED_MODULE_2__["Component"])({}), _dec2 = Object(vue_property_decorator__WEBPACK_IMPORTED_MODULE_2__["Prop"])({
  default: null
}), _dec3 = Object(vue_property_decorator__WEBPACK_IMPORTED_MODULE_2__["Prop"])({
  required: true
}), _dec4 = Object(vue_property_decorator__WEBPACK_IMPORTED_MODULE_2__["Prop"])({
  required: true
}), _dec5 = Object(vue_property_decorator__WEBPACK_IMPORTED_MODULE_2__["Prop"])({
  default: null
}), _dec6 = Object(vue_property_decorator__WEBPACK_IMPORTED_MODULE_2__["Watch"])('value', {
  immediate: true
}), _dec7 = Object(vue_property_decorator__WEBPACK_IMPORTED_MODULE_2__["Watch"])('unparsedValue', {
  immediate: true
}), _dec(_class = (_class2 = class CDatePicker extends ElementDatePickerConstructor {
  constructor() {
    super(...arguments);
    // -------------- Properties --------------
    _initializerDefineProperty(this, "modelFormat", _descriptor, this);
    _initializerDefineProperty(this, "formatDate", _descriptor2, this);
    _initializerDefineProperty(this, "parseDate", _descriptor3, this);
    _initializerDefineProperty(this, "unparsedValue", _descriptor4, this);
    // -------------- Data --------------
    this.isFocusing = false;
    this.willRaiseBlur = false;
    this.willRestoreFocus = false;
    this.willRestoreFocusTimestamp = 0;
    this.type = 'date';
    this.internalValue = null;
    this.internalUnparsedValue = null;
    this.setSoftCloseOnPick = false;
  }
  // -------------- LifeCycle Hooks --------------
  created() {
    this.internalValue = this.value;
    this.internalUnparsedValue = this.unparsedValue;
  }
  mounted() {
    // Raise an event when the input is blurred
    const input = this.$refs.reference;
    if (input && Object(src_util_dom__WEBPACK_IMPORTED_MODULE_3__["isComponent"])(input)) {
      // TODO: Is this kosher, if not we could update the date-picker to subscribe to the input's events in the template?
      input.$on('blur', evt => this.handleInputBlur(evt));
    }
  }

  // -------------- Computed --------------
  get displayValue() {
    if (this.userInput) {
      return this.userInput;
    } else if (this.internalUnparsedValue !== null) {
      return this.internalUnparsedValue;
    } else if (this.internalValue != null) {
      return this.formatDate(this.internalValue, this.modelFormat);
    } else if (this.parsedValue != null) {
      return this.formatDate(this.parsedValue, this.modelFormat);
    } else {
      return '';
    }
  }

  // -------------- Watchers --------------
  onValueChanged(value) {
    this.internalValue = value;
  }
  onUnparsedValueChanged(unparsedValue) {
    this.internalUnparsedValue = unparsedValue;
  }
  togglePickerVisible(isVisible) {
    if (this.$el) {
      const bounds = this.$el.getBoundingClientRect();
      this.$emit('pickerPosition', {
        top: Math.ceil(bounds.top),
        bottom: Math.ceil(bounds.bottom)
      });
    }
    this.pickerVisible = isVisible;
  }

  // -------------- Methods --------------
  parseString(value) {
    return this.parseDate(value, this.modelFormat);
  }
  formatToString(value) {
    return this.formatDate(value, this.modelFormat);
  }
  handleInputBlur(evt) {
    if (!this.pickerVisible && !this.willRaiseBlur && !this.willRestoreFocus) {
      // Handle and emit change since the change event won't be raised by either the `pickerVisible` watcher or explicit blur logic
      this.handleChange();
      this.emitChange(this.value);
      // Raise the blur event here, since the blur event won't be raised due to hiding the picker or explicitly blurring the input
      this.$emit('blur', evt);
    }
  }
  handleFocus(event) {
    const type = this.type;
    const isClickToFocus = event && event.type === 'click';
    if (HAVE_TRIGGER_TYPES.indexOf(type) !== -1 && isClickToFocus && !this.pickerVisible && !this.isFocusing) {
      this.togglePickerVisible(true);
      // After the date is selected, make sure to keep the focus on the date's input field
      if (!this.setSoftCloseOnPick) {
        setTimeout(() => {
          this.picker.$on('pick', (value, keepOpen) => {
            if (!keepOpen) this.softClose();
          });
          this.setSoftCloseOnPick = true;
        });
      }
    }
    this.isFocusing = false;
    this.$emit('focus', this);
  }
  handleKeydown(event) {
    const keyCode = event.keyCode;

    // ALT + UP
    if (event.altKey && event.keyCode === 38) {
      // Handle change before hiding the picker in case the user is typing text already
      this.handleChange();
      // NOTE: Alt+Up behaves the same way as escape in terms of hiding the picker
      // Note that the picker intends to keep focus even though hiding the picker will cause it to temporarily lose focus
      this.softClose(event);
      return;
    }

    // ALT + DOWN
    if (event.altKey && event.keyCode === 40) {
      // Handle change before showing the picker in case the user typed text while the picker was closed
      this.handleChange();
      // Show the picker
      this.togglePickerVisible(true);
      event.stopPropagation();
      return;
    }

    // ESC
    if (keyCode === 27) {
      this.softClose(event);
      return;
    }

    // Tab
    if (keyCode === 9) {
      // setTimeout is needed in IE11 and Edge to allow focus to be set on next element instead of body
      setTimeout(() => {
        if (!this.ranged) {
          this.handleChange();

          // Note that the picker is explicitly blurring its input and will raise an emit event either here, or in the `pickerVisible` watcher
          this.willRaiseBlur = true;
          if (!this.pickerVisible && !(this.picker && this.picker.visible)) {
            // NOTE: Copied from 'pickerVisible' watcher
            this.emitChange(this.value);
            this.userInput = null;
            this.$emit('blur', this);
          } else {
            if (this.picker) {
              this.picker.visible = false;
            }
            this.togglePickerVisible(false);
          }
          this.blur();
          this.willRaiseBlur = false;
        } else {
          // user may change focus between two input
          if (this.refInput.indexOf(document.activeElement) === -1) {
            // Note that the picker is explicitly blurring its input and will raise the blur event (via the `pickerVisible` watcher)
            this.willRaiseBlur = true;
            this.togglePickerVisible(false);
            this.blur();
            this.willRaiseBlur = false;
          }
        }
      });
      return;
    }

    // Enter
    if (keyCode === 13) {
      event.preventDefault();
      if (!this.pickerVisible) {
        // Handle change before showing the picker in case the user typed text while the picker was closed
        this.handleChange();
        // Show the picker, i.e. what is done when the input is focused
        this.togglePickerVisible(true);
        event.stopPropagation();
        return;
      } else {
        // Handle change before hiding the picker in case the user is typing text already
        this.handleChange();
        this.softClose(event);
      }
      if (this.userInput === '' || this.isValidValue(this.parseString(this.displayValue))) {
        this.handleChange();
        if (this.picker) {
          this.picker.visible = false;
        }
        this.togglePickerVisible(false);
        this.blur();
      }
      this.softClose(event);
      return;
    }

    // if user is typing, do not let picker handle key input
    if (this.userInput) {
      event.stopPropagation();
      return;
    }

    // delegate other keys to panel
    if (this.picker && this.picker.handleKeydown) {
      this.picker.handleKeydown(event);
    }
  }
  emitInput(val) {
    const value = typeof val === 'string' ? this.parseDate(val, this.modelFormat) : val || null;
    let unparsedValue = this.internalUnparsedValue;
    if (value) {
      this.internalValue = value;
      this.internalUnparsedValue = null;
    } else {
      this.internalValue = null;
      this.internalUnparsedValue = unparsedValue = typeof val === 'string' ? val : null;
    }
    if (value !== this.value || unparsedValue !== this.unparsedValue) {
      this.$emit('input', value, unparsedValue);
    }
    if (this.picker && value && typeof val === 'string') {
      // Update the picker's selected value when a valid date is typed
      this.picker.value = value;
    }
  }
  emitChange(val) {
    if (this.willRestoreFocus && this.willRestoreFocusTimestamp && Date.now() - this.willRestoreFocusTimestamp < 100) {
      // Don't raise a change event if we're going to immediately restore focus to the input,
      // since conceptually the input is maintaining focus and so this shouldn't be a change
      return;
    }

    // NOTE: The element picker calls `emitChange(null)` in most cases, the only exception is `emitChange(this.value)` when a
    // date is picked from the date picker. In that case, the 'input' event has been raised with the selected value, but since
    // there's no guarantee that the emitted input has been pushed back down to the components `value` prop, then use the internal
    // value that we're tracking instead. If the `value` prop is re-bound, then `internalValue` will get set to that value anyway.
    val = this.internalValue;
    const value = typeof val === 'string' ? this.parseDate(val, this.modelFormat) : val || null;
    const unparsedValue = this.internalUnparsedValue;
    if (value !== this.value || unparsedValue !== this.unparsedValue) {
      this.$emit('change', value, unparsedValue);
    }
  }
  handleInput(value) {
    this.userInput = value;
    this.emitInput(value);
  }
  handleChange() {
    if (this.userInput) {
      const displayValue = this.displayValue;
      const value = this.parseString(displayValue);
      if (value) {
        this.internalUnparsedValue = null;
        if (this.picker) {
          this.picker.value = value;
        }
        if (this.isValidValue(value)) {
          this.emitInput(displayValue);
          this.userInput = null;
        }
      } else {
        this.internalUnparsedValue = this.userInput;
        this.emitInput(this.userInput);
      }
    } else {
      this.internalUnparsedValue = null;
    }
    if (this.userInput === '') {
      this.emitInput(null);
      this.emitChange(null);
      this.userInput = null;
    }
  }

  // Closes the date picker while keeping focus on the date's input field
  softClose(event) {
    // Note that the picker intends to keep focus even though hiding the picker will cause it to temporarily lose focus
    this.willRestoreFocus = true;
    this.willRestoreFocusTimestamp = Date.now();
    // Make note of the current user input so that it can be restored after closing the picker
    const userInputToRestore = this.userInput;
    // Hide the picker: this will raise change, clear out user input, and blur the input
    this.togglePickerVisible(false);
    if (event) event.stopPropagation();
    // Restore focus to the input with the previously typed value, if any
    const input = this.refInput[0];
    if (input) {
      setTimeout(() => {
        this.willRestoreFocus = false;
        this.isFocusing = true;
        try {
          // Restore the user input, since it would have been cleared out by the `pickerVisible` watcher
          if (userInputToRestore) this.userInput = userInputToRestore;
          input.focus();
        } catch (e) {}
        this.isFocusing = false;
      }, 0);
    } else {
      this.willRestoreFocus = false;
    }
  }
}, (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "modelFormat", [_dec2], {
  configurable: true,
  enumerable: true,
  writable: true,
  initializer: null
}), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "formatDate", [_dec3], {
  configurable: true,
  enumerable: true,
  writable: true,
  initializer: null
}), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "parseDate", [_dec4], {
  configurable: true,
  enumerable: true,
  writable: true,
  initializer: null
}), _descriptor4 = _applyDecoratedDescriptor(_class2.prototype, "unparsedValue", [_dec5], {
  configurable: true,
  enumerable: true,
  writable: true,
  initializer: null
}), _applyDecoratedDescriptor(_class2.prototype, "onValueChanged", [_dec6], Object.getOwnPropertyDescriptor(_class2.prototype, "onValueChanged"), _class2.prototype), _applyDecoratedDescriptor(_class2.prototype, "onUnparsedValueChanged", [_dec7], Object.getOwnPropertyDescriptor(_class2.prototype, "onUnparsedValueChanged"), _class2.prototype)), _class2)) || _class);


/***/ }),

/***/ "./src/localization/element-format-translation.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "convertToElementDateFormat", function() { return convertToElementDateFormat; });
/**
 * Converts a .NET date/time format string into an equivelant (or compatible?) Element UI format string
 * @param format The date/time format string
 */
function convertToElementDateFormat(format) {
  if (format) {
    format = format.replace(/tt/g, 'A');
  }
  return format;
}

/***/ }),

/***/ "./src/style/_picker-panel.scss":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _node_modules_pnpm_style_loader_2_0_0_webpack_4_46_0_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("../../node_modules/.pnpm/style-loader@2.0.0_webpack@4.46.0/node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js");
/* harmony import */ var _node_modules_pnpm_style_loader_2_0_0_webpack_4_46_0_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_pnpm_style_loader_2_0_0_webpack_4_46_0_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_pnpm_css_loader_3_2_0_webpack_4_46_0_node_modules_css_loader_dist_cjs_js_node_modules_pnpm_sass_loader_10_1_1_sass_1_44_0_webpack_4_46_0_node_modules_sass_loader_dist_cjs_js_node_modules_pnpm_sass_resources_loader_2_0_1_node_modules_sass_resources_loader_lib_loader_js_ref_5_oneOf_1_3_picker_panel_scss__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("../../node_modules/.pnpm/css-loader@3.2.0_webpack@4.46.0/node_modules/css-loader/dist/cjs.js!../../node_modules/.pnpm/sass-loader@10.1.1_sass@1.44.0_webpack@4.46.0/node_modules/sass-loader/dist/cjs.js!../../node_modules/.pnpm/sass-resources-loader@2.0.1/node_modules/sass-resources-loader/lib/loader.js?!./src/style/_picker-panel.scss");
/* harmony import */ var _node_modules_pnpm_css_loader_3_2_0_webpack_4_46_0_node_modules_css_loader_dist_cjs_js_node_modules_pnpm_sass_loader_10_1_1_sass_1_44_0_webpack_4_46_0_node_modules_sass_loader_dist_cjs_js_node_modules_pnpm_sass_resources_loader_2_0_1_node_modules_sass_resources_loader_lib_loader_js_ref_5_oneOf_1_3_picker_panel_scss__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_pnpm_css_loader_3_2_0_webpack_4_46_0_node_modules_css_loader_dist_cjs_js_node_modules_pnpm_sass_loader_10_1_1_sass_1_44_0_webpack_4_46_0_node_modules_sass_loader_dist_cjs_js_node_modules_pnpm_sass_resources_loader_2_0_1_node_modules_sass_resources_loader_lib_loader_js_ref_5_oneOf_1_3_picker_panel_scss__WEBPACK_IMPORTED_MODULE_1__);

            

var options = {"attributes":{"class":"cog-style"}};

options.insert = "head";
options.singleton = false;

var update = _node_modules_pnpm_style_loader_2_0_0_webpack_4_46_0_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()(_node_modules_pnpm_css_loader_3_2_0_webpack_4_46_0_node_modules_css_loader_dist_cjs_js_node_modules_pnpm_sass_loader_10_1_1_sass_1_44_0_webpack_4_46_0_node_modules_sass_loader_dist_cjs_js_node_modules_pnpm_sass_resources_loader_2_0_1_node_modules_sass_resources_loader_lib_loader_js_ref_5_oneOf_1_3_picker_panel_scss__WEBPACK_IMPORTED_MODULE_1___default.a, options);


if (true) {
  if (!_node_modules_pnpm_css_loader_3_2_0_webpack_4_46_0_node_modules_css_loader_dist_cjs_js_node_modules_pnpm_sass_loader_10_1_1_sass_1_44_0_webpack_4_46_0_node_modules_sass_loader_dist_cjs_js_node_modules_pnpm_sass_resources_loader_2_0_1_node_modules_sass_resources_loader_lib_loader_js_ref_5_oneOf_1_3_picker_panel_scss__WEBPACK_IMPORTED_MODULE_1___default.a.locals || module.hot.invalidate) {
    var isEqualLocals = function isEqualLocals(a, b, isNamedExport) {
  if (!a && b || a && !b) {
    return false;
  }

  var p;

  for (p in a) {
    if (isNamedExport && p === 'default') {
      // eslint-disable-next-line no-continue
      continue;
    }

    if (a[p] !== b[p]) {
      return false;
    }
  }

  for (p in b) {
    if (isNamedExport && p === 'default') {
      // eslint-disable-next-line no-continue
      continue;
    }

    if (!a[p]) {
      return false;
    }
  }

  return true;
};
    var oldLocals = _node_modules_pnpm_css_loader_3_2_0_webpack_4_46_0_node_modules_css_loader_dist_cjs_js_node_modules_pnpm_sass_loader_10_1_1_sass_1_44_0_webpack_4_46_0_node_modules_sass_loader_dist_cjs_js_node_modules_pnpm_sass_resources_loader_2_0_1_node_modules_sass_resources_loader_lib_loader_js_ref_5_oneOf_1_3_picker_panel_scss__WEBPACK_IMPORTED_MODULE_1___default.a.locals;

    module.hot.accept(
      "../../node_modules/.pnpm/css-loader@3.2.0_webpack@4.46.0/node_modules/css-loader/dist/cjs.js!../../node_modules/.pnpm/sass-loader@10.1.1_sass@1.44.0_webpack@4.46.0/node_modules/sass-loader/dist/cjs.js!../../node_modules/.pnpm/sass-resources-loader@2.0.1/node_modules/sass-resources-loader/lib/loader.js?!./src/style/_picker-panel.scss",
      function(__WEBPACK_OUTDATED_DEPENDENCIES__) { /* harmony import */ _node_modules_pnpm_css_loader_3_2_0_webpack_4_46_0_node_modules_css_loader_dist_cjs_js_node_modules_pnpm_sass_loader_10_1_1_sass_1_44_0_webpack_4_46_0_node_modules_sass_loader_dist_cjs_js_node_modules_pnpm_sass_resources_loader_2_0_1_node_modules_sass_resources_loader_lib_loader_js_ref_5_oneOf_1_3_picker_panel_scss__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("../../node_modules/.pnpm/css-loader@3.2.0_webpack@4.46.0/node_modules/css-loader/dist/cjs.js!../../node_modules/.pnpm/sass-loader@10.1.1_sass@1.44.0_webpack@4.46.0/node_modules/sass-loader/dist/cjs.js!../../node_modules/.pnpm/sass-resources-loader@2.0.1/node_modules/sass-resources-loader/lib/loader.js?!./src/style/_picker-panel.scss");
/* harmony import */ _node_modules_pnpm_css_loader_3_2_0_webpack_4_46_0_node_modules_css_loader_dist_cjs_js_node_modules_pnpm_sass_loader_10_1_1_sass_1_44_0_webpack_4_46_0_node_modules_sass_loader_dist_cjs_js_node_modules_pnpm_sass_resources_loader_2_0_1_node_modules_sass_resources_loader_lib_loader_js_ref_5_oneOf_1_3_picker_panel_scss__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_pnpm_css_loader_3_2_0_webpack_4_46_0_node_modules_css_loader_dist_cjs_js_node_modules_pnpm_sass_loader_10_1_1_sass_1_44_0_webpack_4_46_0_node_modules_sass_loader_dist_cjs_js_node_modules_pnpm_sass_resources_loader_2_0_1_node_modules_sass_resources_loader_lib_loader_js_ref_5_oneOf_1_3_picker_panel_scss__WEBPACK_IMPORTED_MODULE_1__);
(function () {
        if (!isEqualLocals(oldLocals, _node_modules_pnpm_css_loader_3_2_0_webpack_4_46_0_node_modules_css_loader_dist_cjs_js_node_modules_pnpm_sass_loader_10_1_1_sass_1_44_0_webpack_4_46_0_node_modules_sass_loader_dist_cjs_js_node_modules_pnpm_sass_resources_loader_2_0_1_node_modules_sass_resources_loader_lib_loader_js_ref_5_oneOf_1_3_picker_panel_scss__WEBPACK_IMPORTED_MODULE_1___default.a.locals, undefined)) {
                module.hot.invalidate();

                return;
              }

              oldLocals = _node_modules_pnpm_css_loader_3_2_0_webpack_4_46_0_node_modules_css_loader_dist_cjs_js_node_modules_pnpm_sass_loader_10_1_1_sass_1_44_0_webpack_4_46_0_node_modules_sass_loader_dist_cjs_js_node_modules_pnpm_sass_resources_loader_2_0_1_node_modules_sass_resources_loader_lib_loader_js_ref_5_oneOf_1_3_picker_panel_scss__WEBPACK_IMPORTED_MODULE_1___default.a.locals;

              update(_node_modules_pnpm_css_loader_3_2_0_webpack_4_46_0_node_modules_css_loader_dist_cjs_js_node_modules_pnpm_sass_loader_10_1_1_sass_1_44_0_webpack_4_46_0_node_modules_sass_loader_dist_cjs_js_node_modules_pnpm_sass_resources_loader_2_0_1_node_modules_sass_resources_loader_lib_loader_js_ref_5_oneOf_1_3_picker_panel_scss__WEBPACK_IMPORTED_MODULE_1___default.a);
      })(__WEBPACK_OUTDATED_DEPENDENCIES__); }.bind(this)
    )
  }

  module.hot.dispose(function() {
    update();
  });
}

/* harmony default export */ __webpack_exports__["default"] = (_node_modules_pnpm_css_loader_3_2_0_webpack_4_46_0_node_modules_css_loader_dist_cjs_js_node_modules_pnpm_sass_loader_10_1_1_sass_1_44_0_webpack_4_46_0_node_modules_sass_loader_dist_cjs_js_node_modules_pnpm_sass_resources_loader_2_0_1_node_modules_sass_resources_loader_lib_loader_js_ref_5_oneOf_1_3_picker_panel_scss__WEBPACK_IMPORTED_MODULE_1___default.a.locals || {});

/***/ }),

/***/ "./src/util/shouldHideDateTimeIcon.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return shouldHideDateTimeIcon; });
/* harmony import */ var _cognitoforms_utils_user_agent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("../../libs/utils/user-agent.ts");
/* harmony import */ var _cognitoforms_utils_user_agent__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_cognitoforms_utils_user_agent__WEBPACK_IMPORTED_MODULE_0__);

function shouldHideDateTimeIcon(mobile, textValue, inputElement) {
  if (!mobile || !textValue.length || !(Object(_cognitoforms_utils_user_agent__WEBPACK_IMPORTED_MODULE_0__["getDeviceType"])(window.navigator.userAgent) === 'ipad' || Object(_cognitoforms_utils_user_agent__WEBPACK_IMPORTED_MODULE_0__["getDeviceType"])(window.navigator.userAgent) === 'iphone')) return false;
  const dateInputThreshold = 110;
  const timeInputThreshold = 85;
  const type = inputElement.getAttribute('type');

  // Thresholds will work for most locales but not all. Vietnamese dates, for example, will still have a problem.
  return inputElement.clientWidth < (type === 'date' ? dateInputThreshold : timeInputThreshold);
}

/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vQzovVXNlcnMvVHlsZXJUcm90dGVyL3JlcG9zL0NvZ25pdG8gRm9ybXMvQ29nbml0by5XZWIuQ2xpZW50L2xpYnMvZWxlbWVudC11aS9saWIvZGF0ZS1waWNrZXIuanMiLCJ3ZWJwYWNrOi8vL0M6L1VzZXJzL1R5bGVyVHJvdHRlci9yZXBvcy9Db2duaXRvIEZvcm1zL0NvZ25pdG8uV2ViLkNsaWVudC9saWJzL2VsZW1lbnQtdWkvbGliL3V0aWxzL2RhdGUtdXRpbC5qcyIsIndlYnBhY2s6Ly8vQzovVXNlcnMvVHlsZXJUcm90dGVyL3JlcG9zL0NvZ25pdG8gRm9ybXMvQ29nbml0by5XZWIuQ2xpZW50L2xpYnMvZWxlbWVudC11aS9saWIvdXRpbHMvZGF0ZS5qcyIsIndlYnBhY2s6Ly8vc3JjL2NvbXBvbmVudHMvRGF0ZS52dWUiLCJ3ZWJwYWNrOi8vLy4vc3JjL3N0eWxlL19waWNrZXItcGFuZWwuc2NzcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9EYXRlLnZ1ZT82ZjA2Iiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL0RhdGUudnVlP2E0MTkiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvRGF0ZS52dWU/M2U5NyIsIndlYnBhY2s6Ly8vLi9zcmMvYXNzZXRzL2NhbGVuZGFyLnN2ZyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9EYXRlLnZ1ZSIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9EYXRlLnZ1ZT8yZTM5Iiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL0RhdGUudnVlPzAzZTIiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvRGF0ZS52dWU/NmIyYyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9EYXRlUGlja2VyLnRzIiwid2VicGFjazovLy8uL3NyYy9sb2NhbGl6YXRpb24vZWxlbWVudC1mb3JtYXQtdHJhbnNsYXRpb24udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3N0eWxlL19waWNrZXItcGFuZWwuc2Nzcz9iNjQ2Iiwid2VicGFjazovLy8uL3NyYy91dGlsL3Nob3VsZEhpZGVEYXRlVGltZUljb24udHMiXSwibmFtZXMiOlsiREFURV9QSUNLRVJfSEVJR0hUIiwibmFtZSIsImNvbXBvbmVudHMiLCJJQ2FsZW5kYXIiLCJDUGlja2VyTmF0aXZlIiwiQ0RhdGVQaWNrZXIiLCJtaXhpbnMiLCJmb2N1cyIsImluamVjdCIsImZvcm1FdmVudHMiLCIkZm9ybWF0IiwiJHBhcnNlIiwiJGV4cGFuZERhdGVGb3JtYXQiLCIkY3VsdHVyZSIsImZsYWdzIiwiZGVmYXVsdCIsImluaGVyaXRBdHRycyIsIm1vZGVsIiwicHJvcCIsImV2ZW50IiwicHJvcHMiLCJ2YWx1ZSIsInR5cGUiLCJTdHJpbmciLCJmb3JtYXQiLCJwbGFjZWhvbGRlciIsInJlYWRvbmx5IiwiQm9vbGVhbiIsImNoYW1lbGVvbiIsIm1vYmlsZSIsImlkIiwic2NvcGUiLCJtaW4iLCJEYXRlIiwibWF4IiwiZGF0YSIsImRhdGVWYWx1ZSIsInRleHRWYWx1ZSIsInVucGFyc2VkVmFsdWUiLCJuYXRpdmVUZXh0VmFsdWUiLCJpc0Nsb3NpbmciLCJpc1JlY2VudElPUyIsImdldERldmljZVR5cGUiLCJ3aW5kb3ciLCJuYXZpZ2F0b3IiLCJ1c2VyQWdlbnQiLCJkYXRlVGltZUljb25Jc0hpZGRlbiIsImNvbXB1dGVkIiwiZWxlbWVudEZvcm1hdCIsImNvbnZlcnRUb0VsZW1lbnREYXRlRm9ybWF0IiwibW9kZWxGb3JtYXQiLCJub3JtYWxpemVkTWluIiwibm9ybWFsaXplIiwibm9ybWFsaXplZE1heCIsImRlZmF1bHRWYWx1ZSIsInRvZGF5Iiwid2F0Y2giLCJpbW1lZGlhdGUiLCJoYW5kbGVyIiwibmV3VmFsdWUiLCJiZWZvcmVEZXN0cm95IiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImhhbmRsZVJlc2l6ZSIsIm1vdW50ZWQiLCJkYXRlRmllbGRzIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZm9yRWFjaCIsImRhdGUiLCJvZmZzZXRXaWR0aCIsImNhbEljb24iLCJBcnJheSIsImZyb20iLCJnZXRFbGVtZW50c0J5Q2xhc3NOYW1lIiwiaWNvbiIsImNsYXNzTGlzdCIsImFkZCIsImlucHV0IiwiJGVsIiwicXVlcnlTZWxlY3RvciIsInNldEF0dHJpYnV0ZSIsInNob3VsZEhpZGVEYXRlVGltZUljb24iLCIkcmVmcyIsImFkZEV2ZW50TGlzdGVuZXIiLCJtZXRob2RzIiwiaGFuZGxlUHJlRm9jdXMiLCJwaWNrZXJQb3NpdGlvbiIsImZvcm1IZWlnaHQiLCJkb2N1bWVudEVsZW1lbnQiLCJjbGllbnRIZWlnaHQiLCJwaWNrZXJCb3R0b21Cb3VuZHMiLCJib3R0b20iLCJ0b3AiLCJtaW5IZWlnaHQiLCJlbnN1cmVNaW5IZWlnaHQiLCJoYW5kbGVPdXRlckNsaWNrIiwiZXZ0IiwicGlja2VyIiwiaGFuZGxlQ2xpY2siLCJoYW5kbGVGb2N1cyIsImV2IiwiYWRkQ2xhc3NPbkZvY3VzIiwiJGVtaXQiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJyZW1vdmVBdHRyaWJ1dGUiLCJoYW5kbGVCbHVyIiwid2lsbFJlc3RvcmVGb2N1cyIsInJlbW92ZUNsYXNzT25CbHVyIiwic3RvcFByb3BhZ2F0aW9uIiwiaGFuZGxlSWNvbkNsaWNrIiwicGlja2VyVmlzaWJsZSIsInNvZnRDbG9zZSIsImhhbmRsZUljb25Nb3VzZWRvd24iLCJwcmV2ZW50RGVmYXVsdCIsImhhbmRsZUlucHV0IiwidXNlcklucHV0IiwiaGFuZGxlQ2hhbmdlIiwiaGFuZGxlTmF0aXZlQ2hhbmdlIiwidGFyZ2V0IiwiaGFuZGxlUGlja2VyVmlzaWJsZUNoYW5nZSIsInZpc2libGUiLCJzZXRUaW1lb3V0IiwicmVzZXREYXRlIiwiRWxlbWVudERhdGVQaWNrZXJDb25zdHJ1Y3RvciIsIlZ1ZSIsImV4dGVuZCIsIl9EYXRlUGlja2VyIiwiSEFWRV9UUklHR0VSX1RZUEVTIiwiX2RlYyIsIkNvbXBvbmVudCIsIl9kZWMyIiwiUHJvcCIsIl9kZWMzIiwicmVxdWlyZWQiLCJfZGVjNCIsIl9kZWM1IiwiX2RlYzYiLCJXYXRjaCIsIl9kZWM3IiwiX2NsYXNzIiwiX2NsYXNzMiIsImNvbnN0cnVjdG9yIiwiYXJndW1lbnRzIiwiX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkiLCJfZGVzY3JpcHRvciIsIl9kZXNjcmlwdG9yMiIsIl9kZXNjcmlwdG9yMyIsIl9kZXNjcmlwdG9yNCIsImlzRm9jdXNpbmciLCJ3aWxsUmFpc2VCbHVyIiwid2lsbFJlc3RvcmVGb2N1c1RpbWVzdGFtcCIsImludGVybmFsVmFsdWUiLCJpbnRlcm5hbFVucGFyc2VkVmFsdWUiLCJzZXRTb2Z0Q2xvc2VPblBpY2siLCJjcmVhdGVkIiwicmVmZXJlbmNlIiwiaXNDb21wb25lbnQiLCIkb24iLCJoYW5kbGVJbnB1dEJsdXIiLCJkaXNwbGF5VmFsdWUiLCJmb3JtYXREYXRlIiwicGFyc2VkVmFsdWUiLCJvblZhbHVlQ2hhbmdlZCIsIm9uVW5wYXJzZWRWYWx1ZUNoYW5nZWQiLCJ0b2dnbGVQaWNrZXJWaXNpYmxlIiwiaXNWaXNpYmxlIiwiYm91bmRzIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwiTWF0aCIsImNlaWwiLCJwYXJzZVN0cmluZyIsInBhcnNlRGF0ZSIsImZvcm1hdFRvU3RyaW5nIiwiZW1pdENoYW5nZSIsImlzQ2xpY2tUb0ZvY3VzIiwiaW5kZXhPZiIsImtlZXBPcGVuIiwiaGFuZGxlS2V5ZG93biIsImtleUNvZGUiLCJhbHRLZXkiLCJyYW5nZWQiLCJibHVyIiwicmVmSW5wdXQiLCJhY3RpdmVFbGVtZW50IiwiaXNWYWxpZFZhbHVlIiwiZW1pdElucHV0IiwidmFsIiwibm93IiwidXNlcklucHV0VG9SZXN0b3JlIiwiZSIsIl9hcHBseURlY29yYXRlZERlc2NyaXB0b3IiLCJwcm90b3R5cGUiLCJjb25maWd1cmFibGUiLCJlbnVtZXJhYmxlIiwid3JpdGFibGUiLCJpbml0aWFsaXplciIsIk9iamVjdCIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsInJlcGxhY2UiLCJpbnB1dEVsZW1lbnQiLCJsZW5ndGgiLCJkYXRlSW5wdXRUaHJlc2hvbGQiLCJ0aW1lSW5wdXRUaHJlc2hvbGQiLCJnZXRBdHRyaWJ1dGUiLCJjbGllbnRXaWR0aCJdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQTtBQUNBLDZCQUE2QjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtEQUFrRCxnQ0FBZ0M7QUFDbEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0VBQWdFLGtCQUFrQjtBQUNsRjtBQUNBLHlEQUF5RCxjQUFjO0FBQ3ZFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaURBQWlELGlDQUFpQztBQUNsRix3SEFBd0gsbUJBQW1CLEVBQUU7QUFDN0k7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DLDBCQUEwQixFQUFFO0FBQy9ELHlDQUF5QyxlQUFlO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4REFBOEQsK0RBQStEO0FBQzdIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsMkZBQTJGLDJCQUEyQixFQUFFO0FBQ3hIOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FB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QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQSxvRztBQUNBO0FBQ0E7O0FBRUE7Ozs7OztBQU1BOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUEsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGlCQUFpQixtQkFBTyxDQUFDLHNEQUFzRDs7QUFF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SDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FB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Q0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQSxzRztBQUNBO0FBQ0E7O0FBRUE7Ozs7OztBQU1BOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUEsT0FBTztBQUNQO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxREFBcUQ7QUFDckQ7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQjtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0EsbUJBQW1CO0FBQ25CO0FBQ0E7QUFDQTtBQUNBLGtEQUFrRCxjQUFjO0FBQ2hFO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscURBQXFEO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQSxtQkFBbUI7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBLG1CQUFtQjtBQUNuQjtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscURBQXFEO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQSxtQkFBbUI7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLDhCQUE4QjtBQUMxRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQSxtQkFBbUI7QUFDbkI7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFEQUFxRDtBQUNyRDtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QiwyQkFBMkI7QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0EsbUJBQW1CO0FBQ25CO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBLG1CQUFtQixxREFBcUQ7QUFDeEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUI7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlEQUF5RCxjQUFjO0FBQ3ZFO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBLG1CQUFtQix1REFBdUQ7QUFDMUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDO0FBQ2hDLHVCQUF1QjtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUI7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQjtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQSx1QkFBdUIsdURBQXVEO0FBQzlFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQztBQUNwQywyQkFBMkI7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQjtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQSx1QkFBdUIsb0RBQW9EO0FBQzNFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQztBQUNwQywyQkFBMkI7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7Ozs7QUFJQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLFlBQVk7QUFDWixvQkFBb0I7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQztBQUNoQyxLQUFLO0FBQ0w7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSxPQUFPO0FBQ1A7QUFDQSxPQUFPO0FBQ1A7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSxPQUFPO0FBQ1A7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxL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RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLE9BQU87QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLE9BQU87QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDLE9BQU87QUFDN0M7QUFDQSx1Q0FBdUMsT0FBTztBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQSxnSDtBQUNBOzs7Ozs7QUFNQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7Ozs7Ozs7Ozs7QUFVQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsNEZBQTRGLGFBQWE7QUFDekc7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBLFFBQVE7O0FBRVI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsT0FBTztBQUNQLCtCQUErQjtBQUMvQjtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCx3Q0FBd0MsVUFBVTtBQUNsRDtBQUNBO0FBQ0Esb0NBQW9DO0FBQ3BDO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtB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QUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7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O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSx3Q0FBd0MsU0FBUztBQUNqRCx1REFBdUQsU0FBUztBQUNoRTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0Esa0g7QUFDQTs7Ozs7O0FBTUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOzs7OztBQUtBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLE9BQU87QUFDUCxZOzs7Ozs7OztBQ3YvS2E7O0FBRWI7QUFDQTtBQUNBLG1DQUFtQyxtQkFBTyxDQUFDLHlDQUFzQjtBQUNqRSxjQUFjLG1CQUFPLENBQUMsMkNBQWtCO0FBQ3hDLG9DQUFvQyxpQ0FBaUMsY0FBYztBQUNuRjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQixVQUFVO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJFQUEyRSxLQUFLO0FBQ2hGLHNFQUFzRSxLQUFLO0FBQzNFLGdGQUFnRixNQUFNO0FBQ3RGLGtGQUFrRixVQUFVO0FBQzVGLHFFQUFxRSxPQUFPO0FBQzVFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0NBQXdDO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLElBQUksV0FBVztBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsbUJBQW1CLFFBQVE7QUFDM0I7QUFDQTtBQUNBLEdBQUc7QUFDSCxtQkFBbUIsUUFBUTtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsU0FBUztBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSxPQUFPO0FBQ1A7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLElBQUksNEJBQTRCLElBQUksTUFBTSxJQUFJO0FBQzVFO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QixJQUFJLFlBQVksSUFBSSxNQUFNLElBQUksTUFBTSxJQUFJO0FBQ3RFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwRDs7Ozs7Ozs7QUM5UkEsa0NBQWE7O0FBRWI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsSUFBSSxHQUFHLElBQUksYUFBYSxJQUFJO0FBQzdDO0FBQ0EseUJBQXlCLEVBQUU7QUFDM0Isd0JBQXdCLEVBQUU7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0I7QUFDQTtBQUNBO0FBQ0EscUNBQXFDLFNBQVM7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsY0FBYyxFQUFFO0FBQ2hCO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsWUFBWTtBQUN6QixhQUFhLE9BQU87QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsT0FBTztBQUNwQixhQUFhLE9BQU87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QUFFUSxTQUFpQixFQUFFa0ssWUFBOEIsRUFBRTtFQUNsSCxJQUNDLENBQUMxSyxNQUFNLElBQ1AsQ0FBQ1EsU0FBUyxDQUFDbUssTUFBTSxJQUNqQixFQUFFOUosb0ZBQWEsQ0FBQ0MsTUFBTSxDQUFDQyxTQUFTLENBQUNDLFNBQVMsQ0FBQyxLQUFLLE1BQU0sSUFBSUgsb0ZBQWEsQ0FBQ0MsTUFBTSxDQUFDQyxTQUFTLENBQUNDLFNBQVMsQ0FBQyxLQUFLLFFBQVEsQ0FBQyxFQUVqSCxPQUFPLEtBQUs7RUFFYixNQUFNNEosa0JBQTBCLEdBQUcsR0FBRztFQUN0QyxNQUFNQyxrQkFBMEIsR0FBRyxFQUFFO0VBQ3JDLE1BQU1wTCxJQUFxQixHQUFHaUwsWUFBWSxDQUFDSSxZQUFZLENBQUMsTUFBTSxDQUFROztFQUV0RTtFQUNBLE9BQU9KLFlBQVksQ0FBQ0ssV0FBVyxJQUFJdEwsSUFBSSxLQUFLLE1BQU0sR0FBR21MLGtCQUFrQixHQUFHQyxrQkFBa0IsQ0FBQztBQUM5RixDIiwiZmlsZSI6IkRhdGUuYjFhNTBkNTAwMTczZTMwMGNiYjkuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9XG4vKioqKioqLyAoZnVuY3Rpb24obW9kdWxlcykgeyAvLyB3ZWJwYWNrQm9vdHN0cmFwXG4vKioqKioqLyBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbi8qKioqKiovIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4vKioqKioqLyBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4vKioqKioqLyBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbi8qKioqKiovIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuLyoqKioqKi8gXHRcdH1cbi8qKioqKiovIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuLyoqKioqKi8gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbi8qKioqKiovIFx0XHRcdGk6IG1vZHVsZUlkLFxuLyoqKioqKi8gXHRcdFx0bDogZmFsc2UsXG4vKioqKioqLyBcdFx0XHRleHBvcnRzOiB7fVxuLyoqKioqKi8gXHRcdH07XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuLyoqKioqKi8gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4vKioqKioqLyBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuLyoqKioqKi8gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbi8qKioqKiovIFx0fVxuLyoqKioqKi9cbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuLyoqKioqKi8gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbi8qKioqKiovIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuLyoqKioqKi8gXHRcdH1cbi8qKioqKiovIFx0fTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuLyoqKioqKi8gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuLyoqKioqKi8gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4vKioqKioqLyBcdFx0fVxuLyoqKioqKi8gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4vKioqKioqLyBcdH07XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3Rcbi8qKioqKiovIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4vKioqKioqLyBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuLyoqKioqKi8gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3Rcbi8qKioqKiovIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuLyoqKioqKi8gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuLyoqKioqKi8gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4vKioqKioqLyBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbi8qKioqKiovIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuLyoqKioqKi8gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4vKioqKioqLyBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuLyoqKioqKi8gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbi8qKioqKiovIFx0XHRyZXR1cm4gbnM7XG4vKioqKioqLyBcdH07XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbi8qKioqKiovIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbi8qKioqKiovIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4vKioqKioqLyBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuLyoqKioqKi8gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbi8qKioqKiovIFx0XHRyZXR1cm4gZ2V0dGVyO1xuLyoqKioqKi8gXHR9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiL2Rpc3QvXCI7XG4vKioqKioqL1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4vKioqKioqLyBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDU2KTtcbi8qKioqKiovIH0pXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyoqKioqKi8gKFtcbi8qIDAgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiYVwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIG5vcm1hbGl6ZUNvbXBvbmVudDsgfSk7XG4vKiBnbG9iYWxzIF9fVlVFX1NTUl9DT05URVhUX18gKi9cblxuLy8gSU1QT1JUQU5UOiBEbyBOT1QgdXNlIEVTMjAxNSBmZWF0dXJlcyBpbiB0aGlzIGZpbGUgKGV4Y2VwdCBmb3IgbW9kdWxlcykuXG4vLyBUaGlzIG1vZHVsZSBpcyBhIHJ1bnRpbWUgdXRpbGl0eSBmb3IgY2xlYW5lciBjb21wb25lbnQgbW9kdWxlIG91dHB1dCBhbmQgd2lsbFxuLy8gYmUgaW5jbHVkZWQgaW4gdGhlIGZpbmFsIHdlYnBhY2sgdXNlciBidW5kbGUuXG5cbmZ1bmN0aW9uIG5vcm1hbGl6ZUNvbXBvbmVudChcbiAgc2NyaXB0RXhwb3J0cyxcbiAgcmVuZGVyLFxuICBzdGF0aWNSZW5kZXJGbnMsXG4gIGZ1bmN0aW9uYWxUZW1wbGF0ZSxcbiAgaW5qZWN0U3R5bGVzLFxuICBzY29wZUlkLFxuICBtb2R1bGVJZGVudGlmaWVyIC8qIHNlcnZlciBvbmx5ICovLFxuICBzaGFkb3dNb2RlIC8qIHZ1ZS1jbGkgb25seSAqL1xuKSB7XG4gIC8vIFZ1ZS5leHRlbmQgY29uc3RydWN0b3IgZXhwb3J0IGludGVyb3BcbiAgdmFyIG9wdGlvbnMgPVxuICAgIHR5cGVvZiBzY3JpcHRFeHBvcnRzID09PSAnZnVuY3Rpb24nID8gc2NyaXB0RXhwb3J0cy5vcHRpb25zIDogc2NyaXB0RXhwb3J0c1xuXG4gIC8vIHJlbmRlciBmdW5jdGlvbnNcbiAgaWYgKHJlbmRlcikge1xuICAgIG9wdGlvbnMucmVuZGVyID0gcmVuZGVyXG4gICAgb3B0aW9ucy5zdGF0aWNSZW5kZXJGbnMgPSBzdGF0aWNSZW5kZXJGbnNcbiAgICBvcHRpb25zLl9jb21waWxlZCA9IHRydWVcbiAgfVxuXG4gIC8vIGZ1bmN0aW9uYWwgdGVtcGxhdGVcbiAgaWYgKGZ1bmN0aW9uYWxUZW1wbGF0ZSkge1xuICAgIG9wdGlvbnMuZnVuY3Rpb25hbCA9IHRydWVcbiAgfVxuXG4gIC8vIHNjb3BlZElkXG4gIGlmIChzY29wZUlkKSB7XG4gICAgb3B0aW9ucy5fc2NvcGVJZCA9ICdkYXRhLXYtJyArIHNjb3BlSWRcbiAgfVxuXG4gIHZhciBob29rXG4gIGlmIChtb2R1bGVJZGVudGlmaWVyKSB7XG4gICAgLy8gc2VydmVyIGJ1aWxkXG4gICAgaG9vayA9IGZ1bmN0aW9uIChjb250ZXh0KSB7XG4gICAgICAvLyAyLjMgaW5qZWN0aW9uXG4gICAgICBjb250ZXh0ID1cbiAgICAgICAgY29udGV4dCB8fCAvLyBjYWNoZWQgY2FsbFxuICAgICAgICAodGhpcy4kdm5vZGUgJiYgdGhpcy4kdm5vZGUuc3NyQ29udGV4dCkgfHwgLy8gc3RhdGVmdWxcbiAgICAgICAgKHRoaXMucGFyZW50ICYmIHRoaXMucGFyZW50LiR2bm9kZSAmJiB0aGlzLnBhcmVudC4kdm5vZGUuc3NyQ29udGV4dCkgLy8gZnVuY3Rpb25hbFxuICAgICAgLy8gMi4yIHdpdGggcnVuSW5OZXdDb250ZXh0OiB0cnVlXG4gICAgICBpZiAoIWNvbnRleHQgJiYgdHlwZW9mIF9fVlVFX1NTUl9DT05URVhUX18gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGNvbnRleHQgPSBfX1ZVRV9TU1JfQ09OVEVYVF9fXG4gICAgICB9XG4gICAgICAvLyBpbmplY3QgY29tcG9uZW50IHN0eWxlc1xuICAgICAgaWYgKGluamVjdFN0eWxlcykge1xuICAgICAgICBpbmplY3RTdHlsZXMuY2FsbCh0aGlzLCBjb250ZXh0KVxuICAgICAgfVxuICAgICAgLy8gcmVnaXN0ZXIgY29tcG9uZW50IG1vZHVsZSBpZGVudGlmaWVyIGZvciBhc3luYyBjaHVuayBpbmZlcnJlbmNlXG4gICAgICBpZiAoY29udGV4dCAmJiBjb250ZXh0Ll9yZWdpc3RlcmVkQ29tcG9uZW50cykge1xuICAgICAgICBjb250ZXh0Ll9yZWdpc3RlcmVkQ29tcG9uZW50cy5hZGQobW9kdWxlSWRlbnRpZmllcilcbiAgICAgIH1cbiAgICB9XG4gICAgLy8gdXNlZCBieSBzc3IgaW4gY2FzZSBjb21wb25lbnQgaXMgY2FjaGVkIGFuZCBiZWZvcmVDcmVhdGVcbiAgICAvLyBuZXZlciBnZXRzIGNhbGxlZFxuICAgIG9wdGlvbnMuX3NzclJlZ2lzdGVyID0gaG9va1xuICB9IGVsc2UgaWYgKGluamVjdFN0eWxlcykge1xuICAgIGhvb2sgPSBzaGFkb3dNb2RlXG4gICAgICA/IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBpbmplY3RTdHlsZXMuY2FsbChcbiAgICAgICAgICAgIHRoaXMsXG4gICAgICAgICAgICAob3B0aW9ucy5mdW5jdGlvbmFsID8gdGhpcy5wYXJlbnQgOiB0aGlzKS4kcm9vdC4kb3B0aW9ucy5zaGFkb3dSb290XG4gICAgICAgICAgKVxuICAgICAgICB9XG4gICAgICA6IGluamVjdFN0eWxlc1xuICB9XG5cbiAgaWYgKGhvb2spIHtcbiAgICBpZiAob3B0aW9ucy5mdW5jdGlvbmFsKSB7XG4gICAgICAvLyBmb3IgdGVtcGxhdGUtb25seSBob3QtcmVsb2FkIGJlY2F1c2UgaW4gdGhhdCBjYXNlIHRoZSByZW5kZXIgZm4gZG9lc24ndFxuICAgICAgLy8gZ28gdGhyb3VnaCB0aGUgbm9ybWFsaXplclxuICAgICAgb3B0aW9ucy5faW5qZWN0U3R5bGVzID0gaG9va1xuICAgICAgLy8gcmVnaXN0ZXIgZm9yIGZ1bmN0aW9uYWwgY29tcG9uZW50IGluIHZ1ZSBmaWxlXG4gICAgICB2YXIgb3JpZ2luYWxSZW5kZXIgPSBvcHRpb25zLnJlbmRlclxuICAgICAgb3B0aW9ucy5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXJXaXRoU3R5bGVJbmplY3Rpb24oaCwgY29udGV4dCkge1xuICAgICAgICBob29rLmNhbGwoY29udGV4dClcbiAgICAgICAgcmV0dXJuIG9yaWdpbmFsUmVuZGVyKGgsIGNvbnRleHQpXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGluamVjdCBjb21wb25lbnQgcmVnaXN0cmF0aW9uIGFzIGJlZm9yZUNyZWF0ZSBob29rXG4gICAgICB2YXIgZXhpc3RpbmcgPSBvcHRpb25zLmJlZm9yZUNyZWF0ZVxuICAgICAgb3B0aW9ucy5iZWZvcmVDcmVhdGUgPSBleGlzdGluZyA/IFtdLmNvbmNhdChleGlzdGluZywgaG9vaykgOiBbaG9va11cbiAgICB9XG4gIH1cblxuICByZXR1cm4ge1xuICAgIGV4cG9ydHM6IHNjcmlwdEV4cG9ydHMsXG4gICAgb3B0aW9uczogb3B0aW9uc1xuICB9XG59XG5cblxuLyoqKi8gfSksXG4vKiAxICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIi4vdXRpbHMvZGF0ZS11dGlsXCIpO1xuXG4vKioqLyB9KSxcbi8qIDIgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi91dGlscy9kb21cIik7XG5cbi8qKiovIH0pLFxuLyogMyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuL3V0aWxzL3V0aWxcIik7XG5cbi8qKiovIH0pLFxuLyogNCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuL21peGlucy9lbWl0dGVyXCIpO1xuXG4vKioqLyB9KSxcbi8qIDUgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi91dGlscy92dWUtcG9wcGVyXCIpO1xuXG4vKioqLyB9KSxcbi8qIDYgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwidnVlXCIpO1xuXG4vKioqLyB9KSxcbi8qIDcgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi9taXhpbnMvbG9jYWxlXCIpO1xuXG4vKioqLyB9KSxcbi8qIDggKi8sXG4vKiA5ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIi4vaW5wdXRcIik7XG5cbi8qKiovIH0pLFxuLyogMTAgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi91dGlscy9tZXJnZVwiKTtcblxuLyoqKi8gfSksXG4vKiAxMSAqLyxcbi8qIDEyICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIi4vdXRpbHMvY2xpY2tvdXRzaWRlXCIpO1xuXG4vKioqLyB9KSxcbi8qIDEzICovLFxuLyogMTQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi9idXR0b25cIik7XG5cbi8qKiovIH0pLFxuLyogMTUgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi9zY3JvbGxiYXJcIik7XG5cbi8qKiovIH0pLFxuLyogMTYgKi8sXG4vKiAxNyAqLyxcbi8qIDE4ICovLFxuLyogMTkgKi8sXG4vKiAyMCAqLyxcbi8qIDIxICovLFxuLyogMjIgKi8sXG4vKiAyMyAqLyxcbi8qIDI0ICovLFxuLyogMjUgKi8sXG4vKiAyNiAqLyxcbi8qIDI3ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG4vLyBDT05DQVRFTkFURUQgTU9EVUxFOiBDOi9Vc2Vycy9UeWxlclRyb3R0ZXIvcmVwb3MvQ29nbml0byBGb3Jtcy9Db2duaXRvLldlYi5DbGllbnQvbm9kZV9tb2R1bGVzLy5wbnBtL3Z1ZS1sb2FkZXJAMTUuMTEuMV9jc3MtbG9hZGVyQDUuMi43X3ByZXR0aWVyQDEuMTguMl92dWUtdGVtcGxhdGUtY29tcGlsZXJAMi43LjE1X3dlYnBhY2tANC40Ni4wL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9sb2FkZXJzL3RlbXBsYXRlTG9hZGVyLmpzPz9yZWYtLTUhQzovVXNlcnMvVHlsZXJUcm90dGVyL3JlcG9zL0NvZ25pdG8gRm9ybXMvQ29nbml0by5XZWIuQ2xpZW50L25vZGVfbW9kdWxlcy8ucG5wbS92dWUtbG9hZGVyQDE1LjExLjFfY3NzLWxvYWRlckA1LjIuN19wcmV0dGllckAxLjE4LjJfdnVlLXRlbXBsYXRlLWNvbXBpbGVyQDIuNy4xNV93ZWJwYWNrQDQuNDYuMC9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWI/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL3BhY2thZ2VzL2RhdGUtcGlja2VyL3NyYy9wYW5lbC90aW1lLnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD03Y2RkMmJkN1xudmFyIHJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgdmFyIF92bSA9IHRoaXMsXG4gICAgX2MgPSBfdm0uX3NlbGYuX2NcbiAgcmV0dXJuIF9jKFxuICAgIFwidHJhbnNpdGlvblwiLFxuICAgIHtcbiAgICAgIGF0dHJzOiB7IG5hbWU6IFwiZWwtem9vbS1pbi10b3BcIiB9LFxuICAgICAgb246IHtcbiAgICAgICAgXCJhZnRlci1sZWF2ZVwiOiBmdW5jdGlvbigkZXZlbnQpIHtcbiAgICAgICAgICByZXR1cm4gX3ZtLiRlbWl0KFwiZG9kZXN0cm95XCIpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIFtcbiAgICAgIF9jKFxuICAgICAgICBcImRpdlwiLFxuICAgICAgICB7XG4gICAgICAgICAgZGlyZWN0aXZlczogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBuYW1lOiBcInNob3dcIixcbiAgICAgICAgICAgICAgcmF3TmFtZTogXCJ2LXNob3dcIixcbiAgICAgICAgICAgICAgdmFsdWU6IF92bS52aXNpYmxlLFxuICAgICAgICAgICAgICBleHByZXNzaW9uOiBcInZpc2libGVcIlxuICAgICAgICAgICAgfVxuICAgICAgICAgIF0sXG4gICAgICAgICAgc3RhdGljQ2xhc3M6IFwiZWwtdGltZS1wYW5lbCBlbC1wb3BwZXJcIixcbiAgICAgICAgICBjbGFzczogX3ZtLnBvcHBlckNsYXNzXG4gICAgICAgIH0sXG4gICAgICAgIFtcbiAgICAgICAgICBfYyhcbiAgICAgICAgICAgIFwiZGl2XCIsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHN0YXRpY0NsYXNzOiBcImVsLXRpbWUtcGFuZWxfX2NvbnRlbnRcIixcbiAgICAgICAgICAgICAgY2xhc3M6IHtcbiAgICAgICAgICAgICAgICBcImhhcy1zZWNvbmRzXCI6IF92bS5zaG93U2Vjb25kcyxcbiAgICAgICAgICAgICAgICBcImhhcy1hbS1wbVwiOiBfdm0uc2hvd0FtUG1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgX2MoXCJ0aW1lLXNwaW5uZXJcIiwge1xuICAgICAgICAgICAgICAgIHJlZjogXCJzcGlubmVyXCIsXG4gICAgICAgICAgICAgICAgYXR0cnM6IHtcbiAgICAgICAgICAgICAgICAgIFwiYXJyb3ctY29udHJvbFwiOiBfdm0udXNlQXJyb3csXG4gICAgICAgICAgICAgICAgICBcInNob3ctc2Vjb25kc1wiOiBfdm0uc2hvd1NlY29uZHMsXG4gICAgICAgICAgICAgICAgICBcInNob3ctYW0tcG1cIjogX3ZtLnNob3dBbVBtLFxuICAgICAgICAgICAgICAgICAgXCJhbS1wbS1tb2RlXCI6IF92bS5hbVBtTW9kZSxcbiAgICAgICAgICAgICAgICAgIFwidHdlbHZlLWhvdXItY2xvY2tcIjogX3ZtLnR3ZWx2ZUhvdXJDbG9jayxcbiAgICAgICAgICAgICAgICAgIFwiemVyby1wYWQtaG91clwiOiBfdm0uemVyb1BhZEhvdXIsXG4gICAgICAgICAgICAgICAgICBkYXRlOiBfdm0uZGF0ZVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgb246IHtcbiAgICAgICAgICAgICAgICAgIGNoYW5nZTogX3ZtLmhhbmRsZUNoYW5nZSxcbiAgICAgICAgICAgICAgICAgIFwic2VsZWN0LXJhbmdlXCI6IF92bS5zZXRTZWxlY3Rpb25SYW5nZVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAxXG4gICAgICAgICAgKSxcbiAgICAgICAgICBfYyhcImRpdlwiLCB7IHN0YXRpY0NsYXNzOiBcImVsLXRpbWUtcGFuZWxfX2Zvb3RlclwiIH0sIFtcbiAgICAgICAgICAgIF9jKFxuICAgICAgICAgICAgICBcImJ1dHRvblwiLFxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3RhdGljQ2xhc3M6IFwiZWwtdGltZS1wYW5lbF9fYnRuIGNhbmNlbFwiLFxuICAgICAgICAgICAgICAgIGF0dHJzOiB7IHR5cGU6IFwiYnV0dG9uXCIgfSxcbiAgICAgICAgICAgICAgICBvbjogeyBjbGljazogX3ZtLmhhbmRsZUNhbmNlbCB9XG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIFtfdm0uX3YoX3ZtLl9zKF92bS50KFwiZWwuZGF0ZXBpY2tlci5jYW5jZWxcIikpKV1cbiAgICAgICAgICAgICksXG4gICAgICAgICAgICBfYyhcbiAgICAgICAgICAgICAgXCJidXR0b25cIixcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0YXRpY0NsYXNzOiBcImVsLXRpbWUtcGFuZWxfX2J0blwiLFxuICAgICAgICAgICAgICAgIGNsYXNzOiB7IGNvbmZpcm06ICFfdm0uZGlzYWJsZWQgfSxcbiAgICAgICAgICAgICAgICBhdHRyczogeyB0eXBlOiBcImJ1dHRvblwiIH0sXG4gICAgICAgICAgICAgICAgb246IHtcbiAgICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbigkZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF92bS5oYW5kbGVDb25maXJtKClcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIFtfdm0uX3YoX3ZtLl9zKF92bS50KFwiZWwuZGF0ZXBpY2tlci5jb25maXJtXCIpKSldXG4gICAgICAgICAgICApXG4gICAgICAgICAgXSlcbiAgICAgICAgXVxuICAgICAgKVxuICAgIF1cbiAgKVxufVxudmFyIHN0YXRpY1JlbmRlckZucyA9IFtdXG5yZW5kZXIuX3dpdGhTdHJpcHBlZCA9IHRydWVcblxuXG4vLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3BhY2thZ2VzL2RhdGUtcGlja2VyL3NyYy9wYW5lbC90aW1lLnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD03Y2RkMmJkN1xuXG4vLyBFWFRFUk5BTCBNT0RVTEU6IGV4dGVybmFsIFwiLi91dGlscy9kYXRlLXV0aWxcIlxudmFyIGRhdGVfdXRpbF8gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXG4vLyBFWFRFUk5BTCBNT0RVTEU6IGV4dGVybmFsIFwiLi9taXhpbnMvbG9jYWxlXCJcbnZhciBsb2NhbGVfID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3KTtcbnZhciBsb2NhbGVfZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4obG9jYWxlXyk7XG5cbi8vIEVYVEVSTkFMIE1PRFVMRTogLi9wYWNrYWdlcy9kYXRlLXBpY2tlci9zcmMvYmFzaWMvdGltZS1zcGlubmVyLnZ1ZSArIDQgbW9kdWxlc1xudmFyIHRpbWVfc3Bpbm5lciA9IF9fd2VicGFja19yZXF1aXJlX18oMzUpO1xuXG4vLyBDT05DQVRFTkFURUQgTU9EVUxFOiBDOi9Vc2Vycy9UeWxlclRyb3R0ZXIvcmVwb3MvQ29nbml0byBGb3Jtcy9Db2duaXRvLldlYi5DbGllbnQvbm9kZV9tb2R1bGVzLy5wbnBtL2JhYmVsLWxvYWRlckA4LjMuMF9AYmFiZWwrY29yZUA3LjI1LjJfd2VicGFja0A0LjQ2LjAvbm9kZV9tb2R1bGVzL2JhYmVsLWxvYWRlci9saWIhQzovVXNlcnMvVHlsZXJUcm90dGVyL3JlcG9zL0NvZ25pdG8gRm9ybXMvQ29nbml0by5XZWIuQ2xpZW50L25vZGVfbW9kdWxlcy8ucG5wbS92dWUtbG9hZGVyQDE1LjExLjFfY3NzLWxvYWRlckA1LjIuN19wcmV0dGllckAxLjE4LjJfdnVlLXRlbXBsYXRlLWNvbXBpbGVyQDIuNy4xNV93ZWJwYWNrQDQuNDYuMC9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWI/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL3BhY2thZ2VzL2RhdGUtcGlja2VyL3NyYy9wYW5lbC90aW1lLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qc1xuXG5cblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyB2YXIgdGltZXZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzID0gKHtcbiAgbWl4aW5zOiBbbG9jYWxlX2RlZmF1bHQuYV0sXG4gIGNvbXBvbmVudHM6IHtcbiAgICBUaW1lU3Bpbm5lcjogdGltZV9zcGlubmVyW1wiYVwiIC8qIGRlZmF1bHQgKi9dXG4gIH0sXG4gIHByb3BzOiB7XG4gICAgdmlzaWJsZTogQm9vbGVhbixcbiAgICB0aW1lQXJyb3dDb250cm9sOiBCb29sZWFuLFxuICAgIHRvZ2dsZUFtUG06IHtcbiAgICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgICBkZWZhdWx0OiBmYWxzZVxuICAgIH1cbiAgfSxcbiAgd2F0Y2g6IHtcbiAgICB2aXNpYmxlKHZhbCkge1xuICAgICAgaWYgKHZhbCkge1xuICAgICAgICB0aGlzLm9sZFZhbHVlID0gdGhpcy52YWx1ZTtcbiAgICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gdGhpcy4kcmVmcy5zcGlubmVyLmVtaXRTZWxlY3RSYW5nZSgnaG91cnMnKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLm5lZWRJbml0QWRqdXN0ID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9LFxuICAgIHZhbHVlKG5ld1ZhbCkge1xuICAgICAgbGV0IGRhdGU7XG4gICAgICBpZiAobmV3VmFsIGluc3RhbmNlb2YgRGF0ZSkge1xuICAgICAgICBkYXRlID0gT2JqZWN0KGRhdGVfdXRpbF9bXCJsaW1pdFRpbWVSYW5nZVwiXSkobmV3VmFsLCB0aGlzLnNlbGVjdGFibGVSYW5nZSwgdGhpcy5mb3JtYXQpO1xuICAgICAgfSBlbHNlIGlmICghbmV3VmFsKSB7XG4gICAgICAgIGRhdGUgPSB0aGlzLmRlZmF1bHRWYWx1ZSA/IG5ldyBEYXRlKHRoaXMuZGVmYXVsdFZhbHVlKSA6IG5ldyBEYXRlKCk7XG4gICAgICB9XG4gICAgICB0aGlzLmRhdGUgPSBkYXRlO1xuICAgICAgaWYgKHRoaXMudmlzaWJsZSAmJiB0aGlzLm5lZWRJbml0QWRqdXN0KSB7XG4gICAgICAgIHRoaXMuJG5leHRUaWNrKF8gPT4gdGhpcy5hZGp1c3RTcGlubmVycygpKTtcbiAgICAgICAgdGhpcy5uZWVkSW5pdEFkanVzdCA9IGZhbHNlO1xuICAgICAgfVxuICAgIH0sXG4gICAgc2VsZWN0YWJsZVJhbmdlKHZhbCkge1xuICAgICAgdGhpcy4kcmVmcy5zcGlubmVyLnNlbGVjdGFibGVSYW5nZSA9IHZhbDtcbiAgICB9LFxuICAgIGRlZmF1bHRWYWx1ZSh2YWwpIHtcbiAgICAgIGlmICghT2JqZWN0KGRhdGVfdXRpbF9bXCJpc0RhdGVcIl0pKHRoaXMudmFsdWUpKSB7XG4gICAgICAgIHRoaXMuZGF0ZSA9IHZhbCA/IG5ldyBEYXRlKHZhbCkgOiBuZXcgRGF0ZSgpO1xuICAgICAgfVxuICAgIH1cbiAgfSxcbiAgZGF0YSgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgcG9wcGVyQ2xhc3M6ICcnLFxuICAgICAgZm9ybWF0OiAnSEg6bW06c3MnLFxuICAgICAgdmFsdWU6ICcnLFxuICAgICAgZGVmYXVsdFZhbHVlOiBudWxsLFxuICAgICAgZGF0ZTogbmV3IERhdGUoKSxcbiAgICAgIG9sZFZhbHVlOiBuZXcgRGF0ZSgpLFxuICAgICAgc2VsZWN0YWJsZVJhbmdlOiBbXSxcbiAgICAgIHNlbGVjdGlvblJhbmdlOiBbMCwgMl0sXG4gICAgICBkaXNhYmxlZDogZmFsc2UsXG4gICAgICBhcnJvd0NvbnRyb2w6IGZhbHNlLFxuICAgICAgbmVlZEluaXRBZGp1c3Q6IHRydWVcbiAgICB9O1xuICB9LFxuICBjb21wdXRlZDoge1xuICAgIHNob3dTZWNvbmRzKCkge1xuICAgICAgcmV0dXJuICh0aGlzLmZvcm1hdCB8fCAnJykuaW5kZXhPZignc3MnKSAhPT0gLTE7XG4gICAgfSxcbiAgICBzaG93QW1QbSgpIHtcbiAgICAgIC8vIEV2ZW4gaWYgYHRvZ2dsZS1hbS1wbWAgaXMgc2V0IHRvIHRydWUsIGlmIHRoZSB0aW1lIGZvcm1hdCBkb2Vzbid0IGluY2x1ZGUgQU0vUE0gdGhlbiB0aGV5IHdvbid0IGJlIHNob3duLFxuICAgICAgLy8gc2luY2UgdGhpcyB3b3VsZCBjcmVhdGUgYW4gaW5jb25zaXN0ZW5jeSBiZXR3ZWVuIHRoZSBwaWNrZXIgYW5kIHRoZSBmb3JtYXR0ZWQgdGltZSB2YWx1ZS4gQWxzbywgYWx0aG91Z2ggaXRcbiAgICAgIC8vIGlzbid0IHJlcXVpcmVkLCBBTS9QTSB0b2dnbGluZyBzaG91bGQgYmUgdXNlZCBhbG9uZyB3aXRoIHRoZSBgYXJyb3ctY29udHJvbGAgb3B0aW9uIHRvIHByb3ZpZGUgdGhlIGJlc3QgcmVzdWx0LlxuICAgICAgcmV0dXJuIHRoaXMudG9nZ2xlQW1QbSAmJiAoKHRoaXMuZm9ybWF0IHx8ICcnKS5pbmRleE9mKCdhJykgIT09IC0xIHx8ICh0aGlzLmZvcm1hdCB8fCAnJykuaW5kZXhPZignQScpICE9PSAtMSk7XG4gICAgfSxcbiAgICB1c2VBcnJvdygpIHtcbiAgICAgIHJldHVybiB0aGlzLmFycm93Q29udHJvbCB8fCB0aGlzLnRpbWVBcnJvd0NvbnRyb2wgfHwgZmFsc2U7XG4gICAgfSxcbiAgICBhbVBtTW9kZSgpIHtcbiAgICAgIGlmICgodGhpcy5mb3JtYXQgfHwgJycpLmluZGV4T2YoJ0EnKSAhPT0gLTEpIHJldHVybiAnQSc7XG4gICAgICBpZiAoKHRoaXMuZm9ybWF0IHx8ICcnKS5pbmRleE9mKCdhJykgIT09IC0xKSByZXR1cm4gJ2EnO1xuICAgICAgcmV0dXJuICcnO1xuICAgIH0sXG4gICAgdHdlbHZlSG91ckNsb2NrKCkge1xuICAgICAgcmV0dXJuICh0aGlzLmZvcm1hdCB8fCAnJykuaW5kZXhPZignaGgnKSAhPT0gLTEgfHwgKHRoaXMuZm9ybWF0IHx8ICcnKS5pbmRleE9mKCdoJykgIT09IC0xO1xuICAgIH0sXG4gICAgemVyb1BhZEhvdXIoKSB7XG4gICAgICByZXR1cm4gKHRoaXMuZm9ybWF0IHx8ICcnKS5pbmRleE9mKCdISCcpICE9PSAtMSB8fCAodGhpcy5mb3JtYXQgfHwgJycpLmluZGV4T2YoJ2hoJykgIT09IC0xO1xuICAgIH1cbiAgfSxcbiAgbWV0aG9kczoge1xuICAgIGhhbmRsZUNhbmNlbCgpIHtcbiAgICAgIHRoaXMuJGVtaXQoJ3BpY2snLCB0aGlzLm9sZFZhbHVlLCBmYWxzZSk7XG4gICAgfSxcbiAgICBoYW5kbGVDaGFuZ2UoZGF0ZSkge1xuICAgICAgLy8gdGhpcy52aXNpYmxlIGF2b2lkcyBlZGdlIGNhc2VzLCB3aGVuIHVzZSBzY3JvbGxzIGR1cmluZyBwYW5lbCBjbG9zaW5nIGFuaW1hdGlvblxuICAgICAgaWYgKHRoaXMudmlzaWJsZSkge1xuICAgICAgICB0aGlzLmRhdGUgPSBPYmplY3QoZGF0ZV91dGlsX1tcImNsZWFyTWlsbGlzZWNvbmRzXCJdKShkYXRlKTtcbiAgICAgICAgLy8gaWYgZGF0ZSBpcyBvdXQgb2YgcmFuZ2UsIGRvIG5vdCBlbWl0XG4gICAgICAgIGlmICh0aGlzLmlzVmFsaWRWYWx1ZSh0aGlzLmRhdGUpKSB7XG4gICAgICAgICAgdGhpcy4kZW1pdCgncGljaycsIHRoaXMuZGF0ZSwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIHNldFNlbGVjdGlvblJhbmdlKHN0YXJ0LCBlbmQpIHtcbiAgICAgIHRoaXMuJGVtaXQoJ3NlbGVjdC1yYW5nZScsIHN0YXJ0LCBlbmQpO1xuICAgICAgdGhpcy5zZWxlY3Rpb25SYW5nZSA9IFtzdGFydCwgZW5kXTtcbiAgICB9LFxuICAgIGhhbmRsZUNvbmZpcm0odmlzaWJsZSwgZmlyc3QpIHtcbiAgICAgIGlmICh2aXNpYmxlID09PSB2b2lkIDApIHtcbiAgICAgICAgdmlzaWJsZSA9IGZhbHNlO1xuICAgICAgfVxuICAgICAgaWYgKGZpcnN0KSByZXR1cm47XG4gICAgICBjb25zdCBkYXRlID0gT2JqZWN0KGRhdGVfdXRpbF9bXCJjbGVhck1pbGxpc2Vjb25kc1wiXSkoT2JqZWN0KGRhdGVfdXRpbF9bXCJsaW1pdFRpbWVSYW5nZVwiXSkodGhpcy5kYXRlLCB0aGlzLnNlbGVjdGFibGVSYW5nZSwgdGhpcy5mb3JtYXQpKTtcbiAgICAgIHRoaXMuJGVtaXQoJ3BpY2snLCBkYXRlLCB2aXNpYmxlLCBmaXJzdCk7XG4gICAgfSxcbiAgICBoYW5kbGVLZXlkb3duKGV2ZW50KSB7XG4gICAgICBjb25zdCBrZXlDb2RlID0gZXZlbnQua2V5Q29kZTtcbiAgICAgIGNvbnN0IG1hcHBpbmcgPSB7XG4gICAgICAgIDM4OiAtMSxcbiAgICAgICAgNDA6IDEsXG4gICAgICAgIDM3OiAtMSxcbiAgICAgICAgMzk6IDFcbiAgICAgIH07XG5cbiAgICAgIC8vIExlZnQgb3IgUmlnaHRcbiAgICAgIGlmIChrZXlDb2RlID09PSAzNyB8fCBrZXlDb2RlID09PSAzOSkge1xuICAgICAgICBjb25zdCBzdGVwID0gbWFwcGluZ1trZXlDb2RlXTtcbiAgICAgICAgdGhpcy5jaGFuZ2VTZWxlY3Rpb25SYW5nZShzdGVwKTtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyBVcCBvciBEb3duXG4gICAgICBpZiAoa2V5Q29kZSA9PT0gMzggfHwga2V5Q29kZSA9PT0gNDApIHtcbiAgICAgICAgY29uc3Qgc3RlcCA9IG1hcHBpbmdba2V5Q29kZV07XG4gICAgICAgIHRoaXMuJHJlZnMuc3Bpbm5lci5zY3JvbGxEb3duKHN0ZXApO1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfSxcbiAgICBpc1ZhbGlkVmFsdWUoZGF0ZSkge1xuICAgICAgcmV0dXJuIE9iamVjdChkYXRlX3V0aWxfW1widGltZVdpdGhpblJhbmdlXCJdKShkYXRlLCB0aGlzLnNlbGVjdGFibGVSYW5nZSwgdGhpcy5mb3JtYXQpO1xuICAgIH0sXG4gICAgYWRqdXN0U3Bpbm5lcnMoKSB7XG4gICAgICByZXR1cm4gdGhpcy4kcmVmcy5zcGlubmVyLmFkanVzdFNwaW5uZXJzKCk7XG4gICAgfSxcbiAgICBjaGFuZ2VTZWxlY3Rpb25SYW5nZShzdGVwKSB7XG4gICAgICBjb25zdCBob3Vyc0xlbiA9ICF0aGlzLnplcm9QYWRIb3VyICYmICh0aGlzLnR3ZWx2ZUhvdXJDbG9jayA/IHRoaXMuZGF0ZS5nZXRIb3VycygpICUgMTIgfHwgMTIgOiB0aGlzLmRhdGUuZ2V0SG91cnMoKSkgPCAxMCA/IDEgOiAyO1xuICAgICAgY29uc3Qgc2Vjb25kc09mZnNldCA9IHRoaXMuc2hvd1NlY29uZHMgPyAzIDogMDtcbiAgICAgIGNvbnN0IGxpc3QgPSBbMCwgMyAtICgyIC0gaG91cnNMZW4pXS5jb25jYXQodGhpcy5zaG93U2Vjb25kcyA/IFs2IC0gKDIgLSBob3Vyc0xlbildIDogW10pLmNvbmNhdCh0aGlzLnNob3dBbVBtID8gWzYgKyBzZWNvbmRzT2Zmc2V0IC0gKDIgLSBob3Vyc0xlbildIDogW10pO1xuICAgICAgY29uc3QgbWFwcGluZyA9IFsnaG91cnMnLCAnbWludXRlcyddLmNvbmNhdCh0aGlzLnNob3dTZWNvbmRzID8gWydzZWNvbmRzJ10gOiBbXSkuY29uY2F0KHRoaXMuc2hvd0FtUG0gPyBbJ2FtUG0nXSA6IFtdKTtcbiAgICAgIGNvbnN0IGluZGV4ID0gbGlzdC5pbmRleE9mKHRoaXMuc2VsZWN0aW9uUmFuZ2VbMF0pO1xuICAgICAgY29uc3QgbmV4dCA9IChpbmRleCArIHN0ZXAgKyBsaXN0Lmxlbmd0aCkgJSBsaXN0Lmxlbmd0aDtcbiAgICAgIHRoaXMuJHJlZnMuc3Bpbm5lci5lbWl0U2VsZWN0UmFuZ2UobWFwcGluZ1tuZXh0XSk7XG4gICAgfVxuICB9LFxuICBtb3VudGVkKCkge1xuICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHRoaXMuaGFuZGxlQ29uZmlybSh0cnVlLCB0cnVlKSk7XG4gICAgdGhpcy4kZW1pdCgnbW91bnRlZCcpO1xuICB9XG59KTtcbi8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vcGFja2FnZXMvZGF0ZS1waWNrZXIvc3JjL3BhbmVsL3RpbWUudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzXG4gLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyB2YXIgcGFuZWxfdGltZXZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzID0gKHRpbWV2dWVfdHlwZV9zY3JpcHRfbGFuZ19qcyk7IFxuLy8gRVhURVJOQUwgTU9EVUxFOiBDOi9Vc2Vycy9UeWxlclRyb3R0ZXIvcmVwb3MvQ29nbml0byBGb3Jtcy9Db2duaXRvLldlYi5DbGllbnQvbm9kZV9tb2R1bGVzLy5wbnBtL3Z1ZS1sb2FkZXJAMTUuMTEuMV9jc3MtbG9hZGVyQDUuMi43X3ByZXR0aWVyQDEuMTguMl92dWUtdGVtcGxhdGUtY29tcGlsZXJAMi43LjE1X3dlYnBhY2tANC40Ni4wL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9ydW50aW1lL2NvbXBvbmVudE5vcm1hbGl6ZXIuanNcbnZhciBjb21wb25lbnROb3JtYWxpemVyID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxuLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9wYWNrYWdlcy9kYXRlLXBpY2tlci9zcmMvcGFuZWwvdGltZS52dWVcblxuXG5cblxuXG4vKiBub3JtYWxpemUgY29tcG9uZW50ICovXG5cbnZhciBjb21wb25lbnQgPSBPYmplY3QoY29tcG9uZW50Tm9ybWFsaXplcltcImFcIiAvKiBkZWZhdWx0ICovXSkoXG4gIHBhbmVsX3RpbWV2dWVfdHlwZV9zY3JpcHRfbGFuZ19qcyxcbiAgcmVuZGVyLFxuICBzdGF0aWNSZW5kZXJGbnMsXG4gIGZhbHNlLFxuICBudWxsLFxuICBudWxsLFxuICBudWxsXG4gIFxuKVxuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIHZhciB0aW1lID0gX193ZWJwYWNrX2V4cG9ydHNfX1tcImFcIl0gPSAoY29tcG9uZW50LmV4cG9ydHMpO1xuXG4vKioqLyB9KSxcbi8qIDI4ICovLFxuLyogMjkgKi8sXG4vKiAzMCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJAY29nbml0b2Zvcm1zL2VsZW1lbnQtdWkvc3JjL2RpcmVjdGl2ZXMvcmVwZWF0LWNsaWNrXCIpO1xuXG4vKioqLyB9KSxcbi8qIDMxICovLFxuLyogMzIgKi8sXG4vKiAzMyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogQzovVXNlcnMvVHlsZXJUcm90dGVyL3JlcG9zL0NvZ25pdG8gRm9ybXMvQ29nbml0by5XZWIuQ2xpZW50L25vZGVfbW9kdWxlcy8ucG5wbS92dWUtbG9hZGVyQDE1LjExLjFfY3NzLWxvYWRlckA1LjIuN19wcmV0dGllckAxLjE4LjJfdnVlLXRlbXBsYXRlLWNvbXBpbGVyQDIuNy4xNV93ZWJwYWNrQDQuNDYuMC9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvbG9hZGVycy90ZW1wbGF0ZUxvYWRlci5qcz8/cmVmLS01IUM6L1VzZXJzL1R5bGVyVHJvdHRlci9yZXBvcy9Db2duaXRvIEZvcm1zL0NvZ25pdG8uV2ViLkNsaWVudC9ub2RlX21vZHVsZXMvLnBucG0vdnVlLWxvYWRlckAxNS4xMS4xX2Nzcy1sb2FkZXJANS4yLjdfcHJldHRpZXJAMS4xOC4yX3Z1ZS10ZW1wbGF0ZS1jb21waWxlckAyLjcuMTVfd2VicGFja0A0LjQ2LjAvbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9wYWNrYWdlcy9kYXRlLXBpY2tlci9zcmMvcGlja2VyLnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD0xMzQ0OTgyMFxudmFyIHJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgdmFyIF92bSA9IHRoaXMsXG4gICAgX2MgPSBfdm0uX3NlbGYuX2NcbiAgcmV0dXJuICFfdm0ucmFuZ2VkXG4gICAgPyBfYyhcbiAgICAgICAgXCJlbC1pbnB1dFwiLFxuICAgICAgICBfdm0uX2IoXG4gICAgICAgICAge1xuICAgICAgICAgICAgZGlyZWN0aXZlczogW1xuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJjbGlja291dHNpZGVcIixcbiAgICAgICAgICAgICAgICByYXdOYW1lOiBcInYtY2xpY2tvdXRzaWRlXCIsXG4gICAgICAgICAgICAgICAgdmFsdWU6IF92bS5oYW5kbGVDbG9zZSxcbiAgICAgICAgICAgICAgICBleHByZXNzaW9uOiBcImhhbmRsZUNsb3NlXCJcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIHJlZjogXCJyZWZlcmVuY2VcIixcbiAgICAgICAgICAgIHN0YXRpY0NsYXNzOiBcImVsLWRhdGUtZWRpdG9yXCIsXG4gICAgICAgICAgICBjbGFzczogXCJlbC1kYXRlLWVkaXRvci0tXCIgKyBfdm0udHlwZSxcbiAgICAgICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgICAgIHJlYWRvbmx5OlxuICAgICAgICAgICAgICAgICFfdm0uZWRpdGFibGUgfHxcbiAgICAgICAgICAgICAgICBfdm0ucmVhZG9ubHkgfHxcbiAgICAgICAgICAgICAgICBfdm0udHlwZSA9PT0gXCJkYXRlc1wiIHx8XG4gICAgICAgICAgICAgICAgX3ZtLnR5cGUgPT09IFwid2Vla1wiLFxuICAgICAgICAgICAgICBkaXNhYmxlZDogX3ZtLnBpY2tlckRpc2FibGVkLFxuICAgICAgICAgICAgICBzaXplOiBfdm0ucGlja2VyU2l6ZSxcbiAgICAgICAgICAgICAgbmFtZTogX3ZtLm5hbWUsXG4gICAgICAgICAgICAgIHBsYWNlaG9sZGVyOiBfdm0ucGxhY2Vob2xkZXIsXG4gICAgICAgICAgICAgIHZhbHVlOiBfdm0uZGlzcGxheVZhbHVlLFxuICAgICAgICAgICAgICB2YWxpZGF0ZUV2ZW50OiBmYWxzZVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uOiB7XG4gICAgICAgICAgICAgIGZvY3VzOiBfdm0uaGFuZGxlRm9jdXMsXG4gICAgICAgICAgICAgIGlucHV0OiBfdm0uaGFuZGxlSW5wdXQsXG4gICAgICAgICAgICAgIGNoYW5nZTogX3ZtLmhhbmRsZUNoYW5nZVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG5hdGl2ZU9uOiB7XG4gICAgICAgICAgICAgIGtleWRvd246IGZ1bmN0aW9uKCRldmVudCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBfdm0uaGFuZGxlS2V5ZG93bi5hcHBseShudWxsLCBhcmd1bWVudHMpXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIG1vdXNlZW50ZXI6IGZ1bmN0aW9uKCRldmVudCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBfdm0uaGFuZGxlTW91c2VFbnRlci5hcHBseShudWxsLCBhcmd1bWVudHMpXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIG1vdXNlbGVhdmU6IGZ1bmN0aW9uKCRldmVudCkge1xuICAgICAgICAgICAgICAgIF92bS5zaG93Q2xvc2UgPSBmYWxzZVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImVsLWlucHV0XCIsXG4gICAgICAgICAgX3ZtLmZpcnN0SW5wdXRJZCxcbiAgICAgICAgICBmYWxzZVxuICAgICAgICApLFxuICAgICAgICBbXG4gICAgICAgICAgX2MoXG4gICAgICAgICAgICBcInRlbXBsYXRlXCIsXG4gICAgICAgICAgICB7IHNsb3Q6IFwicHJlZml4XCIgfSxcbiAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgX3ZtLl90KFwicHJlZml4XCIsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICBfYyhcImlcIiwge1xuICAgICAgICAgICAgICAgICAgICBzdGF0aWNDbGFzczogXCJlbC1pbnB1dF9faWNvblwiLFxuICAgICAgICAgICAgICAgICAgICBjbGFzczogX3ZtLnRyaWdnZXJDbGFzcyxcbiAgICAgICAgICAgICAgICAgICAgb246IHsgY2xpY2s6IF92bS5oYW5kbGVGb2N1cyB9XG4gICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAyXG4gICAgICAgICAgKSxcbiAgICAgICAgICBfYyhcbiAgICAgICAgICAgIFwidGVtcGxhdGVcIixcbiAgICAgICAgICAgIHsgc2xvdDogXCJzdWZmaXhcIiB9LFxuICAgICAgICAgICAgW1xuICAgICAgICAgICAgICBfdm0uX3QoXCJzdWZmaXhcIiwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICAgIF92bS5oYXZlVHJpZ2dlclxuICAgICAgICAgICAgICAgICAgICA/IF9jKFwiaVwiLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0aWNDbGFzczogXCJlbC1pbnB1dF9faWNvblwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M6IFtfdm0uc2hvd0Nsb3NlID8gXCJcIiArIF92bS5jbGVhckljb24gOiBcIlwiXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uOiB7IGNsaWNrOiBfdm0uaGFuZGxlQ2xpY2tJY29uIH1cbiAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICA6IF92bS5fZSgpXG4gICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIDJcbiAgICAgICAgICApXG4gICAgICAgIF0sXG4gICAgICAgIDJcbiAgICAgIClcbiAgICA6IF9jKFxuICAgICAgICBcImRpdlwiLFxuICAgICAgICB7XG4gICAgICAgICAgZGlyZWN0aXZlczogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBuYW1lOiBcImNsaWNrb3V0c2lkZVwiLFxuICAgICAgICAgICAgICByYXdOYW1lOiBcInYtY2xpY2tvdXRzaWRlXCIsXG4gICAgICAgICAgICAgIHZhbHVlOiBfdm0uaGFuZGxlQ2xvc2UsXG4gICAgICAgICAgICAgIGV4cHJlc3Npb246IFwiaGFuZGxlQ2xvc2VcIlxuICAgICAgICAgICAgfVxuICAgICAgICAgIF0sXG4gICAgICAgICAgcmVmOiBcInJlZmVyZW5jZVwiLFxuICAgICAgICAgIHN0YXRpY0NsYXNzOiBcImVsLWRhdGUtZWRpdG9yIGVsLXJhbmdlLWVkaXRvciBlbC1pbnB1dF9faW5uZXJcIixcbiAgICAgICAgICBjbGFzczogW1xuICAgICAgICAgICAgXCJlbC1kYXRlLWVkaXRvci0tXCIgKyBfdm0udHlwZSxcbiAgICAgICAgICAgIF92bS5waWNrZXJTaXplID8gYGVsLXJhbmdlLWVkaXRvci0tJHtfdm0ucGlja2VyU2l6ZX1gIDogXCJcIixcbiAgICAgICAgICAgIF92bS5waWNrZXJEaXNhYmxlZCA/IFwiaXMtZGlzYWJsZWRcIiA6IFwiXCIsXG4gICAgICAgICAgICBfdm0ucGlja2VyVmlzaWJsZSA/IFwiaXMtYWN0aXZlXCIgOiBcIlwiXG4gICAgICAgICAgXSxcbiAgICAgICAgICBvbjoge1xuICAgICAgICAgICAgY2xpY2s6IF92bS5oYW5kbGVSYW5nZUNsaWNrLFxuICAgICAgICAgICAgbW91c2VlbnRlcjogX3ZtLmhhbmRsZU1vdXNlRW50ZXIsXG4gICAgICAgICAgICBtb3VzZWxlYXZlOiBmdW5jdGlvbigkZXZlbnQpIHtcbiAgICAgICAgICAgICAgX3ZtLnNob3dDbG9zZSA9IGZhbHNlXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAga2V5ZG93bjogX3ZtLmhhbmRsZUtleWRvd25cbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIFtcbiAgICAgICAgICBfYyhcImlcIiwge1xuICAgICAgICAgICAgY2xhc3M6IFtcImVsLWlucHV0X19pY29uXCIsIFwiZWwtcmFuZ2VfX2ljb25cIiwgX3ZtLnRyaWdnZXJDbGFzc11cbiAgICAgICAgICB9KSxcbiAgICAgICAgICBfYyhcbiAgICAgICAgICAgIFwiaW5wdXRcIixcbiAgICAgICAgICAgIF92bS5fYihcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0YXRpY0NsYXNzOiBcImVsLXJhbmdlLWlucHV0XCIsXG4gICAgICAgICAgICAgICAgYXR0cnM6IHtcbiAgICAgICAgICAgICAgICAgIGF1dG9jb21wbGV0ZTogXCJvZmZcIixcbiAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyOiBfdm0uc3RhcnRQbGFjZWhvbGRlcixcbiAgICAgICAgICAgICAgICAgIGRpc2FibGVkOiBfdm0ucGlja2VyRGlzYWJsZWQsXG4gICAgICAgICAgICAgICAgICByZWFkb25seTogIV92bS5lZGl0YWJsZSB8fCBfdm0ucmVhZG9ubHksXG4gICAgICAgICAgICAgICAgICBuYW1lOiBfdm0ubmFtZSAmJiBfdm0ubmFtZVswXVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZG9tUHJvcHM6IHsgdmFsdWU6IF92bS5kaXNwbGF5VmFsdWUgJiYgX3ZtLmRpc3BsYXlWYWx1ZVswXSB9LFxuICAgICAgICAgICAgICAgIG9uOiB7XG4gICAgICAgICAgICAgICAgICBpbnB1dDogX3ZtLmhhbmRsZVN0YXJ0SW5wdXQsXG4gICAgICAgICAgICAgICAgICBjaGFuZ2U6IF92bS5oYW5kbGVTdGFydENoYW5nZSxcbiAgICAgICAgICAgICAgICAgIGZvY3VzOiBfdm0uaGFuZGxlRm9jdXNcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIFwiaW5wdXRcIixcbiAgICAgICAgICAgICAgX3ZtLmZpcnN0SW5wdXRJZCxcbiAgICAgICAgICAgICAgZmFsc2VcbiAgICAgICAgICAgIClcbiAgICAgICAgICApLFxuICAgICAgICAgIF92bS5fdChcInJhbmdlLXNlcGFyYXRvclwiLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgIF9jKFwic3BhblwiLCB7IHN0YXRpY0NsYXNzOiBcImVsLXJhbmdlLXNlcGFyYXRvclwiIH0sIFtcbiAgICAgICAgICAgICAgICBfdm0uX3YoX3ZtLl9zKF92bS5yYW5nZVNlcGFyYXRvcikpXG4gICAgICAgICAgICAgIF0pXG4gICAgICAgICAgICBdXG4gICAgICAgICAgfSksXG4gICAgICAgICAgX2MoXG4gICAgICAgICAgICBcImlucHV0XCIsXG4gICAgICAgICAgICBfdm0uX2IoXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdGF0aWNDbGFzczogXCJlbC1yYW5nZS1pbnB1dFwiLFxuICAgICAgICAgICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgICAgICAgICBhdXRvY29tcGxldGU6IFwib2ZmXCIsXG4gICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcjogX3ZtLmVuZFBsYWNlaG9sZGVyLFxuICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ6IF92bS5waWNrZXJEaXNhYmxlZCxcbiAgICAgICAgICAgICAgICAgIHJlYWRvbmx5OiAhX3ZtLmVkaXRhYmxlIHx8IF92bS5yZWFkb25seSxcbiAgICAgICAgICAgICAgICAgIG5hbWU6IF92bS5uYW1lICYmIF92bS5uYW1lWzFdXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBkb21Qcm9wczogeyB2YWx1ZTogX3ZtLmRpc3BsYXlWYWx1ZSAmJiBfdm0uZGlzcGxheVZhbHVlWzFdIH0sXG4gICAgICAgICAgICAgICAgb246IHtcbiAgICAgICAgICAgICAgICAgIGlucHV0OiBfdm0uaGFuZGxlRW5kSW5wdXQsXG4gICAgICAgICAgICAgICAgICBjaGFuZ2U6IF92bS5oYW5kbGVFbmRDaGFuZ2UsXG4gICAgICAgICAgICAgICAgICBmb2N1czogX3ZtLmhhbmRsZUZvY3VzXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBcImlucHV0XCIsXG4gICAgICAgICAgICAgIF92bS5zZWNvbmRJbnB1dElkLFxuICAgICAgICAgICAgICBmYWxzZVxuICAgICAgICAgICAgKVxuICAgICAgICAgICksXG4gICAgICAgICAgX3ZtLmhhdmVUcmlnZ2VyXG4gICAgICAgICAgICA/IF9jKFwiaVwiLCB7XG4gICAgICAgICAgICAgICAgc3RhdGljQ2xhc3M6IFwiZWwtaW5wdXRfX2ljb24gZWwtcmFuZ2VfX2Nsb3NlLWljb25cIixcbiAgICAgICAgICAgICAgICBjbGFzczogW192bS5zaG93Q2xvc2UgPyBcIlwiICsgX3ZtLmNsZWFySWNvbiA6IFwiXCJdLFxuICAgICAgICAgICAgICAgIG9uOiB7IGNsaWNrOiBfdm0uaGFuZGxlQ2xpY2tJY29uIH1cbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIDogX3ZtLl9lKClcbiAgICAgICAgXSxcbiAgICAgICAgMlxuICAgICAgKVxufVxudmFyIHN0YXRpY1JlbmRlckZucyA9IFtdXG5yZW5kZXIuX3dpdGhTdHJpcHBlZCA9IHRydWVcblxuXG4vLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3BhY2thZ2VzL2RhdGUtcGlja2VyL3NyYy9waWNrZXIudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPTEzNDQ5ODIwXG5cbi8vIEVYVEVSTkFMIE1PRFVMRTogZXh0ZXJuYWwgXCJ2dWVcIlxudmFyIGV4dGVybmFsX3Z1ZV8gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xudmFyIGV4dGVybmFsX3Z1ZV9kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihleHRlcm5hbF92dWVfKTtcblxuLy8gRVhURVJOQUwgTU9EVUxFOiBleHRlcm5hbCBcIi4vdXRpbHMvY2xpY2tvdXRzaWRlXCJcbnZhciBjbGlja291dHNpZGVfID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMik7XG52YXIgY2xpY2tvdXRzaWRlX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKGNsaWNrb3V0c2lkZV8pO1xuXG4vLyBFWFRFUk5BTCBNT0RVTEU6IGV4dGVybmFsIFwiLi91dGlscy9kYXRlLXV0aWxcIlxudmFyIGRhdGVfdXRpbF8gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXG4vLyBFWFRFUk5BTCBNT0RVTEU6IGV4dGVybmFsIFwiLi91dGlscy92dWUtcG9wcGVyXCJcbnZhciB2dWVfcG9wcGVyXyA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XG52YXIgdnVlX3BvcHBlcl9kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubih2dWVfcG9wcGVyXyk7XG5cbi8vIEVYVEVSTkFMIE1PRFVMRTogZXh0ZXJuYWwgXCIuL21peGlucy9lbWl0dGVyXCJcbnZhciBlbWl0dGVyXyA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG52YXIgZW1pdHRlcl9kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihlbWl0dGVyXyk7XG5cbi8vIEVYVEVSTkFMIE1PRFVMRTogZXh0ZXJuYWwgXCIuL2lucHV0XCJcbnZhciBleHRlcm5hbF9pbnB1dF8gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkpO1xudmFyIGV4dGVybmFsX2lucHV0X2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKGV4dGVybmFsX2lucHV0Xyk7XG5cbi8vIEVYVEVSTkFMIE1PRFVMRTogZXh0ZXJuYWwgXCIuL3V0aWxzL21lcmdlXCJcbnZhciBtZXJnZV8gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwKTtcbnZhciBtZXJnZV9kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihtZXJnZV8pO1xuXG4vLyBDT05DQVRFTkFURUQgTU9EVUxFOiBDOi9Vc2Vycy9UeWxlclRyb3R0ZXIvcmVwb3MvQ29nbml0byBGb3Jtcy9Db2duaXRvLldlYi5DbGllbnQvbm9kZV9tb2R1bGVzLy5wbnBtL2JhYmVsLWxvYWRlckA4LjMuMF9AYmFiZWwrY29yZUA3LjI1LjJfd2VicGFja0A0LjQ2LjAvbm9kZV9tb2R1bGVzL2JhYmVsLWxvYWRlci9saWIhQzovVXNlcnMvVHlsZXJUcm90dGVyL3JlcG9zL0NvZ25pdG8gRm9ybXMvQ29nbml0by5XZWIuQ2xpZW50L25vZGVfbW9kdWxlcy8ucG5wbS92dWUtbG9hZGVyQDE1LjExLjFfY3NzLWxvYWRlckA1LjIuN19wcmV0dGllckAxLjE4LjJfdnVlLXRlbXBsYXRlLWNvbXBpbGVyQDIuNy4xNV93ZWJwYWNrQDQuNDYuMC9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWI/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL3BhY2thZ2VzL2RhdGUtcGlja2VyL3NyYy9waWNrZXIudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzXG5cblxuXG5cblxuXG5cbmNvbnN0IE5ld1BvcHBlciA9IHtcbiAgcHJvcHM6IHtcbiAgICBhcHBlbmRUb0JvZHk6IHZ1ZV9wb3BwZXJfZGVmYXVsdC5hLnByb3BzLmFwcGVuZFRvQm9keSxcbiAgICBvZmZzZXQ6IHZ1ZV9wb3BwZXJfZGVmYXVsdC5hLnByb3BzLm9mZnNldCxcbiAgICBib3VuZGFyaWVzUGFkZGluZzogdnVlX3BvcHBlcl9kZWZhdWx0LmEucHJvcHMuYm91bmRhcmllc1BhZGRpbmcsXG4gICAgYXJyb3dPZmZzZXQ6IHZ1ZV9wb3BwZXJfZGVmYXVsdC5hLnByb3BzLmFycm93T2Zmc2V0XG4gIH0sXG4gIG1ldGhvZHM6IHZ1ZV9wb3BwZXJfZGVmYXVsdC5hLm1ldGhvZHMsXG4gIGRhdGEoKSB7XG4gICAgcmV0dXJuIG1lcmdlX2RlZmF1bHQoKSh7XG4gICAgICB2aXNpYmxlQXJyb3c6IHRydWVcbiAgICB9LCB2dWVfcG9wcGVyX2RlZmF1bHQuYS5kYXRhKTtcbiAgfSxcbiAgYmVmb3JlRGVzdHJveTogdnVlX3BvcHBlcl9kZWZhdWx0LmEuYmVmb3JlRGVzdHJveVxufTtcbmNvbnN0IERFRkFVTFRfRk9STUFUUyA9IHtcbiAgZGF0ZTogJ3l5eXktTU0tZGQnLFxuICBtb250aDogJ3l5eXktTU0nLFxuICBkYXRldGltZTogJ3l5eXktTU0tZGQgSEg6bW06c3MnLFxuICB0aW1lOiAnSEg6bW06c3MnLFxuICB3ZWVrOiAneXl5eXdXVycsXG4gIHRpbWVyYW5nZTogJ0hIOm1tOnNzJyxcbiAgZGF0ZXJhbmdlOiAneXl5eS1NTS1kZCcsXG4gIG1vbnRocmFuZ2U6ICd5eXl5LU1NJyxcbiAgZGF0ZXRpbWVyYW5nZTogJ3l5eXktTU0tZGQgSEg6bW06c3MnLFxuICB5ZWFyOiAneXl5eSdcbn07XG5jb25zdCBIQVZFX1RSSUdHRVJfVFlQRVMgPSBbJ2RhdGUnLCAnZGF0ZXRpbWUnLCAndGltZScsICd0aW1lLXNlbGVjdCcsICd3ZWVrJywgJ21vbnRoJywgJ3llYXInLCAnZGF0ZXJhbmdlJywgJ21vbnRocmFuZ2UnLCAndGltZXJhbmdlJywgJ2RhdGV0aW1lcmFuZ2UnLCAnZGF0ZXMnXTtcbmNvbnN0IERBVEVfRk9STUFUVEVSID0gZnVuY3Rpb24gKHZhbHVlLCBmb3JtYXQpIHtcbiAgaWYgKGZvcm1hdCA9PT0gJ3RpbWVzdGFtcCcpIHJldHVybiB2YWx1ZS5nZXRUaW1lKCk7XG4gIHJldHVybiBPYmplY3QoZGF0ZV91dGlsX1tcImZvcm1hdERhdGVcIl0pKHZhbHVlLCBmb3JtYXQpO1xufTtcbmNvbnN0IERBVEVfUEFSU0VSID0gZnVuY3Rpb24gKHRleHQsIGZvcm1hdCkge1xuICBpZiAoZm9ybWF0ID09PSAndGltZXN0YW1wJykgcmV0dXJuIG5ldyBEYXRlKE51bWJlcih0ZXh0KSk7XG4gIHJldHVybiBPYmplY3QoZGF0ZV91dGlsX1tcInBhcnNlRGF0ZVwiXSkodGV4dCwgZm9ybWF0KTtcbn07XG5jb25zdCBSQU5HRV9GT1JNQVRURVIgPSBmdW5jdGlvbiAodmFsdWUsIGZvcm1hdCkge1xuICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkgJiYgdmFsdWUubGVuZ3RoID09PSAyKSB7XG4gICAgY29uc3Qgc3RhcnQgPSB2YWx1ZVswXTtcbiAgICBjb25zdCBlbmQgPSB2YWx1ZVsxXTtcbiAgICBpZiAoc3RhcnQgJiYgZW5kKSB7XG4gICAgICByZXR1cm4gW0RBVEVfRk9STUFUVEVSKHN0YXJ0LCBmb3JtYXQpLCBEQVRFX0ZPUk1BVFRFUihlbmQsIGZvcm1hdCldO1xuICAgIH1cbiAgfVxuICByZXR1cm4gJyc7XG59O1xuY29uc3QgUkFOR0VfUEFSU0VSID0gZnVuY3Rpb24gKGFycmF5LCBmb3JtYXQsIHNlcGFyYXRvcikge1xuICBpZiAoIUFycmF5LmlzQXJyYXkoYXJyYXkpKSB7XG4gICAgYXJyYXkgPSBhcnJheS5zcGxpdChzZXBhcmF0b3IpO1xuICB9XG4gIGlmIChhcnJheS5sZW5ndGggPT09IDIpIHtcbiAgICBjb25zdCByYW5nZTEgPSBhcnJheVswXTtcbiAgICBjb25zdCByYW5nZTIgPSBhcnJheVsxXTtcbiAgICByZXR1cm4gW0RBVEVfUEFSU0VSKHJhbmdlMSwgZm9ybWF0KSwgREFURV9QQVJTRVIocmFuZ2UyLCBmb3JtYXQpXTtcbiAgfVxuICByZXR1cm4gW107XG59O1xuY29uc3QgVFlQRV9WQUxVRV9SRVNPTFZFUl9NQVAgPSB7XG4gIGRlZmF1bHQ6IHtcbiAgICBmb3JtYXR0ZXIodmFsdWUpIHtcbiAgICAgIGlmICghdmFsdWUpIHJldHVybiAnJztcbiAgICAgIHJldHVybiAnJyArIHZhbHVlO1xuICAgIH0sXG4gICAgcGFyc2VyKHRleHQpIHtcbiAgICAgIGlmICh0ZXh0ID09PSB1bmRlZmluZWQgfHwgdGV4dCA9PT0gJycpIHJldHVybiBudWxsO1xuICAgICAgcmV0dXJuIHRleHQ7XG4gICAgfVxuICB9LFxuICB3ZWVrOiB7XG4gICAgZm9ybWF0dGVyKHZhbHVlLCBmb3JtYXQpIHtcbiAgICAgIGxldCB3ZWVrID0gT2JqZWN0KGRhdGVfdXRpbF9bXCJnZXRXZWVrTnVtYmVyXCJdKSh2YWx1ZSk7XG4gICAgICBsZXQgbW9udGggPSB2YWx1ZS5nZXRNb250aCgpO1xuICAgICAgY29uc3QgdHJ1ZURhdGUgPSBuZXcgRGF0ZSh2YWx1ZSk7XG4gICAgICBpZiAod2VlayA9PT0gMSAmJiBtb250aCA9PT0gMTEpIHtcbiAgICAgICAgdHJ1ZURhdGUuc2V0SG91cnMoMCwgMCwgMCwgMCk7XG4gICAgICAgIHRydWVEYXRlLnNldERhdGUodHJ1ZURhdGUuZ2V0RGF0ZSgpICsgMyAtICh0cnVlRGF0ZS5nZXREYXkoKSArIDYpICUgNyk7XG4gICAgICB9XG4gICAgICBsZXQgZGF0ZSA9IE9iamVjdChkYXRlX3V0aWxfW1wiZm9ybWF0RGF0ZVwiXSkodHJ1ZURhdGUsIGZvcm1hdCk7XG4gICAgICBkYXRlID0gL1dXLy50ZXN0KGRhdGUpID8gZGF0ZS5yZXBsYWNlKC9XVy8sIHdlZWsgPCAxMCA/ICcwJyArIHdlZWsgOiB3ZWVrKSA6IGRhdGUucmVwbGFjZSgvVy8sIHdlZWspO1xuICAgICAgcmV0dXJuIGRhdGU7XG4gICAgfSxcbiAgICBwYXJzZXIodGV4dCwgZm9ybWF0KSB7XG4gICAgICAvLyBwYXJzZSBhcyBpZiBhIG5vcm1hbCBkYXRlXG4gICAgICByZXR1cm4gVFlQRV9WQUxVRV9SRVNPTFZFUl9NQVAuZGF0ZS5wYXJzZXIodGV4dCwgZm9ybWF0KTtcbiAgICB9XG4gIH0sXG4gIGRhdGU6IHtcbiAgICBmb3JtYXR0ZXI6IERBVEVfRk9STUFUVEVSLFxuICAgIHBhcnNlcjogREFURV9QQVJTRVJcbiAgfSxcbiAgZGF0ZXRpbWU6IHtcbiAgICBmb3JtYXR0ZXI6IERBVEVfRk9STUFUVEVSLFxuICAgIHBhcnNlcjogREFURV9QQVJTRVJcbiAgfSxcbiAgZGF0ZXJhbmdlOiB7XG4gICAgZm9ybWF0dGVyOiBSQU5HRV9GT1JNQVRURVIsXG4gICAgcGFyc2VyOiBSQU5HRV9QQVJTRVJcbiAgfSxcbiAgbW9udGhyYW5nZToge1xuICAgIGZvcm1hdHRlcjogUkFOR0VfRk9STUFUVEVSLFxuICAgIHBhcnNlcjogUkFOR0VfUEFSU0VSXG4gIH0sXG4gIGRhdGV0aW1lcmFuZ2U6IHtcbiAgICBmb3JtYXR0ZXI6IFJBTkdFX0ZPUk1BVFRFUixcbiAgICBwYXJzZXI6IFJBTkdFX1BBUlNFUlxuICB9LFxuICB0aW1lcmFuZ2U6IHtcbiAgICBmb3JtYXR0ZXI6IFJBTkdFX0ZPUk1BVFRFUixcbiAgICBwYXJzZXI6IFJBTkdFX1BBUlNFUlxuICB9LFxuICB0aW1lOiB7XG4gICAgZm9ybWF0dGVyOiBEQVRFX0ZPUk1BVFRFUixcbiAgICBwYXJzZXI6IERBVEVfUEFSU0VSXG4gIH0sXG4gIG1vbnRoOiB7XG4gICAgZm9ybWF0dGVyOiBEQVRFX0ZPUk1BVFRFUixcbiAgICBwYXJzZXI6IERBVEVfUEFSU0VSXG4gIH0sXG4gIHllYXI6IHtcbiAgICBmb3JtYXR0ZXI6IERBVEVfRk9STUFUVEVSLFxuICAgIHBhcnNlcjogREFURV9QQVJTRVJcbiAgfSxcbiAgbnVtYmVyOiB7XG4gICAgZm9ybWF0dGVyKHZhbHVlKSB7XG4gICAgICBpZiAoIXZhbHVlKSByZXR1cm4gJyc7XG4gICAgICByZXR1cm4gJycgKyB2YWx1ZTtcbiAgICB9LFxuICAgIHBhcnNlcih0ZXh0KSB7XG4gICAgICBsZXQgcmVzdWx0ID0gTnVtYmVyKHRleHQpO1xuICAgICAgaWYgKCFpc05hTih0ZXh0KSkge1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgfVxuICB9LFxuICBkYXRlczoge1xuICAgIGZvcm1hdHRlcih2YWx1ZSwgZm9ybWF0KSB7XG4gICAgICByZXR1cm4gdmFsdWUubWFwKGRhdGUgPT4gREFURV9GT1JNQVRURVIoZGF0ZSwgZm9ybWF0KSk7XG4gICAgfSxcbiAgICBwYXJzZXIodmFsdWUsIGZvcm1hdCkge1xuICAgICAgcmV0dXJuICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnID8gdmFsdWUuc3BsaXQoJywgJykgOiB2YWx1ZSkubWFwKGRhdGUgPT4gZGF0ZSBpbnN0YW5jZW9mIERhdGUgPyBkYXRlIDogREFURV9QQVJTRVIoZGF0ZSwgZm9ybWF0KSk7XG4gICAgfVxuICB9XG59O1xuY29uc3QgUExBQ0VNRU5UX01BUCA9IHtcbiAgbGVmdDogJ2JvdHRvbS1zdGFydCcsXG4gIGNlbnRlcjogJ2JvdHRvbScsXG4gIHJpZ2h0OiAnYm90dG9tLWVuZCdcbn07XG5jb25zdCBwYXJzZUFzRm9ybWF0QW5kVHlwZSA9IGZ1bmN0aW9uICh2YWx1ZSwgY3VzdG9tRm9ybWF0LCB0eXBlLCByYW5nZVNlcGFyYXRvcikge1xuICBpZiAocmFuZ2VTZXBhcmF0b3IgPT09IHZvaWQgMCkge1xuICAgIHJhbmdlU2VwYXJhdG9yID0gJy0nO1xuICB9XG4gIGlmICghdmFsdWUpIHJldHVybiBudWxsO1xuICBjb25zdCBwYXJzZXIgPSAoVFlQRV9WQUxVRV9SRVNPTFZFUl9NQVBbdHlwZV0gfHwgVFlQRV9WQUxVRV9SRVNPTFZFUl9NQVBbJ2RlZmF1bHQnXSkucGFyc2VyO1xuICBjb25zdCBmb3JtYXQgPSBjdXN0b21Gb3JtYXQgfHwgREVGQVVMVF9GT1JNQVRTW3R5cGVdO1xuICByZXR1cm4gcGFyc2VyKHZhbHVlLCBmb3JtYXQsIHJhbmdlU2VwYXJhdG9yKTtcbn07XG5jb25zdCBmb3JtYXRBc0Zvcm1hdEFuZFR5cGUgPSAodmFsdWUsIGN1c3RvbUZvcm1hdCwgdHlwZSkgPT4ge1xuICBpZiAoIXZhbHVlKSByZXR1cm4gbnVsbDtcbiAgY29uc3QgZm9ybWF0dGVyID0gKFRZUEVfVkFMVUVfUkVTT0xWRVJfTUFQW3R5cGVdIHx8IFRZUEVfVkFMVUVfUkVTT0xWRVJfTUFQWydkZWZhdWx0J10pLmZvcm1hdHRlcjtcbiAgY29uc3QgZm9ybWF0ID0gY3VzdG9tRm9ybWF0IHx8IERFRkFVTFRfRk9STUFUU1t0eXBlXTtcbiAgcmV0dXJuIGZvcm1hdHRlcih2YWx1ZSwgZm9ybWF0KTtcbn07XG5cbi8qXG4gKiBDb25zaWRlcnM6XG4gKiAgIDEuIERhdGUgb2JqZWN0XG4gKiAgIDIuIGRhdGUgc3RyaW5nXG4gKiAgIDMuIGFycmF5IG9mIDEgb3IgMlxuICovXG5jb25zdCB2YWx1ZUVxdWFscyA9IGZ1bmN0aW9uIChhLCBiKSB7XG4gIC8vIGNvbnNpZGVycyBEYXRlIG9iamVjdCBhbmQgc3RyaW5nXG4gIGNvbnN0IGRhdGVFcXVhbHMgPSBmdW5jdGlvbiAoYSwgYikge1xuICAgIGNvbnN0IGFJc0RhdGUgPSBhIGluc3RhbmNlb2YgRGF0ZTtcbiAgICBjb25zdCBiSXNEYXRlID0gYiBpbnN0YW5jZW9mIERhdGU7XG4gICAgaWYgKGFJc0RhdGUgJiYgYklzRGF0ZSkge1xuICAgICAgcmV0dXJuIGEuZ2V0VGltZSgpID09PSBiLmdldFRpbWUoKTtcbiAgICB9XG4gICAgaWYgKCFhSXNEYXRlICYmICFiSXNEYXRlKSB7XG4gICAgICByZXR1cm4gYSA9PT0gYjtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9O1xuICBjb25zdCBhSXNBcnJheSA9IGEgaW5zdGFuY2VvZiBBcnJheTtcbiAgY29uc3QgYklzQXJyYXkgPSBiIGluc3RhbmNlb2YgQXJyYXk7XG4gIGlmIChhSXNBcnJheSAmJiBiSXNBcnJheSkge1xuICAgIGlmIChhLmxlbmd0aCAhPT0gYi5sZW5ndGgpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIGEuZXZlcnkoKGl0ZW0sIGluZGV4KSA9PiBkYXRlRXF1YWxzKGl0ZW0sIGJbaW5kZXhdKSk7XG4gIH1cbiAgaWYgKCFhSXNBcnJheSAmJiAhYklzQXJyYXkpIHtcbiAgICByZXR1cm4gZGF0ZUVxdWFscyhhLCBiKTtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59O1xuY29uc3QgaXNTdHJpbmcgPSBmdW5jdGlvbiAodmFsKSB7XG4gIHJldHVybiB0eXBlb2YgdmFsID09PSAnc3RyaW5nJyB8fCB2YWwgaW5zdGFuY2VvZiBTdHJpbmc7XG59O1xuY29uc3QgdmFsaWRhdG9yID0gZnVuY3Rpb24gKHZhbCkge1xuICAvLyBlaXRoZXI6IFN0cmluZywgQXJyYXkgb2YgU3RyaW5nLCBudWxsIC8gdW5kZWZpbmVkXG4gIHJldHVybiB2YWwgPT09IG51bGwgfHwgdmFsID09PSB1bmRlZmluZWQgfHwgaXNTdHJpbmcodmFsKSB8fCBBcnJheS5pc0FycmF5KHZhbCkgJiYgdmFsLmxlbmd0aCA9PT0gMiAmJiB2YWwuZXZlcnkoaXNTdHJpbmcpO1xufTtcbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gdmFyIHBpY2tlcnZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzID0gKHtcbiAgbWl4aW5zOiBbZW1pdHRlcl9kZWZhdWx0LmEsIE5ld1BvcHBlcl0sXG4gIGluamVjdDoge1xuICAgIGVsRm9ybToge1xuICAgICAgZGVmYXVsdDogJydcbiAgICB9LFxuICAgIGVsRm9ybUl0ZW06IHtcbiAgICAgIGRlZmF1bHQ6ICcnXG4gICAgfVxuICB9LFxuICBwcm9wczoge1xuICAgIHNpemU6IFN0cmluZyxcbiAgICBmb3JtYXQ6IFN0cmluZyxcbiAgICB2YWx1ZUZvcm1hdDogU3RyaW5nLFxuICAgIHJlYWRvbmx5OiBCb29sZWFuLFxuICAgIHBsYWNlaG9sZGVyOiBTdHJpbmcsXG4gICAgc3RhcnRQbGFjZWhvbGRlcjogU3RyaW5nLFxuICAgIGVuZFBsYWNlaG9sZGVyOiBTdHJpbmcsXG4gICAgcHJlZml4SWNvbjogU3RyaW5nLFxuICAgIGNsZWFySWNvbjoge1xuICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgZGVmYXVsdDogJ2VsLWljb24tY2lyY2xlLWNsb3NlJ1xuICAgIH0sXG4gICAgbmFtZToge1xuICAgICAgZGVmYXVsdDogJycsXG4gICAgICB2YWxpZGF0b3JcbiAgICB9LFxuICAgIGRpc2FibGVkOiBCb29sZWFuLFxuICAgIGNsZWFyYWJsZToge1xuICAgICAgdHlwZTogQm9vbGVhbixcbiAgICAgIGRlZmF1bHQ6IHRydWVcbiAgICB9LFxuICAgIGlkOiB7XG4gICAgICBkZWZhdWx0OiAnJyxcbiAgICAgIHZhbGlkYXRvclxuICAgIH0sXG4gICAgcG9wcGVyQ2xhc3M6IFN0cmluZyxcbiAgICBlZGl0YWJsZToge1xuICAgICAgdHlwZTogQm9vbGVhbixcbiAgICAgIGRlZmF1bHQ6IHRydWVcbiAgICB9LFxuICAgIGFsaWduOiB7XG4gICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICBkZWZhdWx0OiAnbGVmdCdcbiAgICB9LFxuICAgIHZhbHVlOiB7fSxcbiAgICBkZWZhdWx0VmFsdWU6IHt9LFxuICAgIGRlZmF1bHRUaW1lOiB7fSxcbiAgICByYW5nZVNlcGFyYXRvcjoge1xuICAgICAgZGVmYXVsdDogJy0nXG4gICAgfSxcbiAgICBtaW5pbXVtOiBEYXRlLFxuICAgIG1heGltdW06IERhdGUsXG4gICAgcGlja2VyT3B0aW9uczoge30sXG4gICAgdW5saW5rUGFuZWxzOiBCb29sZWFuLFxuICAgIHZhbGlkYXRlRXZlbnQ6IHtcbiAgICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgICBkZWZhdWx0OiB0cnVlXG4gICAgfVxuICB9LFxuICBjb21wb25lbnRzOiB7XG4gICAgRWxJbnB1dDogZXh0ZXJuYWxfaW5wdXRfZGVmYXVsdC5hXG4gIH0sXG4gIGRpcmVjdGl2ZXM6IHtcbiAgICBDbGlja291dHNpZGU6IGNsaWNrb3V0c2lkZV9kZWZhdWx0LmFcbiAgfSxcbiAgZGF0YSgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgcGlja2VyVmlzaWJsZTogZmFsc2UsXG4gICAgICBzaG93Q2xvc2U6IGZhbHNlLFxuICAgICAgdXNlcklucHV0OiBudWxsLFxuICAgICAgdmFsdWVPbk9wZW46IG51bGwsXG4gICAgICAvLyB2YWx1ZSB3aGVuIHBpY2tlciBvcGVucywgdXNlZCB0byBkZXRlcm1pbmUgd2hldGhlciB0byBlbWl0IGNoYW5nZVxuICAgICAgdW53YXRjaFBpY2tlck9wdGlvbnM6IG51bGwsXG4gICAgICB1bndhdGNoUGlja2VyTWluOiBudWxsLFxuICAgICAgdW53YXRjaFBpY2tlck1heDogbnVsbFxuICAgIH07XG4gIH0sXG4gIHdhdGNoOiB7XG4gICAgcGlja2VyVmlzaWJsZSh2YWwpIHtcbiAgICAgIGlmICh0aGlzLnJlYWRvbmx5IHx8IHRoaXMucGlja2VyRGlzYWJsZWQpIHJldHVybjtcbiAgICAgIHRoaXMuJGVtaXQoJ3Zpc2libGUtY2hhbmdlJywgdmFsKTtcbiAgICAgIGlmICh2YWwpIHtcbiAgICAgICAgdGhpcy5zaG93UGlja2VyKCk7XG4gICAgICAgIHRoaXMudmFsdWVPbk9wZW4gPSBBcnJheS5pc0FycmF5KHRoaXMudmFsdWUpID8gWy4uLnRoaXMudmFsdWVdIDogdGhpcy52YWx1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuaGlkZVBpY2tlcigpO1xuICAgICAgICB0aGlzLmVtaXRDaGFuZ2UodGhpcy52YWx1ZSk7XG4gICAgICAgIHRoaXMudXNlcklucHV0ID0gbnVsbDtcbiAgICAgICAgaWYgKHRoaXMudmFsaWRhdGVFdmVudCkge1xuICAgICAgICAgIHRoaXMuZGlzcGF0Y2goJ0VsRm9ybUl0ZW0nLCAnZWwuZm9ybS5ibHVyJyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy4kZW1pdCgnYmx1cicsIHRoaXMpO1xuICAgICAgICB0aGlzLmJsdXIoKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIHBhcnNlZFZhbHVlOiB7XG4gICAgICBpbW1lZGlhdGU6IHRydWUsXG4gICAgICBoYW5kbGVyKHZhbCkge1xuICAgICAgICBpZiAodGhpcy5waWNrZXIpIHtcbiAgICAgICAgICB0aGlzLnBpY2tlci52YWx1ZSA9IHZhbDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgZGVmYXVsdFZhbHVlKHZhbCkge1xuICAgICAgLy8gTk9URTogc2hvdWxkIGV2ZW50dWFsbHkgbW92ZSB0byBqc3ggc3R5bGUgcGlja2VyICsgcGFuZWwgP1xuICAgICAgaWYgKHRoaXMucGlja2VyKSB7XG4gICAgICAgIHRoaXMucGlja2VyLmRlZmF1bHRWYWx1ZSA9IHZhbDtcbiAgICAgIH1cbiAgICB9LFxuICAgIHZhbHVlKHZhbCwgb2xkVmFsKSB7XG4gICAgICBpZiAoIXZhbHVlRXF1YWxzKHZhbCwgb2xkVmFsKSAmJiAhdGhpcy5waWNrZXJWaXNpYmxlICYmIHRoaXMudmFsaWRhdGVFdmVudCkge1xuICAgICAgICB0aGlzLmRpc3BhdGNoKCdFbEZvcm1JdGVtJywgJ2VsLmZvcm0uY2hhbmdlJywgdmFsKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sXG4gIGNvbXB1dGVkOiB7XG4gICAgcmFuZ2VkKCkge1xuICAgICAgcmV0dXJuIHRoaXMudHlwZS5pbmRleE9mKCdyYW5nZScpID4gLTE7XG4gICAgfSxcbiAgICByZWZlcmVuY2UoKSB7XG4gICAgICBjb25zdCByZWZlcmVuY2UgPSB0aGlzLiRyZWZzLnJlZmVyZW5jZTtcbiAgICAgIHJldHVybiByZWZlcmVuY2UuJGVsIHx8IHJlZmVyZW5jZTtcbiAgICB9LFxuICAgIHJlZklucHV0KCkge1xuICAgICAgaWYgKHRoaXMucmVmZXJlbmNlKSB7XG4gICAgICAgIHJldHVybiBbXS5zbGljZS5jYWxsKHRoaXMucmVmZXJlbmNlLnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0JykpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIFtdO1xuICAgIH0sXG4gICAgdmFsdWVJc0VtcHR5KCkge1xuICAgICAgY29uc3QgdmFsID0gdGhpcy52YWx1ZTtcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KHZhbCkpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IHZhbC5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgIGlmICh2YWxbaV0pIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICh2YWwpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0sXG4gICAgdHJpZ2dlckNsYXNzKCkge1xuICAgICAgcmV0dXJuIHRoaXMucHJlZml4SWNvbiB8fCAodGhpcy50eXBlLmluZGV4T2YoJ3RpbWUnKSAhPT0gLTEgPyAnZWwtaWNvbi10aW1lJyA6ICdlbC1pY29uLWRhdGUnKTtcbiAgICB9LFxuICAgIHNlbGVjdGlvbk1vZGUoKSB7XG4gICAgICBpZiAodGhpcy50eXBlID09PSAnd2VlaycpIHtcbiAgICAgICAgcmV0dXJuICd3ZWVrJztcbiAgICAgIH0gZWxzZSBpZiAodGhpcy50eXBlID09PSAnbW9udGgnKSB7XG4gICAgICAgIHJldHVybiAnbW9udGgnO1xuICAgICAgfSBlbHNlIGlmICh0aGlzLnR5cGUgPT09ICd5ZWFyJykge1xuICAgICAgICByZXR1cm4gJ3llYXInO1xuICAgICAgfSBlbHNlIGlmICh0aGlzLnR5cGUgPT09ICdkYXRlcycpIHtcbiAgICAgICAgcmV0dXJuICdkYXRlcyc7XG4gICAgICB9XG4gICAgICByZXR1cm4gJ2RheSc7XG4gICAgfSxcbiAgICBoYXZlVHJpZ2dlcigpIHtcbiAgICAgIGlmICh0eXBlb2YgdGhpcy5zaG93VHJpZ2dlciAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2hvd1RyaWdnZXI7XG4gICAgICB9XG4gICAgICByZXR1cm4gSEFWRV9UUklHR0VSX1RZUEVTLmluZGV4T2YodGhpcy50eXBlKSAhPT0gLTE7XG4gICAgfSxcbiAgICBkaXNwbGF5VmFsdWUoKSB7XG4gICAgICBjb25zdCBmb3JtYXR0ZWRWYWx1ZSA9IGZvcm1hdEFzRm9ybWF0QW5kVHlwZSh0aGlzLnBhcnNlZFZhbHVlLCB0aGlzLmZvcm1hdCwgdGhpcy50eXBlLCB0aGlzLnJhbmdlU2VwYXJhdG9yKTtcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KHRoaXMudXNlcklucHV0KSkge1xuICAgICAgICByZXR1cm4gW3RoaXMudXNlcklucHV0WzBdIHx8IGZvcm1hdHRlZFZhbHVlICYmIGZvcm1hdHRlZFZhbHVlWzBdIHx8ICcnLCB0aGlzLnVzZXJJbnB1dFsxXSB8fCBmb3JtYXR0ZWRWYWx1ZSAmJiBmb3JtYXR0ZWRWYWx1ZVsxXSB8fCAnJ107XG4gICAgICB9IGVsc2UgaWYgKHRoaXMudXNlcklucHV0ICE9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnVzZXJJbnB1dDtcbiAgICAgIH0gZWxzZSBpZiAoZm9ybWF0dGVkVmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudHlwZSA9PT0gJ2RhdGVzJyA/IGZvcm1hdHRlZFZhbHVlLmpvaW4oJywgJykgOiBmb3JtYXR0ZWRWYWx1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiAnJztcbiAgICAgIH1cbiAgICB9LFxuICAgIHBhcnNlZFZhbHVlKCkge1xuICAgICAgaWYgKCF0aGlzLnZhbHVlKSByZXR1cm4gdGhpcy52YWx1ZTsgLy8gY29tcG9uZW50IHZhbHVlIGlzIG5vdCBzZXRcbiAgICAgIGlmICh0aGlzLnR5cGUgPT09ICd0aW1lLXNlbGVjdCcpIHJldHVybiB0aGlzLnZhbHVlOyAvLyB0aW1lLXNlbGVjdCBkb2VzIG5vdCByZXF1aXJlIHBhcnNpbmcsIHRoaXMgbWlnaHQgY2hhbmdlIGluIG5leHQgbWFqb3IgdmVyc2lvblxuXG4gICAgICBjb25zdCB2YWx1ZUlzRGF0ZU9iamVjdCA9IE9iamVjdChkYXRlX3V0aWxfW1wiaXNEYXRlT2JqZWN0XCJdKSh0aGlzLnZhbHVlKSB8fCBBcnJheS5pc0FycmF5KHRoaXMudmFsdWUpICYmIHRoaXMudmFsdWUuZXZlcnkoZGF0ZV91dGlsX1tcImlzRGF0ZU9iamVjdFwiXSk7XG4gICAgICBpZiAodmFsdWVJc0RhdGVPYmplY3QpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmFsdWU7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy52YWx1ZUZvcm1hdCkge1xuICAgICAgICByZXR1cm4gcGFyc2VBc0Zvcm1hdEFuZFR5cGUodGhpcy52YWx1ZSwgdGhpcy52YWx1ZUZvcm1hdCwgdGhpcy50eXBlLCB0aGlzLnJhbmdlU2VwYXJhdG9yKSB8fCB0aGlzLnZhbHVlO1xuICAgICAgfVxuXG4gICAgICAvLyBOT1RFOiBkZWFsIHdpdGggY29tbW9uIGJ1dCBpbmNvcnJlY3QgdXNhZ2UsIHNob3VsZCByZW1vdmUgaW4gbmV4dCBtYWpvciB2ZXJzaW9uXG4gICAgICAvLyB1c2VyIG1pZ2h0IHByb3ZpZGUgc3RyaW5nIC8gdGltZXN0YW1wIHdpdGhvdXQgdmFsdWUtZm9ybWF0LCBjb2VyY2UgdGhlbSBpbnRvIGRhdGUgKG9yIGFycmF5IG9mIGRhdGUpXG4gICAgICByZXR1cm4gQXJyYXkuaXNBcnJheSh0aGlzLnZhbHVlKSA/IHRoaXMudmFsdWUubWFwKHZhbCA9PiBuZXcgRGF0ZSh2YWwpKSA6IG5ldyBEYXRlKHRoaXMudmFsdWUpO1xuICAgIH0sXG4gICAgX2VsRm9ybUl0ZW1TaXplKCkge1xuICAgICAgcmV0dXJuICh0aGlzLmVsRm9ybUl0ZW0gfHwge30pLmVsRm9ybUl0ZW1TaXplO1xuICAgIH0sXG4gICAgcGlja2VyU2l6ZSgpIHtcbiAgICAgIHJldHVybiB0aGlzLnNpemUgfHwgdGhpcy5fZWxGb3JtSXRlbVNpemUgfHwgKHRoaXMuJEVMRU1FTlQgfHwge30pLnNpemU7XG4gICAgfSxcbiAgICBwaWNrZXJEaXNhYmxlZCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmRpc2FibGVkIHx8ICh0aGlzLmVsRm9ybSB8fCB7fSkuZGlzYWJsZWQ7XG4gICAgfSxcbiAgICBmaXJzdElucHV0SWQoKSB7XG4gICAgICBjb25zdCBvYmogPSB7fTtcbiAgICAgIGxldCBpZDtcbiAgICAgIGlmICh0aGlzLnJhbmdlZCkge1xuICAgICAgICBpZCA9IHRoaXMuaWQgJiYgdGhpcy5pZFswXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlkID0gdGhpcy5pZDtcbiAgICAgIH1cbiAgICAgIGlmIChpZCkgb2JqLmlkID0gaWQ7XG4gICAgICByZXR1cm4gb2JqO1xuICAgIH0sXG4gICAgc2Vjb25kSW5wdXRJZCgpIHtcbiAgICAgIGNvbnN0IG9iaiA9IHt9O1xuICAgICAgbGV0IGlkO1xuICAgICAgaWYgKHRoaXMucmFuZ2VkKSB7XG4gICAgICAgIGlkID0gdGhpcy5pZCAmJiB0aGlzLmlkWzFdO1xuICAgICAgfVxuICAgICAgaWYgKGlkKSBvYmouaWQgPSBpZDtcbiAgICAgIHJldHVybiBvYmo7XG4gICAgfVxuICB9LFxuICBjcmVhdGVkKCkge1xuICAgIC8vIHZ1ZS1wb3BwZXJcbiAgICB0aGlzLnBvcHBlck9wdGlvbnMgPSB7XG4gICAgICBib3VuZGFyaWVzUGFkZGluZzogMCxcbiAgICAgIGdwdUFjY2VsZXJhdGlvbjogZmFsc2VcbiAgICB9O1xuICAgIHRoaXMucGxhY2VtZW50ID0gUExBQ0VNRU5UX01BUFt0aGlzLmFsaWduXSB8fCBQTEFDRU1FTlRfTUFQLmxlZnQ7XG4gICAgdGhpcy4kb24oJ2ZpZWxkUmVzZXQnLCB0aGlzLmhhbmRsZUZpZWxkUmVzZXQpO1xuICB9LFxuICBtZXRob2RzOiB7XG4gICAgZm9jdXMoKSB7XG4gICAgICBpZiAoIXRoaXMucmFuZ2VkKSB7XG4gICAgICAgIHRoaXMuJHJlZnMucmVmZXJlbmNlLmZvY3VzKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmhhbmRsZUZvY3VzKCk7XG4gICAgICB9XG4gICAgfSxcbiAgICBibHVyKCkge1xuICAgICAgdGhpcy5yZWZJbnB1dC5mb3JFYWNoKGlucHV0ID0+IGlucHV0LmJsdXIoKSk7XG4gICAgfSxcbiAgICAvLyB7cGFyc2UsIGZvcm1hdFRvfSBWYWx1ZSBkZWFscyBtYXBzIGNvbXBvbmVudCB2YWx1ZSB3aXRoIGludGVybmFsIERhdGVcbiAgICBwYXJzZVZhbHVlKHZhbHVlKSB7XG4gICAgICBjb25zdCBpc1BhcnNlZCA9IE9iamVjdChkYXRlX3V0aWxfW1wiaXNEYXRlT2JqZWN0XCJdKSh2YWx1ZSkgfHwgQXJyYXkuaXNBcnJheSh2YWx1ZSkgJiYgdmFsdWUuZXZlcnkoZGF0ZV91dGlsX1tcImlzRGF0ZU9iamVjdFwiXSk7XG4gICAgICBpZiAodGhpcy52YWx1ZUZvcm1hdCAmJiAhaXNQYXJzZWQpIHtcbiAgICAgICAgcmV0dXJuIHBhcnNlQXNGb3JtYXRBbmRUeXBlKHZhbHVlLCB0aGlzLnZhbHVlRm9ybWF0LCB0aGlzLnR5cGUsIHRoaXMucmFuZ2VTZXBhcmF0b3IpIHx8IHZhbHVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfVxuICAgIH0sXG4gICAgZm9ybWF0VG9WYWx1ZShkYXRlKSB7XG4gICAgICBjb25zdCBpc0Zvcm1hdHRhYmxlID0gT2JqZWN0KGRhdGVfdXRpbF9bXCJpc0RhdGVPYmplY3RcIl0pKGRhdGUpIHx8IEFycmF5LmlzQXJyYXkoZGF0ZSkgJiYgZGF0ZS5ldmVyeShkYXRlX3V0aWxfW1wiaXNEYXRlT2JqZWN0XCJdKTtcbiAgICAgIGlmICh0aGlzLnZhbHVlRm9ybWF0ICYmIGlzRm9ybWF0dGFibGUpIHtcbiAgICAgICAgcmV0dXJuIGZvcm1hdEFzRm9ybWF0QW5kVHlwZShkYXRlLCB0aGlzLnZhbHVlRm9ybWF0LCB0aGlzLnR5cGUsIHRoaXMucmFuZ2VTZXBhcmF0b3IpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGRhdGU7XG4gICAgICB9XG4gICAgfSxcbiAgICAvLyB7cGFyc2UsIGZvcm1hdFRvfSBTdHJpbmcgZGVhbHMgd2l0aCB1c2VyIGlucHV0XG4gICAgcGFyc2VTdHJpbmcodmFsdWUpIHtcbiAgICAgIGNvbnN0IHR5cGUgPSBBcnJheS5pc0FycmF5KHZhbHVlKSA/IHRoaXMudHlwZSA6IHRoaXMudHlwZS5yZXBsYWNlKCdyYW5nZScsICcnKTtcbiAgICAgIHJldHVybiBwYXJzZUFzRm9ybWF0QW5kVHlwZSh2YWx1ZSwgdGhpcy5mb3JtYXQsIHR5cGUpO1xuICAgIH0sXG4gICAgZm9ybWF0VG9TdHJpbmcodmFsdWUpIHtcbiAgICAgIGNvbnN0IHR5cGUgPSBBcnJheS5pc0FycmF5KHZhbHVlKSA/IHRoaXMudHlwZSA6IHRoaXMudHlwZS5yZXBsYWNlKCdyYW5nZScsICcnKTtcbiAgICAgIHJldHVybiBmb3JtYXRBc0Zvcm1hdEFuZFR5cGUodmFsdWUsIHRoaXMuZm9ybWF0LCB0eXBlKTtcbiAgICB9LFxuICAgIGhhbmRsZU1vdXNlRW50ZXIoKSB7XG4gICAgICBpZiAodGhpcy5yZWFkb25seSB8fCB0aGlzLnBpY2tlckRpc2FibGVkKSByZXR1cm47XG4gICAgICBpZiAoIXRoaXMudmFsdWVJc0VtcHR5ICYmIHRoaXMuY2xlYXJhYmxlKSB7XG4gICAgICAgIHRoaXMuc2hvd0Nsb3NlID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGhhbmRsZUlucHV0KHZhbHVlKSB7XG4gICAgICB0aGlzLnVzZXJJbnB1dCA9IHZhbHVlO1xuICAgIH0sXG4gICAgaGFuZGxlQ2hhbmdlKCkge1xuICAgICAgaWYgKHRoaXMudXNlcklucHV0KSB7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gdGhpcy5wYXJzZVN0cmluZyh0aGlzLmRpc3BsYXlWYWx1ZSk7XG4gICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgIHRoaXMucGlja2VyLnZhbHVlID0gdmFsdWU7XG4gICAgICAgICAgaWYgKHRoaXMuaXNWYWxpZFZhbHVlKHZhbHVlKSkge1xuICAgICAgICAgICAgdGhpcy5lbWl0SW5wdXQodmFsdWUpO1xuICAgICAgICAgICAgdGhpcy51c2VySW5wdXQgPSBudWxsO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHRoaXMudXNlcklucHV0ID09PSAnJykge1xuICAgICAgICB0aGlzLmVtaXRJbnB1dChudWxsKTtcbiAgICAgICAgdGhpcy5lbWl0Q2hhbmdlKG51bGwpO1xuICAgICAgICB0aGlzLnVzZXJJbnB1dCA9IG51bGw7XG4gICAgICB9XG4gICAgfSxcbiAgICBoYW5kbGVTdGFydElucHV0KGV2ZW50KSB7XG4gICAgICBpZiAodGhpcy51c2VySW5wdXQpIHtcbiAgICAgICAgdGhpcy51c2VySW5wdXQgPSBbZXZlbnQudGFyZ2V0LnZhbHVlLCB0aGlzLnVzZXJJbnB1dFsxXV07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnVzZXJJbnB1dCA9IFtldmVudC50YXJnZXQudmFsdWUsIG51bGxdO1xuICAgICAgfVxuICAgIH0sXG4gICAgaGFuZGxlRW5kSW5wdXQoZXZlbnQpIHtcbiAgICAgIGlmICh0aGlzLnVzZXJJbnB1dCkge1xuICAgICAgICB0aGlzLnVzZXJJbnB1dCA9IFt0aGlzLnVzZXJJbnB1dFswXSwgZXZlbnQudGFyZ2V0LnZhbHVlXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMudXNlcklucHV0ID0gW251bGwsIGV2ZW50LnRhcmdldC52YWx1ZV07XG4gICAgICB9XG4gICAgfSxcbiAgICBoYW5kbGVTdGFydENoYW5nZShldmVudCkge1xuICAgICAgY29uc3QgdmFsdWUgPSB0aGlzLnBhcnNlU3RyaW5nKHRoaXMudXNlcklucHV0ICYmIHRoaXMudXNlcklucHV0WzBdKTtcbiAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICB0aGlzLnVzZXJJbnB1dCA9IFt0aGlzLmZvcm1hdFRvU3RyaW5nKHZhbHVlKSwgdGhpcy5kaXNwbGF5VmFsdWVbMV1dO1xuICAgICAgICBjb25zdCBuZXdWYWx1ZSA9IFt2YWx1ZSwgdGhpcy5waWNrZXIudmFsdWUgJiYgdGhpcy5waWNrZXIudmFsdWVbMV1dO1xuICAgICAgICB0aGlzLnBpY2tlci52YWx1ZSA9IG5ld1ZhbHVlO1xuICAgICAgICBpZiAodGhpcy5pc1ZhbGlkVmFsdWUobmV3VmFsdWUpKSB7XG4gICAgICAgICAgdGhpcy5lbWl0SW5wdXQobmV3VmFsdWUpO1xuICAgICAgICAgIHRoaXMudXNlcklucHV0ID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgaGFuZGxlRW5kQ2hhbmdlKGV2ZW50KSB7XG4gICAgICBjb25zdCB2YWx1ZSA9IHRoaXMucGFyc2VTdHJpbmcodGhpcy51c2VySW5wdXQgJiYgdGhpcy51c2VySW5wdXRbMV0pO1xuICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgIHRoaXMudXNlcklucHV0ID0gW3RoaXMuZGlzcGxheVZhbHVlWzBdLCB0aGlzLmZvcm1hdFRvU3RyaW5nKHZhbHVlKV07XG4gICAgICAgIGNvbnN0IG5ld1ZhbHVlID0gW3RoaXMucGlja2VyLnZhbHVlICYmIHRoaXMucGlja2VyLnZhbHVlWzBdLCB2YWx1ZV07XG4gICAgICAgIHRoaXMucGlja2VyLnZhbHVlID0gbmV3VmFsdWU7XG4gICAgICAgIGlmICh0aGlzLmlzVmFsaWRWYWx1ZShuZXdWYWx1ZSkpIHtcbiAgICAgICAgICB0aGlzLmVtaXRJbnB1dChuZXdWYWx1ZSk7XG4gICAgICAgICAgdGhpcy51c2VySW5wdXQgPSBudWxsO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICBoYW5kbGVDbGlja0ljb24oZXZlbnQpIHtcbiAgICAgIGlmICh0aGlzLnJlYWRvbmx5IHx8IHRoaXMucGlja2VyRGlzYWJsZWQpIHJldHVybjtcbiAgICAgIGlmICh0aGlzLnNob3dDbG9zZSkge1xuICAgICAgICB0aGlzLnZhbHVlT25PcGVuID0gdGhpcy52YWx1ZTtcbiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIHRoaXMuZW1pdElucHV0KG51bGwpO1xuICAgICAgICB0aGlzLmVtaXRDaGFuZ2UobnVsbCk7XG4gICAgICAgIHRoaXMuc2hvd0Nsb3NlID0gZmFsc2U7XG4gICAgICAgIGlmICh0aGlzLnBpY2tlciAmJiB0eXBlb2YgdGhpcy5waWNrZXIuaGFuZGxlQ2xlYXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICB0aGlzLnBpY2tlci5oYW5kbGVDbGVhcigpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnBpY2tlclZpc2libGUgPSAhdGhpcy5waWNrZXJWaXNpYmxlO1xuICAgICAgfVxuICAgIH0sXG4gICAgaGFuZGxlQ2xvc2UoKSB7XG4gICAgICBpZiAoIXRoaXMucGlja2VyVmlzaWJsZSkgcmV0dXJuO1xuICAgICAgdGhpcy5waWNrZXJWaXNpYmxlID0gZmFsc2U7XG4gICAgICBpZiAodGhpcy50eXBlID09PSAnZGF0ZXMnKSB7XG4gICAgICAgIC8vIHJlc3RvcmUgdG8gZm9ybWVyIHZhbHVlXG4gICAgICAgIGNvbnN0IG9sZFZhbHVlID0gcGFyc2VBc0Zvcm1hdEFuZFR5cGUodGhpcy52YWx1ZU9uT3BlbiwgdGhpcy52YWx1ZUZvcm1hdCwgdGhpcy50eXBlLCB0aGlzLnJhbmdlU2VwYXJhdG9yKSB8fCB0aGlzLnZhbHVlT25PcGVuO1xuICAgICAgICB0aGlzLmVtaXRJbnB1dChvbGRWYWx1ZSk7XG4gICAgICB9XG4gICAgfSxcbiAgICBoYW5kbGVGaWVsZFJlc2V0KGluaXRpYWxWYWx1ZSkge1xuICAgICAgdGhpcy51c2VySW5wdXQgPSBpbml0aWFsVmFsdWUgPT09ICcnID8gbnVsbCA6IGluaXRpYWxWYWx1ZTtcbiAgICB9LFxuICAgIGhhbmRsZUZvY3VzKCkge1xuICAgICAgY29uc3QgdHlwZSA9IHRoaXMudHlwZTtcbiAgICAgIGlmIChIQVZFX1RSSUdHRVJfVFlQRVMuaW5kZXhPZih0eXBlKSAhPT0gLTEgJiYgIXRoaXMucGlja2VyVmlzaWJsZSkge1xuICAgICAgICB0aGlzLnBpY2tlclZpc2libGUgPSB0cnVlO1xuICAgICAgfVxuICAgICAgdGhpcy4kZW1pdCgnZm9jdXMnLCB0aGlzKTtcbiAgICB9LFxuICAgIGhhbmRsZUtleWRvd24oZXZlbnQpIHtcbiAgICAgIGNvbnN0IGtleUNvZGUgPSBldmVudC5rZXlDb2RlO1xuXG4gICAgICAvLyBFU0NcbiAgICAgIGlmIChrZXlDb2RlID09PSAyNykge1xuICAgICAgICB0aGlzLnBpY2tlclZpc2libGUgPSBmYWxzZTtcbiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8gVGFiXG4gICAgICBpZiAoa2V5Q29kZSA9PT0gOSkge1xuICAgICAgICBpZiAoIXRoaXMucmFuZ2VkKSB7XG4gICAgICAgICAgdGhpcy5oYW5kbGVDaGFuZ2UoKTtcbiAgICAgICAgICB0aGlzLnBpY2tlclZpc2libGUgPSB0aGlzLnBpY2tlci52aXNpYmxlID0gZmFsc2U7XG4gICAgICAgICAgdGhpcy5ibHVyKCk7XG4gICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gdXNlciBtYXkgY2hhbmdlIGZvY3VzIGJldHdlZW4gdHdvIGlucHV0XG4gICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5yZWZJbnB1dC5pbmRleE9mKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQpID09PSAtMSkge1xuICAgICAgICAgICAgICB0aGlzLnBpY2tlclZpc2libGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgdGhpcy5ibHVyKCk7XG4gICAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sIDApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8gRW50ZXJcbiAgICAgIGlmIChrZXlDb2RlID09PSAxMykge1xuICAgICAgICBpZiAodGhpcy51c2VySW5wdXQgPT09ICcnIHx8IHRoaXMuaXNWYWxpZFZhbHVlKHRoaXMucGFyc2VTdHJpbmcodGhpcy5kaXNwbGF5VmFsdWUpKSkge1xuICAgICAgICAgIHRoaXMuaGFuZGxlQ2hhbmdlKCk7XG4gICAgICAgICAgdGhpcy5waWNrZXJWaXNpYmxlID0gdGhpcy5waWNrZXIudmlzaWJsZSA9IGZhbHNlO1xuICAgICAgICAgIHRoaXMuYmx1cigpO1xuICAgICAgICB9XG4gICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIGlmIHVzZXIgaXMgdHlwaW5nLCBkbyBub3QgbGV0IHBpY2tlciBoYW5kbGUga2V5IGlucHV0XG4gICAgICBpZiAodGhpcy51c2VySW5wdXQpIHtcbiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8gZGVsZWdhdGUgb3RoZXIga2V5cyB0byBwYW5lbFxuICAgICAgaWYgKHRoaXMucGlja2VyICYmIHRoaXMucGlja2VyLmhhbmRsZUtleWRvd24pIHtcbiAgICAgICAgdGhpcy5waWNrZXIuaGFuZGxlS2V5ZG93bihldmVudCk7XG4gICAgICB9XG4gICAgfSxcbiAgICBoYW5kbGVSYW5nZUNsaWNrKCkge1xuICAgICAgY29uc3QgdHlwZSA9IHRoaXMudHlwZTtcbiAgICAgIGlmIChIQVZFX1RSSUdHRVJfVFlQRVMuaW5kZXhPZih0eXBlKSAhPT0gLTEgJiYgIXRoaXMucGlja2VyVmlzaWJsZSkge1xuICAgICAgICB0aGlzLnBpY2tlclZpc2libGUgPSB0cnVlO1xuICAgICAgfVxuICAgICAgdGhpcy4kZW1pdCgnZm9jdXMnLCB0aGlzKTtcbiAgICB9LFxuICAgIGhpZGVQaWNrZXIoKSB7XG4gICAgICBpZiAodGhpcy5waWNrZXIpIHtcbiAgICAgICAgdGhpcy5waWNrZXIucmVzZXRWaWV3ICYmIHRoaXMucGlja2VyLnJlc2V0VmlldygpO1xuICAgICAgICB0aGlzLnBpY2tlclZpc2libGUgPSB0aGlzLnBpY2tlci52aXNpYmxlID0gZmFsc2U7XG4gICAgICAgIHRoaXMuZGVzdHJveVBvcHBlcigpO1xuICAgICAgfVxuICAgIH0sXG4gICAgc2hvd1BpY2tlcigpIHtcbiAgICAgIGlmICh0aGlzLiRpc1NlcnZlcikgcmV0dXJuO1xuICAgICAgaWYgKCF0aGlzLnBpY2tlcikge1xuICAgICAgICB0aGlzLm1vdW50UGlja2VyKCk7XG4gICAgICB9XG4gICAgICB0aGlzLnBpY2tlclZpc2libGUgPSB0aGlzLnBpY2tlci52aXNpYmxlID0gdHJ1ZTtcbiAgICAgIHRoaXMudXBkYXRlUG9wcGVyKCk7XG4gICAgICB0aGlzLnBpY2tlci52YWx1ZSA9IHRoaXMucGFyc2VkVmFsdWU7XG4gICAgICB0aGlzLnBpY2tlci5yZXNldFZpZXcgJiYgdGhpcy5waWNrZXIucmVzZXRWaWV3KCk7XG4gICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7XG4gICAgICAgIHRoaXMucGlja2VyLmFkanVzdFNwaW5uZXJzICYmIHRoaXMucGlja2VyLmFkanVzdFNwaW5uZXJzKCk7XG4gICAgICB9KTtcbiAgICB9LFxuICAgIG1vdW50UGlja2VyKCkge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgIHRoaXMucGlja2VyID0gbmV3IGV4dGVybmFsX3Z1ZV9kZWZhdWx0LmEodGhpcy5wYW5lbCkuJG1vdW50KCk7XG4gICAgICB0aGlzLnBpY2tlci5kZWZhdWx0VmFsdWUgPSB0aGlzLmRlZmF1bHRWYWx1ZTtcbiAgICAgIHRoaXMucGlja2VyLmRlZmF1bHRUaW1lID0gdGhpcy5kZWZhdWx0VGltZTtcbiAgICAgIHRoaXMucGlja2VyLnBvcHBlckNsYXNzID0gdGhpcy5wb3BwZXJDbGFzcztcbiAgICAgIHRoaXMucG9wcGVyRWxtID0gdGhpcy5waWNrZXIuJGVsO1xuICAgICAgdGhpcy5waWNrZXIud2lkdGggPSB0aGlzLnJlZmVyZW5jZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aDtcbiAgICAgIHRoaXMucGlja2VyLnNob3dUaW1lID0gdGhpcy50eXBlID09PSAnZGF0ZXRpbWUnIHx8IHRoaXMudHlwZSA9PT0gJ2RhdGV0aW1lcmFuZ2UnO1xuICAgICAgdGhpcy5waWNrZXIuc2VsZWN0aW9uTW9kZSA9IHRoaXMuc2VsZWN0aW9uTW9kZTtcbiAgICAgIHRoaXMucGlja2VyLnVubGlua1BhbmVscyA9IHRoaXMudW5saW5rUGFuZWxzO1xuICAgICAgdGhpcy5waWNrZXIuYXJyb3dDb250cm9sID0gdGhpcy5hcnJvd0NvbnRyb2wgfHwgdGhpcy50aW1lQXJyb3dDb250cm9sIHx8IGZhbHNlO1xuICAgICAgdGhpcy5waWNrZXIudG9nZ2xlQW1QbSA9IHRoaXMudG9nZ2xlQW1QbSB8fCBmYWxzZTtcbiAgICAgIHRoaXMucGlja2VyLm1pbmltdW0gPSB0aGlzLm1pbmltdW0gfHwgbnVsbDtcbiAgICAgIHRoaXMudW53YXRjaFBpY2tlck1pbiA9IHRoaXMuJHdhdGNoKCdtaW5pbXVtJywgbWluaW11bSA9PiB7XG4gICAgICAgIHRoaXMucGlja2VyLm1pbmltdW0gPSBtaW5pbXVtIHx8IG51bGw7XG4gICAgICB9KTtcbiAgICAgIHRoaXMucGlja2VyLm1heGltdW0gPSB0aGlzLm1heGltdW0gfHwgbnVsbDtcbiAgICAgIHRoaXMudW53YXRjaFBpY2tlck1heCA9IHRoaXMuJHdhdGNoKCdtYXhpbXVtJywgbWF4aW11bSA9PiB7XG4gICAgICAgIHRoaXMucGlja2VyLm1heGltdW0gPSBtYXhpbXVtIHx8IG51bGw7XG4gICAgICB9KTtcbiAgICAgIHRoaXMuJHdhdGNoKCdmb3JtYXQnLCBmb3JtYXQgPT4ge1xuICAgICAgICB0aGlzLnBpY2tlci5mb3JtYXQgPSBmb3JtYXQ7XG4gICAgICB9KTtcbiAgICAgIGNvbnN0IHVwZGF0ZU9wdGlvbnMgPSAoKSA9PiB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLnBpY2tlck9wdGlvbnM7XG4gICAgICAgIGlmIChvcHRpb25zICYmIG9wdGlvbnMuc2VsZWN0YWJsZVJhbmdlKSB7XG4gICAgICAgICAgbGV0IHJhbmdlcyA9IG9wdGlvbnMuc2VsZWN0YWJsZVJhbmdlO1xuICAgICAgICAgIGNvbnN0IHBhcnNlciA9IFRZUEVfVkFMVUVfUkVTT0xWRVJfTUFQLmRhdGV0aW1lcmFuZ2UucGFyc2VyO1xuICAgICAgICAgIGNvbnN0IGZvcm1hdCA9IERFRkFVTFRfRk9STUFUUy50aW1lcmFuZ2U7XG4gICAgICAgICAgcmFuZ2VzID0gQXJyYXkuaXNBcnJheShyYW5nZXMpID8gcmFuZ2VzIDogW3Jhbmdlc107XG4gICAgICAgICAgdGhpcy5waWNrZXIuc2VsZWN0YWJsZVJhbmdlID0gcmFuZ2VzLm1hcChyYW5nZSA9PiBwYXJzZXIocmFuZ2UsIGZvcm1hdCwgdGhpcy5yYW5nZVNlcGFyYXRvcikpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3Qgb3B0aW9uIGluIG9wdGlvbnMpIHtcbiAgICAgICAgICBpZiAob3B0aW9ucy5oYXNPd25Qcm9wZXJ0eShvcHRpb24pICYmXG4gICAgICAgICAgLy8g5b+955WlIHRpbWUtcGlja2VyIOeahOivpemFjee9rumhuVxuICAgICAgICAgIG9wdGlvbiAhPT0gJ3NlbGVjdGFibGVSYW5nZScpIHtcbiAgICAgICAgICAgIHRoaXMucGlja2VyW29wdGlvbl0gPSBvcHRpb25zW29wdGlvbl07XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gbWFpbiBmb3JtYXQgbXVzdCBwcmV2YWlsIG92ZXIgdW5kb2N1bWVudGVkIHBpY2tlck9wdGlvbnMuZm9ybWF0XG4gICAgICAgIGlmICh0aGlzLmZvcm1hdCkge1xuICAgICAgICAgIHRoaXMucGlja2VyLmZvcm1hdCA9IHRoaXMuZm9ybWF0O1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgdXBkYXRlT3B0aW9ucygpO1xuICAgICAgdGhpcy51bndhdGNoUGlja2VyT3B0aW9ucyA9IHRoaXMuJHdhdGNoKCdwaWNrZXJPcHRpb25zJywgKCkgPT4gdXBkYXRlT3B0aW9ucygpLCB7XG4gICAgICAgIGRlZXA6IHRydWVcbiAgICAgIH0pO1xuICAgICAgdGhpcy4kZWwuYXBwZW5kQ2hpbGQodGhpcy5waWNrZXIuJGVsKTtcbiAgICAgIHRoaXMucGlja2VyLnJlc2V0VmlldyAmJiB0aGlzLnBpY2tlci5yZXNldFZpZXcoKTtcbiAgICAgIHRoaXMucGlja2VyLiRvbignZG9kZXN0cm95JywgdGhpcy5kb0Rlc3Ryb3kpO1xuICAgICAgdGhpcy5waWNrZXIuJG9uKCdwaWNrJywgZnVuY3Rpb24gKGRhdGUsIHZpc2libGUpIHtcbiAgICAgICAgaWYgKGRhdGUgPT09IHZvaWQgMCkge1xuICAgICAgICAgIGRhdGUgPSAnJztcbiAgICAgICAgfVxuICAgICAgICBpZiAodmlzaWJsZSA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgdmlzaWJsZSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIF90aGlzLnVzZXJJbnB1dCA9IG51bGw7XG4gICAgICAgIF90aGlzLnBpY2tlclZpc2libGUgPSBfdGhpcy5waWNrZXIudmlzaWJsZSA9IHZpc2libGU7XG4gICAgICAgIF90aGlzLmVtaXRJbnB1dChkYXRlKTtcbiAgICAgICAgX3RoaXMucGlja2VyLnJlc2V0VmlldyAmJiBfdGhpcy5waWNrZXIucmVzZXRWaWV3KCk7XG4gICAgICB9KTtcbiAgICAgIHRoaXMucGlja2VyLiRvbignc2VsZWN0LXJhbmdlJywgKHN0YXJ0LCBlbmQsIHBvcykgPT4ge1xuICAgICAgICBpZiAodGhpcy5yZWZJbnB1dC5sZW5ndGggPT09IDApIHJldHVybjtcbiAgICAgICAgaWYgKCFwb3MgfHwgcG9zID09PSAnbWluJykge1xuICAgICAgICAgIHRoaXMucmVmSW5wdXRbMF0uc2V0U2VsZWN0aW9uUmFuZ2Uoc3RhcnQsIGVuZCk7XG4gICAgICAgICAgdGhpcy5yZWZJbnB1dFswXS5mb2N1cygpO1xuICAgICAgICB9IGVsc2UgaWYgKHBvcyA9PT0gJ21heCcpIHtcbiAgICAgICAgICB0aGlzLnJlZklucHV0WzFdLnNldFNlbGVjdGlvblJhbmdlKHN0YXJ0LCBlbmQpO1xuICAgICAgICAgIHRoaXMucmVmSW5wdXRbMV0uZm9jdXMoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSxcbiAgICB1bm1vdW50UGlja2VyKCkge1xuICAgICAgaWYgKHRoaXMucGlja2VyKSB7XG4gICAgICAgIHRoaXMucGlja2VyLiRkZXN0cm95KCk7XG4gICAgICAgIHRoaXMucGlja2VyLiRvZmYoKTtcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLnVud2F0Y2hQaWNrZXJPcHRpb25zID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgdGhpcy51bndhdGNoUGlja2VyT3B0aW9ucygpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy51bndhdGNoUGlja2VyTWluID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgdGhpcy51bndhdGNoUGlja2VyTWluKCk7XG4gICAgICAgICAgdGhpcy51bndhdGNoUGlja2VyTWluID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIHRoaXMudW53YXRjaFBpY2tlck1heCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIHRoaXMudW53YXRjaFBpY2tlck1heCgpO1xuICAgICAgICAgIHRoaXMudW53YXRjaFBpY2tlck1heCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5waWNrZXIuJGVsLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5waWNrZXIuJGVsKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGVtaXRDaGFuZ2UodmFsKSB7XG4gICAgICAvLyBkZXRlcm1pbmUgdXNlciByZWFsIGNoYW5nZSBvbmx5XG4gICAgICBpZiAoIXZhbHVlRXF1YWxzKHZhbCwgdGhpcy52YWx1ZU9uT3BlbikpIHtcbiAgICAgICAgdGhpcy4kZW1pdCgnY2hhbmdlJywgdmFsKTtcbiAgICAgICAgdGhpcy52YWx1ZU9uT3BlbiA9IHZhbDtcbiAgICAgICAgaWYgKHRoaXMudmFsaWRhdGVFdmVudCkge1xuICAgICAgICAgIHRoaXMuZGlzcGF0Y2goJ0VsRm9ybUl0ZW0nLCAnZWwuZm9ybS5jaGFuZ2UnLCB2YWwpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICBlbWl0SW5wdXQodmFsKSB7XG4gICAgICBjb25zdCBmb3JtYXR0ZWQgPSB0aGlzLmZvcm1hdFRvVmFsdWUodmFsKTtcbiAgICAgIGlmICghdmFsdWVFcXVhbHModGhpcy52YWx1ZSwgZm9ybWF0dGVkKSkge1xuICAgICAgICB0aGlzLiRlbWl0KCdpbnB1dCcsIGZvcm1hdHRlZCk7XG4gICAgICB9XG4gICAgfSxcbiAgICBpc1ZhbGlkVmFsdWUodmFsdWUpIHtcbiAgICAgIGlmICghdGhpcy5waWNrZXIpIHtcbiAgICAgICAgdGhpcy5tb3VudFBpY2tlcigpO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMucGlja2VyLmlzVmFsaWRWYWx1ZSkge1xuICAgICAgICByZXR1cm4gdmFsdWUgJiYgdGhpcy5waWNrZXIuaXNWYWxpZFZhbHVlKHZhbHVlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgfVxufSk7XG4vLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3BhY2thZ2VzL2RhdGUtcGlja2VyL3NyYy9waWNrZXIudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzXG4gLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyB2YXIgc3JjX3BpY2tlcnZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzID0gKHBpY2tlcnZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzKTsgXG4vLyBFWFRFUk5BTCBNT0RVTEU6IEM6L1VzZXJzL1R5bGVyVHJvdHRlci9yZXBvcy9Db2duaXRvIEZvcm1zL0NvZ25pdG8uV2ViLkNsaWVudC9ub2RlX21vZHVsZXMvLnBucG0vdnVlLWxvYWRlckAxNS4xMS4xX2Nzcy1sb2FkZXJANS4yLjdfcHJldHRpZXJAMS4xOC4yX3Z1ZS10ZW1wbGF0ZS1jb21waWxlckAyLjcuMTVfd2VicGFja0A0LjQ2LjAvbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3J1bnRpbWUvY29tcG9uZW50Tm9ybWFsaXplci5qc1xudmFyIGNvbXBvbmVudE5vcm1hbGl6ZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG4vLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3BhY2thZ2VzL2RhdGUtcGlja2VyL3NyYy9waWNrZXIudnVlXG5cblxuXG5cblxuLyogbm9ybWFsaXplIGNvbXBvbmVudCAqL1xuXG52YXIgY29tcG9uZW50ID0gT2JqZWN0KGNvbXBvbmVudE5vcm1hbGl6ZXJbXCJhXCIgLyogZGVmYXVsdCAqL10pKFxuICBzcmNfcGlja2VydnVlX3R5cGVfc2NyaXB0X2xhbmdfanMsXG4gIHJlbmRlcixcbiAgc3RhdGljUmVuZGVyRm5zLFxuICBmYWxzZSxcbiAgbnVsbCxcbiAgbnVsbCxcbiAgbnVsbFxuICBcbilcblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyB2YXIgcGlja2VyID0gX193ZWJwYWNrX2V4cG9ydHNfX1tcImFcIl0gPSAoY29tcG9uZW50LmV4cG9ydHMpO1xuXG4vKioqLyB9KSxcbi8qIDM0ICovLFxuLyogMzUgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbi8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IEM6L1VzZXJzL1R5bGVyVHJvdHRlci9yZXBvcy9Db2duaXRvIEZvcm1zL0NvZ25pdG8uV2ViLkNsaWVudC9ub2RlX21vZHVsZXMvLnBucG0vdnVlLWxvYWRlckAxNS4xMS4xX2Nzcy1sb2FkZXJANS4yLjdfcHJldHRpZXJAMS4xOC4yX3Z1ZS10ZW1wbGF0ZS1jb21waWxlckAyLjcuMTVfd2VicGFja0A0LjQ2LjAvbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2xvYWRlcnMvdGVtcGxhdGVMb2FkZXIuanM/P3JlZi0tNSFDOi9Vc2Vycy9UeWxlclRyb3R0ZXIvcmVwb3MvQ29nbml0byBGb3Jtcy9Db2duaXRvLldlYi5DbGllbnQvbm9kZV9tb2R1bGVzLy5wbnBtL3Z1ZS1sb2FkZXJAMTUuMTEuMV9jc3MtbG9hZGVyQDUuMi43X3ByZXR0aWVyQDEuMTguMl92dWUtdGVtcGxhdGUtY29tcGlsZXJAMi43LjE1X3dlYnBhY2tANC40Ni4wL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYj8/dnVlLWxvYWRlci1vcHRpb25zIS4vcGFja2FnZXMvZGF0ZS1waWNrZXIvc3JjL2Jhc2ljL3RpbWUtc3Bpbm5lci52dWU/dnVlJnR5cGU9dGVtcGxhdGUmaWQ9MjRjMzk2N2NcbnZhciByZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG4gIHZhciBfdm0gPSB0aGlzLFxuICAgIF9jID0gX3ZtLl9zZWxmLl9jXG4gIHJldHVybiBfYyhcbiAgICBcImRpdlwiLFxuICAgIHtcbiAgICAgIHN0YXRpY0NsYXNzOiBcImVsLXRpbWUtc3Bpbm5lclwiLFxuICAgICAgY2xhc3M6IHsgXCJoYXMtc2Vjb25kc1wiOiBfdm0uc2hvd1NlY29uZHMsIFwiaGFzLWFtLXBtXCI6IF92bS5zaG93QW1QbSB9XG4gICAgfSxcbiAgICBbXG4gICAgICAhX3ZtLmFycm93Q29udHJvbFxuICAgICAgICA/IFtcbiAgICAgICAgICAgIF9jKFxuICAgICAgICAgICAgICBcImVsLXNjcm9sbGJhclwiLFxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmVmOiBcImhvdXJzXCIsXG4gICAgICAgICAgICAgICAgc3RhdGljQ2xhc3M6IFwiZWwtdGltZS1zcGlubmVyX193cmFwcGVyXCIsXG4gICAgICAgICAgICAgICAgYXR0cnM6IHtcbiAgICAgICAgICAgICAgICAgIFwid3JhcC1zdHlsZVwiOiBcIm1heC1oZWlnaHQ6IGluaGVyaXQ7XCIsXG4gICAgICAgICAgICAgICAgICBcInZpZXctY2xhc3NcIjogXCJlbC10aW1lLXNwaW5uZXJfX2xpc3RcIixcbiAgICAgICAgICAgICAgICAgIG5vcmVzaXplOiBcIlwiLFxuICAgICAgICAgICAgICAgICAgdGFnOiBcInVsXCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG5hdGl2ZU9uOiB7XG4gICAgICAgICAgICAgICAgICBtb3VzZWVudGVyOiBmdW5jdGlvbigkZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF92bS5lbWl0U2VsZWN0UmFuZ2UoXCJob3Vyc1wiKVxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgIG1vdXNlbW92ZTogZnVuY3Rpb24oJGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBfdm0uYWRqdXN0Q3VycmVudFNwaW5uZXIoXCJob3Vyc1wiKVxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgX3ZtLl9sKF92bS5ob3Vyc0xpc3QsIGZ1bmN0aW9uKGRpc2FibGVkLCBob3VyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jKFxuICAgICAgICAgICAgICAgICAgXCJsaVwiLFxuICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBrZXk6IGhvdXIsXG4gICAgICAgICAgICAgICAgICAgIHN0YXRpY0NsYXNzOiBcImVsLXRpbWUtc3Bpbm5lcl9faXRlbVwiLFxuICAgICAgICAgICAgICAgICAgICBjbGFzczoge1xuICAgICAgICAgICAgICAgICAgICAgIGFjdGl2ZTogaG91ciA9PT0gX3ZtLmhvdXJzLFxuICAgICAgICAgICAgICAgICAgICAgIFwiaXMtZGlzYWJsZWRcIjogZGlzYWJsZWRcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgb246IHtcbiAgICAgICAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oJGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3ZtLmhhbmRsZUNsaWNrKFwiaG91cnNcIiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogaG91cixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ6IGRpc2FibGVkXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICAgICAgX3ZtLl92KFxuICAgICAgICAgICAgICAgICAgICAgIF92bS5fcyhfdm0uZm9ybWF0TGlzdEl0ZW0oXCJob3Vyc1wiLCBob3VyKSkgK1xuICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLl9zKF92bS5nZXRBbVBtKGhvdXIsIHsgcHJlZml4OiBcIiBcIiB9KSlcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgIDBcbiAgICAgICAgICAgICksXG4gICAgICAgICAgICBfYyhcbiAgICAgICAgICAgICAgXCJlbC1zY3JvbGxiYXJcIixcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJlZjogXCJtaW51dGVzXCIsXG4gICAgICAgICAgICAgICAgc3RhdGljQ2xhc3M6IFwiZWwtdGltZS1zcGlubmVyX193cmFwcGVyXCIsXG4gICAgICAgICAgICAgICAgYXR0cnM6IHtcbiAgICAgICAgICAgICAgICAgIFwid3JhcC1zdHlsZVwiOiBcIm1heC1oZWlnaHQ6IGluaGVyaXQ7XCIsXG4gICAgICAgICAgICAgICAgICBcInZpZXctY2xhc3NcIjogXCJlbC10aW1lLXNwaW5uZXJfX2xpc3RcIixcbiAgICAgICAgICAgICAgICAgIG5vcmVzaXplOiBcIlwiLFxuICAgICAgICAgICAgICAgICAgdGFnOiBcInVsXCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG5hdGl2ZU9uOiB7XG4gICAgICAgICAgICAgICAgICBtb3VzZWVudGVyOiBmdW5jdGlvbigkZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF92bS5lbWl0U2VsZWN0UmFuZ2UoXCJtaW51dGVzXCIpXG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgbW91c2Vtb3ZlOiBmdW5jdGlvbigkZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF92bS5hZGp1c3RDdXJyZW50U3Bpbm5lcihcIm1pbnV0ZXNcIilcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIF92bS5fbChfdm0ubWludXRlc0xpc3QsIGZ1bmN0aW9uKGVuYWJsZWQsIGtleSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBfYyhcbiAgICAgICAgICAgICAgICAgIFwibGlcIixcbiAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAga2V5OiBrZXksXG4gICAgICAgICAgICAgICAgICAgIHN0YXRpY0NsYXNzOiBcImVsLXRpbWUtc3Bpbm5lcl9faXRlbVwiLFxuICAgICAgICAgICAgICAgICAgICBjbGFzczoge1xuICAgICAgICAgICAgICAgICAgICAgIGFjdGl2ZToga2V5ID09PSBfdm0ubWludXRlcyxcbiAgICAgICAgICAgICAgICAgICAgICBcImlzLWRpc2FibGVkXCI6ICFlbmFibGVkXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIG9uOiB7XG4gICAgICAgICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKCRldmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF92bS5oYW5kbGVDbGljayhcIm1pbnV0ZXNcIiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZToga2V5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZDogZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgW192bS5fdihfdm0uX3MoX3ZtLmZvcm1hdExpc3RJdGVtKFwibWludXRlc1wiLCBrZXkpKSldXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgMFxuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIF9jKFxuICAgICAgICAgICAgICBcImVsLXNjcm9sbGJhclwiLFxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGlyZWN0aXZlczogW1xuICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiBcInNob3dcIixcbiAgICAgICAgICAgICAgICAgICAgcmF3TmFtZTogXCJ2LXNob3dcIixcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IF92bS5zaG93U2Vjb25kcyxcbiAgICAgICAgICAgICAgICAgICAgZXhwcmVzc2lvbjogXCJzaG93U2Vjb25kc1wiXG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICByZWY6IFwic2Vjb25kc1wiLFxuICAgICAgICAgICAgICAgIHN0YXRpY0NsYXNzOiBcImVsLXRpbWUtc3Bpbm5lcl9fd3JhcHBlclwiLFxuICAgICAgICAgICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgICAgICAgICBcIndyYXAtc3R5bGVcIjogXCJtYXgtaGVpZ2h0OiBpbmhlcml0O1wiLFxuICAgICAgICAgICAgICAgICAgXCJ2aWV3LWNsYXNzXCI6IFwiZWwtdGltZS1zcGlubmVyX19saXN0XCIsXG4gICAgICAgICAgICAgICAgICBub3Jlc2l6ZTogXCJcIixcbiAgICAgICAgICAgICAgICAgIHRhZzogXCJ1bFwiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBuYXRpdmVPbjoge1xuICAgICAgICAgICAgICAgICAgbW91c2VlbnRlcjogZnVuY3Rpb24oJGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBfdm0uZW1pdFNlbGVjdFJhbmdlKFwic2Vjb25kc1wiKVxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgIG1vdXNlbW92ZTogZnVuY3Rpb24oJGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBfdm0uYWRqdXN0Q3VycmVudFNwaW5uZXIoXCJzZWNvbmRzXCIpXG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBfdm0uX2woNjAsIGZ1bmN0aW9uKHNlY29uZCwga2V5KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jKFxuICAgICAgICAgICAgICAgICAgXCJsaVwiLFxuICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBrZXk6IGtleSxcbiAgICAgICAgICAgICAgICAgICAgc3RhdGljQ2xhc3M6IFwiZWwtdGltZS1zcGlubmVyX19pdGVtXCIsXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzOiB7IGFjdGl2ZToga2V5ID09PSBfdm0uc2Vjb25kcyB9LFxuICAgICAgICAgICAgICAgICAgICBvbjoge1xuICAgICAgICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbigkZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdm0uaGFuZGxlQ2xpY2soXCJzZWNvbmRzXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGtleSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ6IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgIFtfdm0uX3YoX3ZtLl9zKF92bS5mb3JtYXRMaXN0SXRlbShcInNlY29uZHNcIiwga2V5KSkpXVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgIDBcbiAgICAgICAgICAgICksXG4gICAgICAgICAgICBfYyhcbiAgICAgICAgICAgICAgXCJlbC1zY3JvbGxiYXJcIixcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRpcmVjdGl2ZXM6IFtcbiAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJzaG93XCIsXG4gICAgICAgICAgICAgICAgICAgIHJhd05hbWU6IFwidi1zaG93XCIsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBfdm0uc2hvd0FtUG0sXG4gICAgICAgICAgICAgICAgICAgIGV4cHJlc3Npb246IFwic2hvd0FtUG1cIlxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgcmVmOiBcImFtUG1cIixcbiAgICAgICAgICAgICAgICBzdGF0aWNDbGFzczogXCJlbC10aW1lLXNwaW5uZXJfX3dyYXBwZXJcIixcbiAgICAgICAgICAgICAgICBhdHRyczoge1xuICAgICAgICAgICAgICAgICAgXCJ3cmFwLXN0eWxlXCI6IFwibWF4LWhlaWdodDogaW5oZXJpdDtcIixcbiAgICAgICAgICAgICAgICAgIFwidmlldy1jbGFzc1wiOiBcImVsLXRpbWUtc3Bpbm5lcl9fbGlzdFwiLFxuICAgICAgICAgICAgICAgICAgbm9yZXNpemU6IFwiXCIsXG4gICAgICAgICAgICAgICAgICB0YWc6IFwidWxcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgbmF0aXZlT246IHtcbiAgICAgICAgICAgICAgICAgIG1vdXNlZW50ZXI6IGZ1bmN0aW9uKCRldmVudCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3ZtLmVtaXRTZWxlY3RSYW5nZShcImFtUG1cIilcbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICBtb3VzZW1vdmU6IGZ1bmN0aW9uKCRldmVudCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3ZtLmFkanVzdEN1cnJlbnRTcGlubmVyKFwiYW1QbVwiKVxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgX3ZtLl9sKF92bS5hbVBtTGlzdCwgZnVuY3Rpb24odmFsdWUsIGtleSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBfYyhcbiAgICAgICAgICAgICAgICAgIFwibGlcIixcbiAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAga2V5OiBrZXksXG4gICAgICAgICAgICAgICAgICAgIHN0YXRpY0NsYXNzOiBcImVsLXRpbWUtc3Bpbm5lcl9faXRlbVwiLFxuICAgICAgICAgICAgICAgICAgICBjbGFzczogeyBhY3RpdmU6IGtleSA9PT0gX3ZtLmFtUG0gfSxcbiAgICAgICAgICAgICAgICAgICAgb246IHtcbiAgICAgICAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oJGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3ZtLmhhbmRsZUNsaWNrKFwiYW1QbVwiLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBrZXksXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkOiBmYWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICBbX3ZtLl92KF92bS5fcyhfdm0uZm9ybWF0TGlzdEl0ZW0oXCJhbVBtXCIsIGtleSkpKV1cbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAwXG4gICAgICAgICAgICApXG4gICAgICAgICAgXVxuICAgICAgICA6IF92bS5fZSgpLFxuICAgICAgX3ZtLmFycm93Q29udHJvbFxuICAgICAgICA/IFtcbiAgICAgICAgICAgIF9jKFxuICAgICAgICAgICAgICBcImRpdlwiLFxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3RhdGljQ2xhc3M6IFwiZWwtdGltZS1zcGlubmVyX193cmFwcGVyIGlzLWFycm93XCIsXG4gICAgICAgICAgICAgICAgb246IHtcbiAgICAgICAgICAgICAgICAgIG1vdXNlZW50ZXI6IGZ1bmN0aW9uKCRldmVudCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3ZtLmVtaXRTZWxlY3RSYW5nZShcImhvdXJzXCIpXG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgX2MoXCJpXCIsIHtcbiAgICAgICAgICAgICAgICAgIGRpcmVjdGl2ZXM6IFtcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IFwicmVwZWF0LWNsaWNrXCIsXG4gICAgICAgICAgICAgICAgICAgICAgcmF3TmFtZTogXCJ2LXJlcGVhdC1jbGlja1wiLFxuICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBfdm0uZGVjcmVhc2UsXG4gICAgICAgICAgICAgICAgICAgICAgZXhwcmVzc2lvbjogXCJkZWNyZWFzZVwiXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICBzdGF0aWNDbGFzczogXCJlbC10aW1lLXNwaW5uZXJfX2Fycm93IGVsLWljb24tYXJyb3ctdXBcIlxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIF9jKFwiaVwiLCB7XG4gICAgICAgICAgICAgICAgICBkaXJlY3RpdmVzOiBbXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBcInJlcGVhdC1jbGlja1wiLFxuICAgICAgICAgICAgICAgICAgICAgIHJhd05hbWU6IFwidi1yZXBlYXQtY2xpY2tcIixcbiAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogX3ZtLmluY3JlYXNlLFxuICAgICAgICAgICAgICAgICAgICAgIGV4cHJlc3Npb246IFwiaW5jcmVhc2VcIlxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgc3RhdGljQ2xhc3M6IFwiZWwtdGltZS1zcGlubmVyX19hcnJvdyBlbC1pY29uLWFycm93LWRvd25cIlxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIF9jKFxuICAgICAgICAgICAgICAgICAgXCJ1bFwiLFxuICAgICAgICAgICAgICAgICAgeyByZWY6IFwiaG91cnNcIiwgc3RhdGljQ2xhc3M6IFwiZWwtdGltZS1zcGlubmVyX19saXN0XCIgfSxcbiAgICAgICAgICAgICAgICAgIF92bS5fbChfdm0uYXJyb3dIb3VyTGlzdCwgZnVuY3Rpb24oaG91ciwga2V5KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBfYyhcbiAgICAgICAgICAgICAgICAgICAgICBcImxpXCIsXG4gICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAga2V5OiBrZXksXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0aWNDbGFzczogXCJlbC10aW1lLXNwaW5uZXJfX2l0ZW1cIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGFjdGl2ZTogaG91ciA9PT0gX3ZtLmhvdXJzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBcImlzLWRpc2FibGVkXCI6IF92bS5ob3Vyc0xpc3RbaG91cl1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICAgICAgICAgIF92bS5fdihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLl9zKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhvdXIgPT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IF92bS5mb3JtYXRMaXN0SXRlbShcImhvdXJzXCIsIGhvdXIpICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoX3ZtLnNob3dBbVBtXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogX3ZtLmdldEFtUG0oaG91ciwgeyBwcmVmaXg6IFwiIFwiIH0pKVxuICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgIDBcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICksXG4gICAgICAgICAgICBfYyhcbiAgICAgICAgICAgICAgXCJkaXZcIixcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0YXRpY0NsYXNzOiBcImVsLXRpbWUtc3Bpbm5lcl9fd3JhcHBlciBpcy1hcnJvd1wiLFxuICAgICAgICAgICAgICAgIG9uOiB7XG4gICAgICAgICAgICAgICAgICBtb3VzZWVudGVyOiBmdW5jdGlvbigkZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF92bS5lbWl0U2VsZWN0UmFuZ2UoXCJtaW51dGVzXCIpXG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgX2MoXCJpXCIsIHtcbiAgICAgICAgICAgICAgICAgIGRpcmVjdGl2ZXM6IFtcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IFwicmVwZWF0LWNsaWNrXCIsXG4gICAgICAgICAgICAgICAgICAgICAgcmF3TmFtZTogXCJ2LXJlcGVhdC1jbGlja1wiLFxuICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBfdm0uZGVjcmVhc2UsXG4gICAgICAgICAgICAgICAgICAgICAgZXhwcmVzc2lvbjogXCJkZWNyZWFzZVwiXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICBzdGF0aWNDbGFzczogXCJlbC10aW1lLXNwaW5uZXJfX2Fycm93IGVsLWljb24tYXJyb3ctdXBcIlxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIF9jKFwiaVwiLCB7XG4gICAgICAgICAgICAgICAgICBkaXJlY3RpdmVzOiBbXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBcInJlcGVhdC1jbGlja1wiLFxuICAgICAgICAgICAgICAgICAgICAgIHJhd05hbWU6IFwidi1yZXBlYXQtY2xpY2tcIixcbiAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogX3ZtLmluY3JlYXNlLFxuICAgICAgICAgICAgICAgICAgICAgIGV4cHJlc3Npb246IFwiaW5jcmVhc2VcIlxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgc3RhdGljQ2xhc3M6IFwiZWwtdGltZS1zcGlubmVyX19hcnJvdyBlbC1pY29uLWFycm93LWRvd25cIlxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIF9jKFxuICAgICAgICAgICAgICAgICAgXCJ1bFwiLFxuICAgICAgICAgICAgICAgICAgeyByZWY6IFwibWludXRlc1wiLCBzdGF0aWNDbGFzczogXCJlbC10aW1lLXNwaW5uZXJfX2xpc3RcIiB9LFxuICAgICAgICAgICAgICAgICAgX3ZtLl9sKF92bS5hcnJvd01pbnV0ZUxpc3QsIGZ1bmN0aW9uKG1pbnV0ZSwga2V5KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBfYyhcbiAgICAgICAgICAgICAgICAgICAgICBcImxpXCIsXG4gICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAga2V5OiBrZXksXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0aWNDbGFzczogXCJlbC10aW1lLXNwaW5uZXJfX2l0ZW1cIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzOiB7IGFjdGl2ZTogbWludXRlID09PSBfdm0ubWludXRlcyB9XG4gICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgICAgICAgICBfdm0uX3YoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIFwiXFxuICAgICAgICAgIFwiICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdm0uX3MoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtaW51dGUgPT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBfdm0uZm9ybWF0TGlzdEl0ZW0oXCJtaW51dGVzXCIsIG1pbnV0ZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlxcbiAgICAgICAgXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgMFxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIF92bS5zaG93U2Vjb25kc1xuICAgICAgICAgICAgICA/IF9jKFxuICAgICAgICAgICAgICAgICAgXCJkaXZcIixcbiAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhdGljQ2xhc3M6IFwiZWwtdGltZS1zcGlubmVyX193cmFwcGVyIGlzLWFycm93XCIsXG4gICAgICAgICAgICAgICAgICAgIG9uOiB7XG4gICAgICAgICAgICAgICAgICAgICAgbW91c2VlbnRlcjogZnVuY3Rpb24oJGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3ZtLmVtaXRTZWxlY3RSYW5nZShcInNlY29uZHNcIilcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgICAgIF9jKFwiaVwiLCB7XG4gICAgICAgICAgICAgICAgICAgICAgZGlyZWN0aXZlczogW1xuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBcInJlcGVhdC1jbGlja1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICByYXdOYW1lOiBcInYtcmVwZWF0LWNsaWNrXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBfdm0uZGVjcmVhc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGV4cHJlc3Npb246IFwiZGVjcmVhc2VcIlxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAgICAgc3RhdGljQ2xhc3M6IFwiZWwtdGltZS1zcGlubmVyX19hcnJvdyBlbC1pY29uLWFycm93LXVwXCJcbiAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgIF9jKFwiaVwiLCB7XG4gICAgICAgICAgICAgICAgICAgICAgZGlyZWN0aXZlczogW1xuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBcInJlcGVhdC1jbGlja1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICByYXdOYW1lOiBcInYtcmVwZWF0LWNsaWNrXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBfdm0uaW5jcmVhc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGV4cHJlc3Npb246IFwiaW5jcmVhc2VcIlxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAgICAgc3RhdGljQ2xhc3M6IFwiZWwtdGltZS1zcGlubmVyX19hcnJvdyBlbC1pY29uLWFycm93LWRvd25cIlxuICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgX2MoXG4gICAgICAgICAgICAgICAgICAgICAgXCJ1bFwiLFxuICAgICAgICAgICAgICAgICAgICAgIHsgcmVmOiBcInNlY29uZHNcIiwgc3RhdGljQ2xhc3M6IFwiZWwtdGltZS1zcGlubmVyX19saXN0XCIgfSxcbiAgICAgICAgICAgICAgICAgICAgICBfdm0uX2woX3ZtLmFycm93U2Vjb25kTGlzdCwgZnVuY3Rpb24oc2Vjb25kLCBrZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfYyhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgXCJsaVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5OiBrZXksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGljQ2xhc3M6IFwiZWwtdGltZS1zcGlubmVyX19pdGVtXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M6IHsgYWN0aXZlOiBzZWNvbmQgPT09IF92bS5zZWNvbmRzIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF92bS5fdihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiXFxuICAgICAgICAgIFwiICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLl9zKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlY29uZCA9PT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogX3ZtLmZvcm1hdExpc3RJdGVtKFwic2Vjb25kc1wiLCBzZWNvbmQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlxcbiAgICAgICAgXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAwXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgIDogX3ZtLl9lKCksXG4gICAgICAgICAgICBfdm0uc2hvd0FtUG1cbiAgICAgICAgICAgICAgPyBfYyhcbiAgICAgICAgICAgICAgICAgIFwiZGl2XCIsXG4gICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXRpY0NsYXNzOiBcImVsLXRpbWUtc3Bpbm5lcl9fd3JhcHBlciBpcy1hcnJvd1wiLFxuICAgICAgICAgICAgICAgICAgICBvbjoge1xuICAgICAgICAgICAgICAgICAgICAgIG1vdXNlZW50ZXI6IGZ1bmN0aW9uKCRldmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF92bS5lbWl0U2VsZWN0UmFuZ2UoXCJhbVBtXCIpXG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgICAgICBfYyhcImlcIiwge1xuICAgICAgICAgICAgICAgICAgICAgIGRpcmVjdGl2ZXM6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJyZXBlYXQtY2xpY2tcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcmF3TmFtZTogXCJ2LXJlcGVhdC1jbGlja1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogX3ZtLmRlY3JlYXNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBleHByZXNzaW9uOiBcImRlY3JlYXNlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICAgIHN0YXRpY0NsYXNzOiBcImVsLXRpbWUtc3Bpbm5lcl9fYXJyb3cgZWwtaWNvbi1hcnJvdy11cFwiXG4gICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICBfYyhcImlcIiwge1xuICAgICAgICAgICAgICAgICAgICAgIGRpcmVjdGl2ZXM6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJyZXBlYXQtY2xpY2tcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcmF3TmFtZTogXCJ2LXJlcGVhdC1jbGlja1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogX3ZtLmluY3JlYXNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBleHByZXNzaW9uOiBcImluY3JlYXNlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICAgIHN0YXRpY0NsYXNzOiBcImVsLXRpbWUtc3Bpbm5lcl9fYXJyb3cgZWwtaWNvbi1hcnJvdy1kb3duXCJcbiAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgIF9jKFxuICAgICAgICAgICAgICAgICAgICAgIFwidWxcIixcbiAgICAgICAgICAgICAgICAgICAgICB7IHJlZjogXCJhbVBtXCIsIHN0YXRpY0NsYXNzOiBcImVsLXRpbWUtc3Bpbm5lcl9fbGlzdFwiIH0sXG4gICAgICAgICAgICAgICAgICAgICAgX3ZtLl9sKF92bS5hcnJvd0FtUG1MaXN0LCBmdW5jdGlvbihhbU9yUG0sIGtleSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jKFxuICAgICAgICAgICAgICAgICAgICAgICAgICBcImxpXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk6IGtleSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0aWNDbGFzczogXCJlbC10aW1lLXNwaW5uZXJfX2l0ZW1cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzczogeyBhY3RpdmU6IGFtT3JQbSA9PT0gX3ZtLmFtUG0gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLl92KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJcXG4gICAgICAgICAgXCIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdm0uX3MoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYW1PclBtID09PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBfdm0uZm9ybWF0TGlzdEl0ZW0oXCJhbVBtXCIsIGFtT3JQbSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiXFxuICAgICAgICBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICAgIDBcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgOiBfdm0uX2UoKVxuICAgICAgICAgIF1cbiAgICAgICAgOiBfdm0uX2UoKVxuICAgIF0sXG4gICAgMlxuICApXG59XG52YXIgc3RhdGljUmVuZGVyRm5zID0gW11cbnJlbmRlci5fd2l0aFN0cmlwcGVkID0gdHJ1ZVxuXG5cbi8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vcGFja2FnZXMvZGF0ZS1waWNrZXIvc3JjL2Jhc2ljL3RpbWUtc3Bpbm5lci52dWU/dnVlJnR5cGU9dGVtcGxhdGUmaWQ9MjRjMzk2N2NcblxuLy8gRVhURVJOQUwgTU9EVUxFOiBleHRlcm5hbCBcIi4vdXRpbHMvZGF0ZS11dGlsXCJcbnZhciBkYXRlX3V0aWxfID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblxuLy8gRVhURVJOQUwgTU9EVUxFOiBleHRlcm5hbCBcIi4vc2Nyb2xsYmFyXCJcbnZhciBleHRlcm5hbF9zY3JvbGxiYXJfID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNSk7XG52YXIgZXh0ZXJuYWxfc2Nyb2xsYmFyX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKGV4dGVybmFsX3Njcm9sbGJhcl8pO1xuXG4vLyBFWFRFUk5BTCBNT0RVTEU6IGV4dGVybmFsIFwiQGNvZ25pdG9mb3Jtcy9lbGVtZW50LXVpL3NyYy9kaXJlY3RpdmVzL3JlcGVhdC1jbGlja1wiXG52YXIgcmVwZWF0X2NsaWNrXyA9IF9fd2VicGFja19yZXF1aXJlX18oMzApO1xudmFyIHJlcGVhdF9jbGlja19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihyZXBlYXRfY2xpY2tfKTtcblxuLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogQzovVXNlcnMvVHlsZXJUcm90dGVyL3JlcG9zL0NvZ25pdG8gRm9ybXMvQ29nbml0by5XZWIuQ2xpZW50L25vZGVfbW9kdWxlcy8ucG5wbS9iYWJlbC1sb2FkZXJAOC4zLjBfQGJhYmVsK2NvcmVANy4yNS4yX3dlYnBhY2tANC40Ni4wL25vZGVfbW9kdWxlcy9iYWJlbC1sb2FkZXIvbGliIUM6L1VzZXJzL1R5bGVyVHJvdHRlci9yZXBvcy9Db2duaXRvIEZvcm1zL0NvZ25pdG8uV2ViLkNsaWVudC9ub2RlX21vZHVsZXMvLnBucG0vdnVlLWxvYWRlckAxNS4xMS4xX2Nzcy1sb2FkZXJANS4yLjdfcHJldHRpZXJAMS4xOC4yX3Z1ZS10ZW1wbGF0ZS1jb21waWxlckAyLjcuMTVfd2VicGFja0A0LjQ2LjAvbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9wYWNrYWdlcy9kYXRlLXBpY2tlci9zcmMvYmFzaWMvdGltZS1zcGlubmVyLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qc1xuXG5cblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyB2YXIgdGltZV9zcGlubmVydnVlX3R5cGVfc2NyaXB0X2xhbmdfanMgPSAoe1xuICBjb21wb25lbnRzOiB7XG4gICAgRWxTY3JvbGxiYXI6IGV4dGVybmFsX3Njcm9sbGJhcl9kZWZhdWx0LmFcbiAgfSxcbiAgZGlyZWN0aXZlczoge1xuICAgIHJlcGVhdENsaWNrOiByZXBlYXRfY2xpY2tfZGVmYXVsdC5hXG4gIH0sXG4gIHByb3BzOiB7XG4gICAgZGF0ZToge30sXG4gICAgZGVmYXVsdFZhbHVlOiB7fSxcbiAgICAvLyByZXNlcnZlZCBmb3IgZnV0dXJlIHVzZVxuICAgIHNob3dTZWNvbmRzOiB7XG4gICAgICB0eXBlOiBCb29sZWFuLFxuICAgICAgZGVmYXVsdDogdHJ1ZVxuICAgIH0sXG4gICAgc2hvd0FtUG06IHtcbiAgICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgICBkZWZhdWx0OiBmYWxzZVxuICAgIH0sXG4gICAgYXJyb3dDb250cm9sOiBCb29sZWFuLFxuICAgIGFtUG1Nb2RlOiB7XG4gICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICBkZWZhdWx0OiAnJyAvLyAnYSc6IGFtL3BtOyAnQSc6IEFNL1BNXG4gICAgfSxcbiAgICB0d2VsdmVIb3VyQ2xvY2s6IEJvb2xlYW4sXG4gICAgemVyb1BhZEhvdXI6IEJvb2xlYW5cbiAgfSxcbiAgY29tcHV0ZWQ6IHtcbiAgICBob3VycygpIHtcbiAgICAgIHJldHVybiB0aGlzLmRhdGUuZ2V0SG91cnMoKTtcbiAgICB9LFxuICAgIG1pbnV0ZXMoKSB7XG4gICAgICByZXR1cm4gdGhpcy5kYXRlLmdldE1pbnV0ZXMoKTtcbiAgICB9LFxuICAgIHNlY29uZHMoKSB7XG4gICAgICByZXR1cm4gdGhpcy5kYXRlLmdldFNlY29uZHMoKTtcbiAgICB9LFxuICAgIGFtUG0oKSB7XG4gICAgICByZXR1cm4gdGhpcy5kYXRlLmdldEhvdXJzKCkgPj0gMTIgPyAxIDogMDtcbiAgICB9LFxuICAgIGhvdXJzTGlzdCgpIHtcbiAgICAgIHJldHVybiBPYmplY3QoZGF0ZV91dGlsX1tcImdldFJhbmdlSG91cnNcIl0pKHRoaXMuc2VsZWN0YWJsZVJhbmdlKTtcbiAgICB9LFxuICAgIG1pbnV0ZXNMaXN0KCkge1xuICAgICAgcmV0dXJuIE9iamVjdChkYXRlX3V0aWxfW1wiZ2V0UmFuZ2VNaW51dGVzXCJdKSh0aGlzLnNlbGVjdGFibGVSYW5nZSwgdGhpcy5ob3Vycyk7XG4gICAgfSxcbiAgICBhbVBtTGlzdCgpIHtcbiAgICAgIHJldHVybiBbMCwgMV07XG4gICAgfSxcbiAgICBhcnJvd0hvdXJMaXN0KCkge1xuICAgICAgY29uc3QgaG91cnMgPSB0aGlzLmhvdXJzO1xuICAgICAgLy8gT25seSBzaG93IDEyIGhvdXJzIGlmIHRvZ2dsaW5nIEFNL1BNXG4gICAgICBjb25zdCBtaW5Ib3VyID0gdGhpcy5zaG93QW1QbSA/IHRoaXMuYW1QbSA/IDEyIDogMCA6IDA7XG4gICAgICBjb25zdCBtYXhIb3VyID0gdGhpcy5zaG93QW1QbSA/IHRoaXMuYW1QbSA/IDIzIDogMTEgOiAyMztcbiAgICAgIHJldHVybiBbaG91cnMgPiBtaW5Ib3VyID8gaG91cnMgLSAxIDogdW5kZWZpbmVkLCBob3VycywgaG91cnMgPCBtYXhIb3VyID8gaG91cnMgKyAxIDogdW5kZWZpbmVkXTtcbiAgICB9LFxuICAgIGFycm93TWludXRlTGlzdCgpIHtcbiAgICAgIGNvbnN0IG1pbnV0ZXMgPSB0aGlzLm1pbnV0ZXM7XG4gICAgICByZXR1cm4gW21pbnV0ZXMgPiAwID8gbWludXRlcyAtIDEgOiB1bmRlZmluZWQsIG1pbnV0ZXMsIG1pbnV0ZXMgPCA1OSA/IG1pbnV0ZXMgKyAxIDogdW5kZWZpbmVkXTtcbiAgICB9LFxuICAgIGFycm93U2Vjb25kTGlzdCgpIHtcbiAgICAgIGNvbnN0IHNlY29uZHMgPSB0aGlzLnNlY29uZHM7XG4gICAgICByZXR1cm4gW3NlY29uZHMgPiAwID8gc2Vjb25kcyAtIDEgOiB1bmRlZmluZWQsIHNlY29uZHMsIHNlY29uZHMgPCA1OSA/IHNlY29uZHMgKyAxIDogdW5kZWZpbmVkXTtcbiAgICB9LFxuICAgIGFycm93QW1QbUxpc3QoKSB7XG4gICAgICB2YXIgbGlzdCA9IHRoaXMuYW1QbU1vZGUgPyBbMCwgMV0gOiBbXTtcbiAgICAgIC8vIFNpbmNlIHRoZXJlIGFyZSBvbmx5IHR3byBvcHRpb25zIGZvciBBTS9QTSwgcHJlcGVuZCBvciBhcHBlbmRcbiAgICAgIC8vIGEgYmxhbmsgb3B0aW9uIGRlcGVuZGluZyBvbiB3aGF0IGlzIGN1cnJlbnRseSBzZWxlY3RlZFxuICAgICAgaWYgKGxpc3QubGVuZ3RoKSB7XG4gICAgICAgIGlmICh0aGlzLmFtUG0pIHtcbiAgICAgICAgICBsaXN0LnB1c2godW5kZWZpbmVkKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBsaXN0LnNwbGljZSgwLCAwLCB1bmRlZmluZWQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gbGlzdDtcbiAgICB9XG4gIH0sXG4gIGRhdGEoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHNlbGVjdGFibGVSYW5nZTogW10sXG4gICAgICBjdXJyZW50U2Nyb2xsYmFyOiBudWxsXG4gICAgfTtcbiAgfSxcbiAgbW91bnRlZCgpIHtcbiAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7XG4gICAgICAhdGhpcy5hcnJvd0NvbnRyb2wgJiYgdGhpcy5iaW5kU2Nyb2xsRXZlbnQoKTtcbiAgICB9KTtcbiAgfSxcbiAgbWV0aG9kczoge1xuICAgIGluY3JlYXNlKCkge1xuICAgICAgdGhpcy5zY3JvbGxEb3duKDEpO1xuICAgIH0sXG4gICAgZGVjcmVhc2UoKSB7XG4gICAgICB0aGlzLnNjcm9sbERvd24oLTEpO1xuICAgIH0sXG4gICAgbW9kaWZ5RGF0ZUZpZWxkKHR5cGUsIHZhbHVlKSB7XG4gICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgY2FzZSAnaG91cnMnOlxuICAgICAgICAgIHRoaXMuJGVtaXQoJ2NoYW5nZScsIE9iamVjdChkYXRlX3V0aWxfW1wibW9kaWZ5VGltZVwiXSkodGhpcy5kYXRlLCB2YWx1ZSwgdGhpcy5taW51dGVzLCB0aGlzLnNlY29uZHMpKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnbWludXRlcyc6XG4gICAgICAgICAgdGhpcy4kZW1pdCgnY2hhbmdlJywgT2JqZWN0KGRhdGVfdXRpbF9bXCJtb2RpZnlUaW1lXCJdKSh0aGlzLmRhdGUsIHRoaXMuaG91cnMsIHZhbHVlLCB0aGlzLnNlY29uZHMpKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnc2Vjb25kcyc6XG4gICAgICAgICAgdGhpcy4kZW1pdCgnY2hhbmdlJywgT2JqZWN0KGRhdGVfdXRpbF9bXCJtb2RpZnlUaW1lXCJdKSh0aGlzLmRhdGUsIHRoaXMuaG91cnMsIHRoaXMubWludXRlcywgdmFsdWUpKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnYW1QbSc6XG4gICAgICAgICAgdGhpcy4kZW1pdCgnY2hhbmdlJywgT2JqZWN0KGRhdGVfdXRpbF9bXCJtb2RpZnlUaW1lXCJdKSh0aGlzLmRhdGUsIHRoaXMuaG91cnMgJSAxMiArICh2YWx1ZSA/IDEyIDogMCksIHRoaXMubWludXRlcywgdGhpcy5zZWNvbmRzKSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfSxcbiAgICBoYW5kbGVDbGljayh0eXBlLCBfcmVmKSB7XG4gICAgICBsZXQge1xuICAgICAgICB2YWx1ZSxcbiAgICAgICAgZGlzYWJsZWRcbiAgICAgIH0gPSBfcmVmO1xuICAgICAgaWYgKCFkaXNhYmxlZCkge1xuICAgICAgICB0aGlzLm1vZGlmeURhdGVGaWVsZCh0eXBlLCB2YWx1ZSk7XG4gICAgICAgIHRoaXMuZW1pdFNlbGVjdFJhbmdlKHR5cGUpO1xuICAgICAgICB0aGlzLmFkanVzdFNwaW5uZXIodHlwZSwgdmFsdWUpO1xuICAgICAgfVxuICAgIH0sXG4gICAgZm9ybWF0TGlzdEl0ZW0odHlwZSwgdmFsdWUpIHtcbiAgICAgIGxldCB0ZXh0O1xuICAgICAgaWYgKHR5cGUgPT09ICdob3VycycpIHtcbiAgICAgICAgdGV4dCA9ICgnMCcgKyAodGhpcy50d2VsdmVIb3VyQ2xvY2sgPyB2YWx1ZSAlIDEyIHx8IDEyIDogdmFsdWUpKS5zbGljZSgtMik7XG4gICAgICAgIGlmICghdGhpcy56ZXJvUGFkSG91cikge1xuICAgICAgICAgIHRleHQgPSB0ZXh0LnJlcGxhY2UoL14wLywgJycpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdtaW51dGVzJykge1xuICAgICAgICB0ZXh0ID0gKCcwJyArIHZhbHVlKS5zbGljZSgtMik7XG4gICAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdzZWNvbmRzJykge1xuICAgICAgICB0ZXh0ID0gKCcwJyArIHZhbHVlKS5zbGljZSgtMik7XG4gICAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdhbVBtJykge1xuICAgICAgICB0ZXh0ID0gdmFsdWUgPyB0aGlzLmdldEFtUG0oMTIpIDogdGhpcy5nZXRBbVBtKDApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGV4dCA9IHZhbHVlICsgJyc7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGV4dDtcbiAgICB9LFxuICAgIGVtaXRTZWxlY3RSYW5nZSh0eXBlKSB7XG4gICAgICBjb25zdCBob3Vyc0xlbiA9ICF0aGlzLnplcm9QYWRIb3VyICYmICh0aGlzLnR3ZWx2ZUhvdXJDbG9jayA/IHRoaXMuZGF0ZS5nZXRIb3VycygpICUgMTIgfHwgMTIgOiB0aGlzLmRhdGUuZ2V0SG91cnMoKSkgPCAxMCA/IDEgOiAyO1xuICAgICAgY29uc3Qgc2Vjb25kc09mZnNldCA9IHRoaXMuc2hvd1NlY29uZHMgPyAzIDogMDtcbiAgICAgIGlmICh0eXBlID09PSAnaG91cnMnKSB7XG4gICAgICAgIHRoaXMuJGVtaXQoJ3NlbGVjdC1yYW5nZScsIDAsIGhvdXJzTGVuKTtcbiAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ21pbnV0ZXMnKSB7XG4gICAgICAgIHRoaXMuJGVtaXQoJ3NlbGVjdC1yYW5nZScsIDMgLSAoMiAtIGhvdXJzTGVuKSwgNSAtICgyIC0gaG91cnNMZW4pKTtcbiAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ3NlY29uZHMnKSB7XG4gICAgICAgIHRoaXMuJGVtaXQoJ3NlbGVjdC1yYW5nZScsIDYgLSAoMiAtIGhvdXJzTGVuKSwgOCAtICgyIC0gaG91cnNMZW4pKTtcbiAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ2FtUG0nKSB7XG4gICAgICAgIHRoaXMuJGVtaXQoJ3NlbGVjdC1yYW5nZScsIDYgKyBzZWNvbmRzT2Zmc2V0IC0gKDIgLSBob3Vyc0xlbiksIDggKyBzZWNvbmRzT2Zmc2V0IC0gKDIgLSBob3Vyc0xlbikpO1xuICAgICAgfVxuICAgICAgdGhpcy5jdXJyZW50U2Nyb2xsYmFyID0gdHlwZTtcbiAgICB9LFxuICAgIGJpbmRTY3JvbGxFdmVudCgpIHtcbiAgICAgIGNvbnN0IGJpbmRGdW50aW9uID0gdHlwZSA9PiB7XG4gICAgICAgIHRoaXMuJHJlZnNbdHlwZV0ud3JhcC5vbnNjcm9sbCA9IGUgPT4ge1xuICAgICAgICAgIC8vIFRPRE86IHNjcm9sbCBpcyBlbWl0dGVkIHdoZW4gc2V0IHNjcm9sbFRvcCBwcm9ncmFtYXRpY2FsbHlcbiAgICAgICAgICAvLyBzaG91bGQgZmluZCBiZXR0ZXIgc29sdXRpb25zIGluIHRoZSBmdXR1cmUhXG4gICAgICAgICAgdGhpcy5oYW5kbGVTY3JvbGwodHlwZSwgZSk7XG4gICAgICAgIH07XG4gICAgICB9O1xuICAgICAgYmluZEZ1bnRpb24oJ2hvdXJzJyk7XG4gICAgICBiaW5kRnVudGlvbignbWludXRlcycpO1xuICAgICAgYmluZEZ1bnRpb24oJ3NlY29uZHMnKTtcbiAgICAgIGJpbmRGdW50aW9uKCdhbVBtJyk7XG4gICAgfSxcbiAgICBoYW5kbGVTY3JvbGwodHlwZSkge1xuICAgICAgY29uc3QgdmFsdWUgPSBNYXRoLm1pbihNYXRoLnJvdW5kKCh0aGlzLiRyZWZzW3R5cGVdLndyYXAuc2Nyb2xsVG9wIC0gKHRoaXMuc2Nyb2xsQmFySGVpZ2h0KHR5cGUpICogMC41IC0gMTApIC8gdGhpcy50eXBlSXRlbUhlaWdodCh0eXBlKSArIDMpIC8gdGhpcy50eXBlSXRlbUhlaWdodCh0eXBlKSksIHR5cGUgPT09ICdob3VycycgPyAyMyA6IDU5KTtcbiAgICAgIHRoaXMubW9kaWZ5RGF0ZUZpZWxkKHR5cGUsIHZhbHVlKTtcbiAgICB9LFxuICAgIC8vIE5PVEU6IHVzZWQgYnkgZGF0ZXRpbWUgLyBkYXRlLXJhbmdlIHBhbmVsXG4gICAgLy8gICAgICAgcmVuYW1lZCBmcm9tIGFkanVzdFNjcm9sbFRvcFxuICAgIC8vICAgICAgIHNob3VsZCB0cnkgdG8gcmVmYWN0b3J5IGl0XG4gICAgYWRqdXN0U3Bpbm5lcnMoKSB7XG4gICAgICB0aGlzLmFkanVzdFNwaW5uZXIoJ2hvdXJzJywgdGhpcy5ob3Vycyk7XG4gICAgICB0aGlzLmFkanVzdFNwaW5uZXIoJ21pbnV0ZXMnLCB0aGlzLm1pbnV0ZXMpO1xuICAgICAgdGhpcy5hZGp1c3RTcGlubmVyKCdzZWNvbmRzJywgdGhpcy5zZWNvbmRzKTtcbiAgICAgIHRoaXMuYWRqdXN0U3Bpbm5lcignYW1QbScsIHRoaXMuYW1QbSk7XG4gICAgfSxcbiAgICBhZGp1c3RDdXJyZW50U3Bpbm5lcih0eXBlKSB7XG4gICAgICB0aGlzLmFkanVzdFNwaW5uZXIodHlwZSwgdGhpc1t0eXBlXSk7XG4gICAgfSxcbiAgICBhZGp1c3RTcGlubmVyKHR5cGUsIHZhbHVlKSB7XG4gICAgICBpZiAodGhpcy5hcnJvd0NvbnRyb2wpIHJldHVybjtcbiAgICAgIGNvbnN0IGVsID0gdGhpcy4kcmVmc1t0eXBlXS53cmFwO1xuICAgICAgaWYgKGVsKSB7XG4gICAgICAgIGVsLnNjcm9sbFRvcCA9IE1hdGgubWF4KDAsIHZhbHVlICogdGhpcy50eXBlSXRlbUhlaWdodCh0eXBlKSk7XG4gICAgICB9XG4gICAgfSxcbiAgICBzY3JvbGxEb3duKHN0ZXApIHtcbiAgICAgIGlmICghdGhpcy5jdXJyZW50U2Nyb2xsYmFyKSB7XG4gICAgICAgIHRoaXMuZW1pdFNlbGVjdFJhbmdlKCdob3VycycpO1xuICAgICAgfVxuICAgICAgdmFyIGxhYmVsID0gdGhpcy5jdXJyZW50U2Nyb2xsYmFyO1xuICAgICAgY29uc3QgaG91cnNMaXN0ID0gdGhpcy5ob3Vyc0xpc3Q7XG4gICAgICBsZXQgbm93ID0gdGhpc1tsYWJlbF07XG4gICAgICBpZiAobGFiZWwgPT09ICdhbVBtJykge1xuICAgICAgICBpZiAobm93ID09PSAwKSB7XG4gICAgICAgICAgc3RlcCA9IDEyO1xuICAgICAgICAgIGxhYmVsID0gJ2hvdXJzJztcbiAgICAgICAgICBub3cgPSB0aGlzLmhvdXJzO1xuICAgICAgICB9IGVsc2UgaWYgKG5vdyA9PT0gMSkge1xuICAgICAgICAgIHN0ZXAgPSAtMTI7XG4gICAgICAgICAgbGFiZWwgPSAnaG91cnMnO1xuICAgICAgICAgIG5vdyA9IHRoaXMuaG91cnM7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAobGFiZWwgPT09ICdob3VycycpIHtcbiAgICAgICAgbGV0IHRvdGFsID0gTWF0aC5hYnMoc3RlcCk7XG4gICAgICAgIHN0ZXAgPSBzdGVwID4gMCA/IDEgOiAtMTtcbiAgICAgICAgbGV0IGxlbmd0aCA9IGhvdXJzTGlzdC5sZW5ndGg7XG4gICAgICAgIHdoaWxlIChsZW5ndGgtLSAmJiB0b3RhbCkge1xuICAgICAgICAgIG5vdyA9IChub3cgKyBzdGVwICsgaG91cnNMaXN0Lmxlbmd0aCkgJSBob3Vyc0xpc3QubGVuZ3RoO1xuICAgICAgICAgIGlmIChob3Vyc0xpc3Rbbm93XSkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRvdGFsLS07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGhvdXJzTGlzdFtub3ddKSByZXR1cm47XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBub3cgPSAobm93ICsgc3RlcCArIDYwKSAlIDYwO1xuICAgICAgfVxuICAgICAgdGhpcy5tb2RpZnlEYXRlRmllbGQobGFiZWwsIG5vdyk7XG4gICAgICB0aGlzLmFkanVzdFNwaW5uZXIobGFiZWwsIG5vdyk7XG4gICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB0aGlzLmVtaXRTZWxlY3RSYW5nZSh0aGlzLmN1cnJlbnRTY3JvbGxiYXIpKTtcbiAgICB9LFxuICAgIGdldEFtUG0oaG91ciwgb3B0aW9ucykge1xuICAgICAgY29uc3QgcHJlZml4ID0gb3B0aW9ucyAmJiB0eXBlb2Ygb3B0aW9ucy5wcmVmaXggPT09ICdzdHJpbmcnID8gb3B0aW9ucy5wcmVmaXggOiAnJztcbiAgICAgIGxldCBzaG91bGRTaG93QW1QbSA9IHRoaXMuYW1QbU1vZGUudG9Mb3dlckNhc2UoKSA9PT0gJ2EnO1xuICAgICAgaWYgKCFzaG91bGRTaG93QW1QbSkgcmV0dXJuICcnO1xuICAgICAgbGV0IGlzQ2FwaXRhbCA9IHRoaXMuYW1QbU1vZGUgPT09ICdBJztcbiAgICAgIGNvbnN0IGkxOG4gPSBPYmplY3QoZGF0ZV91dGlsX1tcImdldEkxOG5TZXR0aW5nc1wiXSkoKTtcbiAgICAgIGxldCBjb250ZW50ID0gaG91ciA8IDEyID8gaTE4bi5hbVBtWzBdIHx8ICdhbScgOiBpMThuLmFtUG1bMV0gfHwgJ3BtJztcbiAgICAgIGlmIChpc0NhcGl0YWwpIHtcbiAgICAgICAgY29udGVudCA9IGNvbnRlbnQudG9VcHBlckNhc2UoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnRlbnQgPSBjb250ZW50LnRvTG93ZXJDYXNlKCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcHJlZml4ICsgY29udGVudDtcbiAgICB9LFxuICAgIHR5cGVJdGVtSGVpZ2h0KHR5cGUpIHtcbiAgICAgIHJldHVybiB0aGlzLiRyZWZzW3R5cGVdLiRlbC5xdWVyeVNlbGVjdG9yKCdsaScpLm9mZnNldEhlaWdodDtcbiAgICB9LFxuICAgIHNjcm9sbEJhckhlaWdodCh0eXBlKSB7XG4gICAgICByZXR1cm4gdGhpcy4kcmVmc1t0eXBlXS4kZWwub2Zmc2V0SGVpZ2h0O1xuICAgIH1cbiAgfVxufSk7XG4vLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3BhY2thZ2VzL2RhdGUtcGlja2VyL3NyYy9iYXNpYy90aW1lLXNwaW5uZXIudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzXG4gLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyB2YXIgYmFzaWNfdGltZV9zcGlubmVydnVlX3R5cGVfc2NyaXB0X2xhbmdfanMgPSAodGltZV9zcGlubmVydnVlX3R5cGVfc2NyaXB0X2xhbmdfanMpOyBcbi8vIEVYVEVSTkFMIE1PRFVMRTogQzovVXNlcnMvVHlsZXJUcm90dGVyL3JlcG9zL0NvZ25pdG8gRm9ybXMvQ29nbml0by5XZWIuQ2xpZW50L25vZGVfbW9kdWxlcy8ucG5wbS92dWUtbG9hZGVyQDE1LjExLjFfY3NzLWxvYWRlckA1LjIuN19wcmV0dGllckAxLjE4LjJfdnVlLXRlbXBsYXRlLWNvbXBpbGVyQDIuNy4xNV93ZWJwYWNrQDQuNDYuMC9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvcnVudGltZS9jb21wb25lbnROb3JtYWxpemVyLmpzXG52YXIgY29tcG9uZW50Tm9ybWFsaXplciA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cbi8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vcGFja2FnZXMvZGF0ZS1waWNrZXIvc3JjL2Jhc2ljL3RpbWUtc3Bpbm5lci52dWVcblxuXG5cblxuXG4vKiBub3JtYWxpemUgY29tcG9uZW50ICovXG5cbnZhciBjb21wb25lbnQgPSBPYmplY3QoY29tcG9uZW50Tm9ybWFsaXplcltcImFcIiAvKiBkZWZhdWx0ICovXSkoXG4gIGJhc2ljX3RpbWVfc3Bpbm5lcnZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzLFxuICByZW5kZXIsXG4gIHN0YXRpY1JlbmRlckZucyxcbiAgZmFsc2UsXG4gIG51bGwsXG4gIG51bGwsXG4gIG51bGxcbiAgXG4pXG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gdmFyIHRpbWVfc3Bpbm5lciA9IF9fd2VicGFja19leHBvcnRzX19bXCJhXCJdID0gKGNvbXBvbmVudC5leHBvcnRzKTtcblxuLyoqKi8gfSksXG4vKiAzNiAqLyxcbi8qIDM3ICovLFxuLyogMzggKi8sXG4vKiAzOSAqLyxcbi8qIDQwICovLFxuLyogNDEgKi8sXG4vKiA0MiAqLyxcbi8qIDQzICovLFxuLyogNDQgKi8sXG4vKiA0NSAqLyxcbi8qIDQ2ICovLFxuLyogNDcgKi8sXG4vKiA0OCAqLyxcbi8qIDQ5ICovLFxuLyogNTAgKi8sXG4vKiA1MSAqLyxcbi8qIDUyICovLFxuLyogNTMgKi8sXG4vKiA1NCAqLyxcbi8qIDU1ICovLFxuLyogNTYgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vLyBFU00gQ09NUEFUIEZMQUdcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcblxuLy8gRVhURVJOQUwgTU9EVUxFOiAuL3BhY2thZ2VzL2RhdGUtcGlja2VyL3NyYy9waWNrZXIudnVlICsgNCBtb2R1bGVzXG52YXIgcGlja2VyID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMyk7XG5cbi8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IEM6L1VzZXJzL1R5bGVyVHJvdHRlci9yZXBvcy9Db2duaXRvIEZvcm1zL0NvZ25pdG8uV2ViLkNsaWVudC9ub2RlX21vZHVsZXMvLnBucG0vdnVlLWxvYWRlckAxNS4xMS4xX2Nzcy1sb2FkZXJANS4yLjdfcHJldHRpZXJAMS4xOC4yX3Z1ZS10ZW1wbGF0ZS1jb21waWxlckAyLjcuMTVfd2VicGFja0A0LjQ2LjAvbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2xvYWRlcnMvdGVtcGxhdGVMb2FkZXIuanM/P3JlZi0tNSFDOi9Vc2Vycy9UeWxlclRyb3R0ZXIvcmVwb3MvQ29nbml0byBGb3Jtcy9Db2duaXRvLldlYi5DbGllbnQvbm9kZV9tb2R1bGVzLy5wbnBtL3Z1ZS1sb2FkZXJAMTUuMTEuMV9jc3MtbG9hZGVyQDUuMi43X3ByZXR0aWVyQDEuMTguMl92dWUtdGVtcGxhdGUtY29tcGlsZXJAMi43LjE1X3dlYnBhY2tANC40Ni4wL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYj8/dnVlLWxvYWRlci1vcHRpb25zIS4vcGFja2FnZXMvZGF0ZS1waWNrZXIvc3JjL3BhbmVsL2RhdGUudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPTI2MmUzMTU1XG52YXIgcmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuICB2YXIgX3ZtID0gdGhpcyxcbiAgICBfYyA9IF92bS5fc2VsZi5fY1xuICByZXR1cm4gX2MoXG4gICAgXCJ0cmFuc2l0aW9uXCIsXG4gICAge1xuICAgICAgYXR0cnM6IHsgbmFtZTogXCJlbC16b29tLWluLXRvcFwiIH0sXG4gICAgICBvbjogeyBcImFmdGVyLWVudGVyXCI6IF92bS5oYW5kbGVFbnRlciwgXCJhZnRlci1sZWF2ZVwiOiBfdm0uaGFuZGxlTGVhdmUgfVxuICAgIH0sXG4gICAgW1xuICAgICAgX2MoXG4gICAgICAgIFwiZGl2XCIsXG4gICAgICAgIHtcbiAgICAgICAgICBkaXJlY3RpdmVzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIG5hbWU6IFwic2hvd1wiLFxuICAgICAgICAgICAgICByYXdOYW1lOiBcInYtc2hvd1wiLFxuICAgICAgICAgICAgICB2YWx1ZTogX3ZtLnZpc2libGUsXG4gICAgICAgICAgICAgIGV4cHJlc3Npb246IFwidmlzaWJsZVwiXG4gICAgICAgICAgICB9XG4gICAgICAgICAgXSxcbiAgICAgICAgICBzdGF0aWNDbGFzczogXCJlbC1waWNrZXItcGFuZWwgZWwtZGF0ZS1waWNrZXIgZWwtcG9wcGVyXCIsXG4gICAgICAgICAgY2xhc3M6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgXCJoYXMtc2lkZWJhclwiOiBfdm0uJHNsb3RzLnNpZGViYXIgfHwgX3ZtLnNob3J0Y3V0cyxcbiAgICAgICAgICAgICAgXCJoYXMtdGltZVwiOiBfdm0uc2hvd1RpbWVcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfdm0ucG9wcGVyQ2xhc3NcbiAgICAgICAgICBdLFxuICAgICAgICAgIG9uOiB7IG1vdXNlZG93bjogX3ZtLmhhbmRsZU1vdXNlZG93biB9XG4gICAgICAgIH0sXG4gICAgICAgIFtcbiAgICAgICAgICBfYyhcbiAgICAgICAgICAgIFwiZGl2XCIsXG4gICAgICAgICAgICB7IHN0YXRpY0NsYXNzOiBcImVsLXBpY2tlci1wYW5lbF9fYm9keS13cmFwcGVyXCIgfSxcbiAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgX3ZtLl90KFwic2lkZWJhclwiKSxcbiAgICAgICAgICAgICAgX3ZtLnNob3J0Y3V0c1xuICAgICAgICAgICAgICAgID8gX2MoXG4gICAgICAgICAgICAgICAgICAgIFwiZGl2XCIsXG4gICAgICAgICAgICAgICAgICAgIHsgc3RhdGljQ2xhc3M6IFwiZWwtcGlja2VyLXBhbmVsX19zaWRlYmFyXCIgfSxcbiAgICAgICAgICAgICAgICAgICAgX3ZtLl9sKF92bS5zaG9ydGN1dHMsIGZ1bmN0aW9uKHNob3J0Y3V0LCBrZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2MoXG4gICAgICAgICAgICAgICAgICAgICAgICBcImJ1dHRvblwiLFxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk6IGtleSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGljQ2xhc3M6IFwiZWwtcGlja2VyLXBhbmVsX19zaG9ydGN1dFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBhdHRyczogeyB0eXBlOiBcImJ1dHRvblwiIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKCRldmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF92bS5oYW5kbGVTaG9ydGN1dENsaWNrKHNob3J0Y3V0KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFtfdm0uX3YoX3ZtLl9zKHNob3J0Y3V0LnRleHQpKV1cbiAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICAwXG4gICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgOiBfdm0uX2UoKSxcbiAgICAgICAgICAgICAgX2MoXCJkaXZcIiwgeyBzdGF0aWNDbGFzczogXCJlbC1waWNrZXItcGFuZWxfX2JvZHlcIiB9LCBbXG4gICAgICAgICAgICAgICAgX3ZtLnNob3dUaW1lXG4gICAgICAgICAgICAgICAgICA/IF9jKFwiZGl2XCIsIHsgc3RhdGljQ2xhc3M6IFwiZWwtZGF0ZS1waWNrZXJfX3RpbWUtaGVhZGVyXCIgfSwgW1xuICAgICAgICAgICAgICAgICAgICAgIF9jKFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJzcGFuXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICB7IHN0YXRpY0NsYXNzOiBcImVsLWRhdGUtcGlja2VyX19lZGl0b3Itd3JhcFwiIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgIF9jKFwiZWwtaW5wdXRcIiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcjogX3ZtLnQoXCJlbC5kYXRlcGlja2VyLnNlbGVjdERhdGVcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogX3ZtLnZpc2libGVEYXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogXCJzbWFsbFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXQ6IHZhbCA9PiAoX3ZtLnVzZXJJbnB1dERhdGUgPSB2YWwpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhbmdlOiBfdm0uaGFuZGxlVmlzaWJsZURhdGVDaGFuZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgMVxuICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgX2MoXG4gICAgICAgICAgICAgICAgICAgICAgICBcInNwYW5cIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZGlyZWN0aXZlczogW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IFwiY2xpY2tvdXRzaWRlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICByYXdOYW1lOiBcInYtY2xpY2tvdXRzaWRlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogX3ZtLmhhbmRsZVRpbWVQaWNrQ2xvc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBleHByZXNzaW9uOiBcImhhbmRsZVRpbWVQaWNrQ2xvc2VcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGljQ2xhc3M6IFwiZWwtZGF0ZS1waWNrZXJfX2VkaXRvci13cmFwXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgIF9jKFwiZWwtaW5wdXRcIiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZjogXCJpbnB1dFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcjogX3ZtLnQoXCJlbC5kYXRlcGlja2VyLnNlbGVjdFRpbWVcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogX3ZtLnZpc2libGVUaW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogXCJzbWFsbFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9jdXM6IGZ1bmN0aW9uKCRldmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdm0udGltZVBpY2tlclZpc2libGUgPSB0cnVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXQ6IHZhbCA9PiAoX3ZtLnVzZXJJbnB1dFRpbWUgPSB2YWwpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhbmdlOiBfdm0uaGFuZGxlVmlzaWJsZVRpbWVDaGFuZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBfYyhcInRpbWUtcGlja2VyXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWY6IFwidGltZXBpY2tlclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInRpbWUtYXJyb3ctY29udHJvbFwiOiBfdm0uYXJyb3dDb250cm9sLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlzaWJsZTogX3ZtLnRpbWVQaWNrZXJWaXNpYmxlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGljazogX3ZtLmhhbmRsZVRpbWVQaWNrLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbW91bnRlZDogX3ZtLnByb3h5VGltZVBpY2tlckRhdGFQcm9wZXJ0aWVzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIDFcbiAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgIF0pXG4gICAgICAgICAgICAgICAgICA6IF92bS5fZSgpLFxuICAgICAgICAgICAgICAgIF9jKFxuICAgICAgICAgICAgICAgICAgXCJkaXZcIixcbiAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgZGlyZWN0aXZlczogW1xuICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IFwic2hvd1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmF3TmFtZTogXCJ2LXNob3dcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBfdm0uY3VycmVudFZpZXcgIT09IFwidGltZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXhwcmVzc2lvbjogXCJjdXJyZW50VmlldyAhPT0gJ3RpbWUnXCJcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAgIHN0YXRpY0NsYXNzOiBcImVsLWRhdGUtcGlja2VyX19oZWFkZXJcIixcbiAgICAgICAgICAgICAgICAgICAgY2xhc3M6IHtcbiAgICAgICAgICAgICAgICAgICAgICBcImVsLWRhdGUtcGlja2VyX19oZWFkZXItLWJvcmRlcmVkXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBfdm0uY3VycmVudFZpZXcgPT09IFwieWVhclwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICBfdm0uY3VycmVudFZpZXcgPT09IFwibW9udGhcIlxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgICAgICBfYyhcImJ1dHRvblwiLCB7XG4gICAgICAgICAgICAgICAgICAgICAgc3RhdGljQ2xhc3M6XG4gICAgICAgICAgICAgICAgICAgICAgICBcImVsLXBpY2tlci1wYW5lbF9faWNvbi1idG4gZWwtZGF0ZS1waWNrZXJfX3ByZXYtYnRuIGVsLWljb24tZC1hcnJvdy1sZWZ0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3M6IHsgZGlzYWJsZWQ6ICFfdm0uY2FuU2VsZWN0UHJldlllYXIgfSxcbiAgICAgICAgICAgICAgICAgICAgICBhdHRyczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJidXR0b25cIixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiYXJpYS1sYWJlbFwiOiBfdm0udChgZWwuZGF0ZXBpY2tlci5wcmV2WWVhcmApXG4gICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICBvbjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2xpY2s6IF92bS5wcmV2WWVhcixcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vdXNlZG93bjogX3ZtLnByZXZZZWFyTW91c2Vkb3duXG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgX2MoXCJidXR0b25cIiwge1xuICAgICAgICAgICAgICAgICAgICAgIGRpcmVjdGl2ZXM6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJzaG93XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJhd05hbWU6IFwidi1zaG93XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBfdm0uY3VycmVudFZpZXcgPT09IFwiZGF0ZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBleHByZXNzaW9uOiBcImN1cnJlbnRWaWV3ID09PSAnZGF0ZSdcIlxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAgICAgc3RhdGljQ2xhc3M6XG4gICAgICAgICAgICAgICAgICAgICAgICBcImVsLXBpY2tlci1wYW5lbF9faWNvbi1idG4gZWwtZGF0ZS1waWNrZXJfX3ByZXYtYnRuIGVsLWljb24tYXJyb3ctbGVmdFwiLFxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzOiB7IGRpc2FibGVkOiAhX3ZtLmNhblNlbGVjdFByZXZNb250aCB9LFxuICAgICAgICAgICAgICAgICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImJ1dHRvblwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJhcmlhLWxhYmVsXCI6IF92bS50KGBlbC5kYXRlcGlja2VyLnByZXZNb250aGApXG4gICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICBvbjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2xpY2s6IF92bS5wcmV2TW9udGgsXG4gICAgICAgICAgICAgICAgICAgICAgICBtb3VzZWRvd246IF92bS5wcmV2TW9udGhNb3VzZWRvd25cbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICBfYyhcbiAgICAgICAgICAgICAgICAgICAgICBcInNwYW5cIixcbiAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0aWNDbGFzczogXCJlbC1kYXRlLXBpY2tlcl9faGVhZGVyLWxhYmVsXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBhdHRyczogeyByb2xlOiBcImJ1dHRvblwiIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBvbjogeyBjbGljazogX3ZtLnNob3dZZWFyUGlja2VyIH1cbiAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgIFtfdm0uX3YoX3ZtLl9zKF92bS55ZWFyTGFiZWwpKV1cbiAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgX2MoXG4gICAgICAgICAgICAgICAgICAgICAgXCJzcGFuXCIsXG4gICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGlyZWN0aXZlczogW1xuICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJzaG93XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmF3TmFtZTogXCJ2LXNob3dcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogX3ZtLmN1cnJlbnRWaWV3ID09PSBcImRhdGVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBleHByZXNzaW9uOiBcImN1cnJlbnRWaWV3ID09PSAnZGF0ZSdcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGljQ2xhc3M6IFwiZWwtZGF0ZS1waWNrZXJfX2hlYWRlci1sYWJlbFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M6IHsgYWN0aXZlOiBfdm0uY3VycmVudFZpZXcgPT09IFwibW9udGhcIiB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgYXR0cnM6IHsgcm9sZTogXCJidXR0b25cIiB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgb246IHsgY2xpY2s6IF92bS5zaG93TW9udGhQaWNrZXIgfVxuICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLl92KFxuICAgICAgICAgICAgICAgICAgICAgICAgICBfdm0uX3MoX3ZtLnQoYGVsLmRhdGVwaWNrZXIubW9udGgke192bS5tb250aCArIDF9YCkpXG4gICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICBfYyhcImJ1dHRvblwiLCB7XG4gICAgICAgICAgICAgICAgICAgICAgc3RhdGljQ2xhc3M6XG4gICAgICAgICAgICAgICAgICAgICAgICBcImVsLXBpY2tlci1wYW5lbF9faWNvbi1idG4gZWwtZGF0ZS1waWNrZXJfX25leHQtYnRuIGVsLWljb24tZC1hcnJvdy1yaWdodFwiLFxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzOiB7IGRpc2FibGVkOiAhX3ZtLmNhblNlbGVjdE5leHRZZWFyIH0sXG4gICAgICAgICAgICAgICAgICAgICAgYXR0cnM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiYnV0dG9uXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcImFyaWEtbGFiZWxcIjogX3ZtLnQoYGVsLmRhdGVwaWNrZXIubmV4dFllYXJgKVxuICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgb246IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsaWNrOiBfdm0ubmV4dFllYXIsXG4gICAgICAgICAgICAgICAgICAgICAgICBtb3VzZWRvd246IF92bS5uZXh0WWVhck1vdXNlZG93blxuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgIF9jKFwiYnV0dG9uXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgICBkaXJlY3RpdmVzOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IFwic2hvd1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICByYXdOYW1lOiBcInYtc2hvd1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogX3ZtLmN1cnJlbnRWaWV3ID09PSBcImRhdGVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZXhwcmVzc2lvbjogXCJjdXJyZW50VmlldyA9PT0gJ2RhdGUnXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICAgIHN0YXRpY0NsYXNzOlxuICAgICAgICAgICAgICAgICAgICAgICAgXCJlbC1waWNrZXItcGFuZWxfX2ljb24tYnRuIGVsLWRhdGUtcGlja2VyX19uZXh0LWJ0biBlbC1pY29uLWFycm93LXJpZ2h0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3M6IHsgZGlzYWJsZWQ6ICFfdm0uY2FuU2VsZWN0TmV4dE1vbnRoIH0sXG4gICAgICAgICAgICAgICAgICAgICAgYXR0cnM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiYnV0dG9uXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcImFyaWEtbGFiZWxcIjogX3ZtLnQoYGVsLmRhdGVwaWNrZXIubmV4dE1vbnRoYClcbiAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgIG9uOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGljazogX3ZtLm5leHRNb250aCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vdXNlZG93bjogX3ZtLm5leHRNb250aE1vdXNlZG93blxuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIF9jKFxuICAgICAgICAgICAgICAgICAgXCJkaXZcIixcbiAgICAgICAgICAgICAgICAgIHsgc3RhdGljQ2xhc3M6IFwiZWwtcGlja2VyLXBhbmVsX19jb250ZW50XCIgfSxcbiAgICAgICAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICAgICAgX2MoXCJkYXRlLXRhYmxlXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgICBkaXJlY3RpdmVzOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IFwic2hvd1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICByYXdOYW1lOiBcInYtc2hvd1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogX3ZtLmN1cnJlbnRWaWV3ID09PSBcImRhdGVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZXhwcmVzc2lvbjogXCJjdXJyZW50VmlldyA9PT0gJ2RhdGUnXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBcInNlbGVjdGlvbi1tb2RlXCI6IF92bS5zZWxlY3Rpb25Nb2RlLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJmaXJzdC1kYXktb2Ytd2Vla1wiOiBfdm0uZmlyc3REYXlPZldlZWssXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogX3ZtLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJkZWZhdWx0LXZhbHVlXCI6IF92bS5kZWZhdWx0VmFsdWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPyBuZXcgRGF0ZShfdm0uZGVmYXVsdFZhbHVlKVxuICAgICAgICAgICAgICAgICAgICAgICAgICA6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRlOiBfdm0uZGF0ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiY2VsbC1jbGFzcy1uYW1lXCI6IF92bS5jZWxsQ2xhc3NOYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJkaXNhYmxlZC1kYXRlXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgIF92bS5kaXNhYmxlZERhdGUgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgKF92bS5taW5pbXVtIHx8IF92bS5tYXhpbXVtID8gX3ZtLmRhdGVPdXRPZlJhbmdlIDogXCJcIilcbiAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgIG9uOiB7IHBpY2s6IF92bS5oYW5kbGVEYXRlUGljayB9XG4gICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICBfYyhcInllYXItdGFibGVcIiwge1xuICAgICAgICAgICAgICAgICAgICAgIGRpcmVjdGl2ZXM6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJzaG93XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJhd05hbWU6IFwidi1zaG93XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBfdm0uY3VycmVudFZpZXcgPT09IFwieWVhclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBleHByZXNzaW9uOiBcImN1cnJlbnRWaWV3ID09PSAneWVhcidcIlxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAgICAgYXR0cnM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBfdm0udmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBcImRlZmF1bHQtdmFsdWVcIjogX3ZtLmRlZmF1bHRWYWx1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICA/IG5ldyBEYXRlKF92bS5kZWZhdWx0VmFsdWUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGU6IF92bS5kYXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJkaXNhYmxlZC1kYXRlXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgIF92bS5kaXNhYmxlZERhdGUgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgKF92bS5taW5pbXVtIHx8IF92bS5tYXhpbXVtID8gX3ZtLmRhdGVPdXRPZlJhbmdlIDogXCJcIilcbiAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgIG9uOiB7IHBpY2s6IF92bS5oYW5kbGVZZWFyUGljayB9XG4gICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICBfYyhcIm1vbnRoLXRhYmxlXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgICBkaXJlY3RpdmVzOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IFwic2hvd1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICByYXdOYW1lOiBcInYtc2hvd1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogX3ZtLmN1cnJlbnRWaWV3ID09PSBcIm1vbnRoXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGV4cHJlc3Npb246IFwiY3VycmVudFZpZXcgPT09ICdtb250aCdcIlxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAgICAgYXR0cnM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBfdm0udmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBcImRlZmF1bHQtdmFsdWVcIjogX3ZtLmRlZmF1bHRWYWx1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICA/IG5ldyBEYXRlKF92bS5kZWZhdWx0VmFsdWUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGU6IF92bS5kYXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJkaXNhYmxlZC1kYXRlXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgIF92bS5kaXNhYmxlZERhdGUgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgKF92bS5taW5pbXVtIHx8IF92bS5tYXhpbXVtID8gX3ZtLmRhdGVPdXRPZlJhbmdlIDogXCJcIilcbiAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgIG9uOiB7IHBpY2s6IF92bS5oYW5kbGVNb250aFBpY2sgfVxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgIDFcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgIF0pXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgMlxuICAgICAgICAgICksXG4gICAgICAgICAgX2MoXG4gICAgICAgICAgICBcImRpdlwiLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBkaXJlY3RpdmVzOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgbmFtZTogXCJzaG93XCIsXG4gICAgICAgICAgICAgICAgICByYXdOYW1lOiBcInYtc2hvd1wiLFxuICAgICAgICAgICAgICAgICAgdmFsdWU6IF92bS5mb290ZXJWaXNpYmxlICYmIF92bS5jdXJyZW50VmlldyA9PT0gXCJkYXRlXCIsXG4gICAgICAgICAgICAgICAgICBleHByZXNzaW9uOiBcImZvb3RlclZpc2libGUgJiYgY3VycmVudFZpZXcgPT09ICdkYXRlJ1wiXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICBzdGF0aWNDbGFzczogXCJlbC1waWNrZXItcGFuZWxfX2Zvb3RlclwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgW1xuICAgICAgICAgICAgICBfYyhcbiAgICAgICAgICAgICAgICBcImVsLWJ1dHRvblwiLFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIGRpcmVjdGl2ZXM6IFtcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IFwic2hvd1wiLFxuICAgICAgICAgICAgICAgICAgICAgIHJhd05hbWU6IFwidi1zaG93XCIsXG4gICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IF92bS5zZWxlY3Rpb25Nb2RlICE9PSBcImRhdGVzXCIsXG4gICAgICAgICAgICAgICAgICAgICAgZXhwcmVzc2lvbjogXCJzZWxlY3Rpb25Nb2RlICE9PSAnZGF0ZXMnXCJcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgIHN0YXRpY0NsYXNzOiBcImVsLXBpY2tlci1wYW5lbF9fbGluay1idG5cIixcbiAgICAgICAgICAgICAgICAgIGF0dHJzOiB7IHNpemU6IFwibWluaVwiLCB0eXBlOiBcInRleHRcIiB9LFxuICAgICAgICAgICAgICAgICAgb246IHsgY2xpY2s6IF92bS5jaGFuZ2VUb05vdyB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgICBfdm0uX3YoXG4gICAgICAgICAgICAgICAgICAgIFwiXFxuICAgICAgICBcIiArXG4gICAgICAgICAgICAgICAgICAgICAgX3ZtLl9zKF92bS50KFwiZWwuZGF0ZXBpY2tlci5ub3dcIikpICtcbiAgICAgICAgICAgICAgICAgICAgICBcIlxcbiAgICAgIFwiXG4gICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICBfYyhcbiAgICAgICAgICAgICAgICBcImVsLWJ1dHRvblwiLFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIHN0YXRpY0NsYXNzOiBcImVsLXBpY2tlci1wYW5lbF9fbGluay1idG5cIixcbiAgICAgICAgICAgICAgICAgIGF0dHJzOiB7IHBsYWluOiBcIlwiLCBzaXplOiBcIm1pbmlcIiB9LFxuICAgICAgICAgICAgICAgICAgb246IHsgY2xpY2s6IF92bS5jb25maXJtIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICAgIF92bS5fdihcbiAgICAgICAgICAgICAgICAgICAgXCJcXG4gICAgICAgIFwiICtcbiAgICAgICAgICAgICAgICAgICAgICBfdm0uX3MoX3ZtLnQoXCJlbC5kYXRlcGlja2VyLmNvbmZpcm1cIikpICtcbiAgICAgICAgICAgICAgICAgICAgICBcIlxcbiAgICAgIFwiXG4gICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgMVxuICAgICAgICAgIClcbiAgICAgICAgXVxuICAgICAgKVxuICAgIF1cbiAgKVxufVxudmFyIHN0YXRpY1JlbmRlckZucyA9IFtdXG5yZW5kZXIuX3dpdGhTdHJpcHBlZCA9IHRydWVcblxuXG4vLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3BhY2thZ2VzL2RhdGUtcGlja2VyL3NyYy9wYW5lbC9kYXRlLnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD0yNjJlMzE1NVxuXG4vLyBFWFRFUk5BTCBNT0RVTEU6IGV4dGVybmFsIFwiLi91dGlscy9kYXRlLXV0aWxcIlxudmFyIGRhdGVfdXRpbF8gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXG4vLyBFWFRFUk5BTCBNT0RVTEU6IGV4dGVybmFsIFwiLi91dGlscy9jbGlja291dHNpZGVcIlxudmFyIGNsaWNrb3V0c2lkZV8gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyKTtcbnZhciBjbGlja291dHNpZGVfZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4oY2xpY2tvdXRzaWRlXyk7XG5cbi8vIEVYVEVSTkFMIE1PRFVMRTogZXh0ZXJuYWwgXCIuL21peGlucy9sb2NhbGVcIlxudmFyIGxvY2FsZV8gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcpO1xudmFyIGxvY2FsZV9kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihsb2NhbGVfKTtcblxuLy8gRVhURVJOQUwgTU9EVUxFOiBleHRlcm5hbCBcIi4vaW5wdXRcIlxudmFyIGV4dGVybmFsX2lucHV0XyA9IF9fd2VicGFja19yZXF1aXJlX18oOSk7XG52YXIgZXh0ZXJuYWxfaW5wdXRfZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4oZXh0ZXJuYWxfaW5wdXRfKTtcblxuLy8gRVhURVJOQUwgTU9EVUxFOiBleHRlcm5hbCBcIi4vYnV0dG9uXCJcbnZhciBleHRlcm5hbF9idXR0b25fID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNCk7XG52YXIgZXh0ZXJuYWxfYnV0dG9uX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKGV4dGVybmFsX2J1dHRvbl8pO1xuXG4vLyBFWFRFUk5BTCBNT0RVTEU6IC4vcGFja2FnZXMvZGF0ZS1waWNrZXIvc3JjL3BhbmVsL3RpbWUudnVlICsgNCBtb2R1bGVzXG52YXIgcGFuZWxfdGltZSA9IF9fd2VicGFja19yZXF1aXJlX18oMjcpO1xuXG4vLyBDT05DQVRFTkFURUQgTU9EVUxFOiBDOi9Vc2Vycy9UeWxlclRyb3R0ZXIvcmVwb3MvQ29nbml0byBGb3Jtcy9Db2duaXRvLldlYi5DbGllbnQvbm9kZV9tb2R1bGVzLy5wbnBtL3Z1ZS1sb2FkZXJAMTUuMTEuMV9jc3MtbG9hZGVyQDUuMi43X3ByZXR0aWVyQDEuMTguMl92dWUtdGVtcGxhdGUtY29tcGlsZXJAMi43LjE1X3dlYnBhY2tANC40Ni4wL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9sb2FkZXJzL3RlbXBsYXRlTG9hZGVyLmpzPz9yZWYtLTUhQzovVXNlcnMvVHlsZXJUcm90dGVyL3JlcG9zL0NvZ25pdG8gRm9ybXMvQ29nbml0by5XZWIuQ2xpZW50L25vZGVfbW9kdWxlcy8ucG5wbS92dWUtbG9hZGVyQDE1LjExLjFfY3NzLWxvYWRlckA1LjIuN19wcmV0dGllckAxLjE4LjJfdnVlLXRlbXBsYXRlLWNvbXBpbGVyQDIuNy4xNV93ZWJwYWNrQDQuNDYuMC9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWI/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL3BhY2thZ2VzL2RhdGUtcGlja2VyL3NyYy9iYXNpYy95ZWFyLXRhYmxlLnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD04MDVmODUyNlxudmFyIHllYXJfdGFibGV2dWVfdHlwZV90ZW1wbGF0ZV9pZF84MDVmODUyNl9yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG4gIHZhciBfdm0gPSB0aGlzLFxuICAgIF9jID0gX3ZtLl9zZWxmLl9jXG4gIHJldHVybiBfYyhcbiAgICBcInRhYmxlXCIsXG4gICAgeyBzdGF0aWNDbGFzczogXCJlbC15ZWFyLXRhYmxlXCIsIG9uOiB7IGNsaWNrOiBfdm0uaGFuZGxlWWVhclRhYmxlQ2xpY2sgfSB9LFxuICAgIFtcbiAgICAgIF9jKFwidGJvZHlcIiwgW1xuICAgICAgICBfYyhcInRyXCIsIFtcbiAgICAgICAgICBfYyhcbiAgICAgICAgICAgIFwidGRcIixcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgc3RhdGljQ2xhc3M6IFwiaXMtc2VsZWN0YWJsZVwiLFxuICAgICAgICAgICAgICBjbGFzczogX3ZtLmdldENlbGxTdHlsZShfdm0uc3RhcnRZZWFyICsgMClcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBbXG4gICAgICAgICAgICAgIF9jKFwiYVwiLCB7IHN0YXRpY0NsYXNzOiBcImVsLWRhdGUtcGlja2VyX19jZWxsXCIgfSwgW1xuICAgICAgICAgICAgICAgIF92bS5fdihfdm0uX3MoX3ZtLnN0YXJ0WWVhcikpXG4gICAgICAgICAgICAgIF0pXG4gICAgICAgICAgICBdXG4gICAgICAgICAgKSxcbiAgICAgICAgICBfYyhcbiAgICAgICAgICAgIFwidGRcIixcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgc3RhdGljQ2xhc3M6IFwiaXMtc2VsZWN0YWJsZVwiLFxuICAgICAgICAgICAgICBjbGFzczogX3ZtLmdldENlbGxTdHlsZShfdm0uc3RhcnRZZWFyICsgMSlcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBbXG4gICAgICAgICAgICAgIF9jKFwiYVwiLCB7IHN0YXRpY0NsYXNzOiBcImVsLWRhdGUtcGlja2VyX19jZWxsXCIgfSwgW1xuICAgICAgICAgICAgICAgIF92bS5fdihfdm0uX3MoX3ZtLnN0YXJ0WWVhciArIDEpKVxuICAgICAgICAgICAgICBdKVxuICAgICAgICAgICAgXVxuICAgICAgICAgICksXG4gICAgICAgICAgX2MoXG4gICAgICAgICAgICBcInRkXCIsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHN0YXRpY0NsYXNzOiBcImlzLXNlbGVjdGFibGVcIixcbiAgICAgICAgICAgICAgY2xhc3M6IF92bS5nZXRDZWxsU3R5bGUoX3ZtLnN0YXJ0WWVhciArIDIpXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgW1xuICAgICAgICAgICAgICBfYyhcImFcIiwgeyBzdGF0aWNDbGFzczogXCJlbC1kYXRlLXBpY2tlcl9fY2VsbFwiIH0sIFtcbiAgICAgICAgICAgICAgICBfdm0uX3YoX3ZtLl9zKF92bS5zdGFydFllYXIgKyAyKSlcbiAgICAgICAgICAgICAgXSlcbiAgICAgICAgICAgIF1cbiAgICAgICAgICApLFxuICAgICAgICAgIF9jKFxuICAgICAgICAgICAgXCJ0ZFwiLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBzdGF0aWNDbGFzczogXCJpcy1zZWxlY3RhYmxlXCIsXG4gICAgICAgICAgICAgIGNsYXNzOiBfdm0uZ2V0Q2VsbFN0eWxlKF92bS5zdGFydFllYXIgKyAzKVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgX2MoXCJhXCIsIHsgc3RhdGljQ2xhc3M6IFwiZWwtZGF0ZS1waWNrZXJfX2NlbGxcIiB9LCBbXG4gICAgICAgICAgICAgICAgX3ZtLl92KF92bS5fcyhfdm0uc3RhcnRZZWFyICsgMykpXG4gICAgICAgICAgICAgIF0pXG4gICAgICAgICAgICBdXG4gICAgICAgICAgKVxuICAgICAgICBdKSxcbiAgICAgICAgX2MoXCJ0clwiLCBbXG4gICAgICAgICAgX2MoXG4gICAgICAgICAgICBcInRkXCIsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHN0YXRpY0NsYXNzOiBcImlzLXNlbGVjdGFibGVcIixcbiAgICAgICAgICAgICAgY2xhc3M6IF92bS5nZXRDZWxsU3R5bGUoX3ZtLnN0YXJ0WWVhciArIDQpXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgW1xuICAgICAgICAgICAgICBfYyhcImFcIiwgeyBzdGF0aWNDbGFzczogXCJlbC1kYXRlLXBpY2tlcl9fY2VsbFwiIH0sIFtcbiAgICAgICAgICAgICAgICBfdm0uX3YoX3ZtLl9zKF92bS5zdGFydFllYXIgKyA0KSlcbiAgICAgICAgICAgICAgXSlcbiAgICAgICAgICAgIF1cbiAgICAgICAgICApLFxuICAgICAgICAgIF9jKFxuICAgICAgICAgICAgXCJ0ZFwiLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBzdGF0aWNDbGFzczogXCJpcy1zZWxlY3RhYmxlXCIsXG4gICAgICAgICAgICAgIGNsYXNzOiBfdm0uZ2V0Q2VsbFN0eWxlKF92bS5zdGFydFllYXIgKyA1KVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgX2MoXCJhXCIsIHsgc3RhdGljQ2xhc3M6IFwiZWwtZGF0ZS1waWNrZXJfX2NlbGxcIiB9LCBbXG4gICAgICAgICAgICAgICAgX3ZtLl92KF92bS5fcyhfdm0uc3RhcnRZZWFyICsgNSkpXG4gICAgICAgICAgICAgIF0pXG4gICAgICAgICAgICBdXG4gICAgICAgICAgKSxcbiAgICAgICAgICBfYyhcbiAgICAgICAgICAgIFwidGRcIixcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgc3RhdGljQ2xhc3M6IFwiaXMtc2VsZWN0YWJsZVwiLFxuICAgICAgICAgICAgICBjbGFzczogX3ZtLmdldENlbGxTdHlsZShfdm0uc3RhcnRZZWFyICsgNilcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBbXG4gICAgICAgICAgICAgIF9jKFwiYVwiLCB7IHN0YXRpY0NsYXNzOiBcImVsLWRhdGUtcGlja2VyX19jZWxsXCIgfSwgW1xuICAgICAgICAgICAgICAgIF92bS5fdihfdm0uX3MoX3ZtLnN0YXJ0WWVhciArIDYpKVxuICAgICAgICAgICAgICBdKVxuICAgICAgICAgICAgXVxuICAgICAgICAgICksXG4gICAgICAgICAgX2MoXG4gICAgICAgICAgICBcInRkXCIsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHN0YXRpY0NsYXNzOiBcImlzLXNlbGVjdGFibGVcIixcbiAgICAgICAgICAgICAgY2xhc3M6IF92bS5nZXRDZWxsU3R5bGUoX3ZtLnN0YXJ0WWVhciArIDcpXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgW1xuICAgICAgICAgICAgICBfYyhcImFcIiwgeyBzdGF0aWNDbGFzczogXCJlbC1kYXRlLXBpY2tlcl9fY2VsbFwiIH0sIFtcbiAgICAgICAgICAgICAgICBfdm0uX3YoX3ZtLl9zKF92bS5zdGFydFllYXIgKyA3KSlcbiAgICAgICAgICAgICAgXSlcbiAgICAgICAgICAgIF1cbiAgICAgICAgICApXG4gICAgICAgIF0pLFxuICAgICAgICBfYyhcInRyXCIsIFtcbiAgICAgICAgICBfYyhcbiAgICAgICAgICAgIFwidGRcIixcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgc3RhdGljQ2xhc3M6IFwiaXMtc2VsZWN0YWJsZVwiLFxuICAgICAgICAgICAgICBjbGFzczogX3ZtLmdldENlbGxTdHlsZShfdm0uc3RhcnRZZWFyICsgOClcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBbXG4gICAgICAgICAgICAgIF9jKFwiYVwiLCB7IHN0YXRpY0NsYXNzOiBcImVsLWRhdGUtcGlja2VyX19jZWxsXCIgfSwgW1xuICAgICAgICAgICAgICAgIF92bS5fdihfdm0uX3MoX3ZtLnN0YXJ0WWVhciArIDgpKVxuICAgICAgICAgICAgICBdKVxuICAgICAgICAgICAgXVxuICAgICAgICAgICksXG4gICAgICAgICAgX2MoXG4gICAgICAgICAgICBcInRkXCIsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHN0YXRpY0NsYXNzOiBcImlzLXNlbGVjdGFibGVcIixcbiAgICAgICAgICAgICAgY2xhc3M6IF92bS5nZXRDZWxsU3R5bGUoX3ZtLnN0YXJ0WWVhciArIDkpXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgW1xuICAgICAgICAgICAgICBfYyhcImFcIiwgeyBzdGF0aWNDbGFzczogXCJlbC1kYXRlLXBpY2tlcl9fY2VsbFwiIH0sIFtcbiAgICAgICAgICAgICAgICBfdm0uX3YoX3ZtLl9zKF92bS5zdGFydFllYXIgKyA5KSlcbiAgICAgICAgICAgICAgXSlcbiAgICAgICAgICAgIF1cbiAgICAgICAgICApLFxuICAgICAgICAgIF9jKFwidGRcIiksXG4gICAgICAgICAgX2MoXCJ0ZFwiKVxuICAgICAgICBdKVxuICAgICAgXSlcbiAgICBdXG4gIClcbn1cbnZhciB5ZWFyX3RhYmxldnVlX3R5cGVfdGVtcGxhdGVfaWRfODA1Zjg1MjZfc3RhdGljUmVuZGVyRm5zID0gW11cbnllYXJfdGFibGV2dWVfdHlwZV90ZW1wbGF0ZV9pZF84MDVmODUyNl9yZW5kZXIuX3dpdGhTdHJpcHBlZCA9IHRydWVcblxuXG4vLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3BhY2thZ2VzL2RhdGUtcGlja2VyL3NyYy9iYXNpYy95ZWFyLXRhYmxlLnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD04MDVmODUyNlxuXG4vLyBFWFRFUk5BTCBNT0RVTEU6IGV4dGVybmFsIFwiLi91dGlscy9kb21cIlxudmFyIGRvbV8gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXG4vLyBFWFRFUk5BTCBNT0RVTEU6IGV4dGVybmFsIFwiLi91dGlscy91dGlsXCJcbnZhciB1dGlsXyA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cbi8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IEM6L1VzZXJzL1R5bGVyVHJvdHRlci9yZXBvcy9Db2duaXRvIEZvcm1zL0NvZ25pdG8uV2ViLkNsaWVudC9ub2RlX21vZHVsZXMvLnBucG0vYmFiZWwtbG9hZGVyQDguMy4wX0BiYWJlbCtjb3JlQDcuMjUuMl93ZWJwYWNrQDQuNDYuMC9ub2RlX21vZHVsZXMvYmFiZWwtbG9hZGVyL2xpYiFDOi9Vc2Vycy9UeWxlclRyb3R0ZXIvcmVwb3MvQ29nbml0byBGb3Jtcy9Db2duaXRvLldlYi5DbGllbnQvbm9kZV9tb2R1bGVzLy5wbnBtL3Z1ZS1sb2FkZXJAMTUuMTEuMV9jc3MtbG9hZGVyQDUuMi43X3ByZXR0aWVyQDEuMTguMl92dWUtdGVtcGxhdGUtY29tcGlsZXJAMi43LjE1X3dlYnBhY2tANC40Ni4wL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYj8/dnVlLWxvYWRlci1vcHRpb25zIS4vcGFja2FnZXMvZGF0ZS1waWNrZXIvc3JjL2Jhc2ljL3llYXItdGFibGUudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzXG5cblxuXG5jb25zdCBkYXRlc0luWWVhciA9IHllYXIgPT4ge1xuICBjb25zdCBudW1PZkRheXMgPSBPYmplY3QoZGF0ZV91dGlsX1tcImdldERheUNvdW50T2ZZZWFyXCJdKSh5ZWFyKTtcbiAgY29uc3QgZmlyc3REYXkgPSBuZXcgRGF0ZSh5ZWFyLCAwLCAxKTtcbiAgcmV0dXJuIE9iamVjdChkYXRlX3V0aWxfW1wicmFuZ2VcIl0pKG51bU9mRGF5cykubWFwKG4gPT4gT2JqZWN0KGRhdGVfdXRpbF9bXCJuZXh0RGF0ZVwiXSkoZmlyc3REYXksIG4pKTtcbn07XG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIHZhciB5ZWFyX3RhYmxldnVlX3R5cGVfc2NyaXB0X2xhbmdfanMgPSAoe1xuICBwcm9wczoge1xuICAgIGRpc2FibGVkRGF0ZToge30sXG4gICAgdmFsdWU6IHt9LFxuICAgIGRlZmF1bHRWYWx1ZToge1xuICAgICAgdmFsaWRhdG9yKHZhbCkge1xuICAgICAgICAvLyBudWxsIG9yIHZhbGlkIERhdGUgT2JqZWN0XG4gICAgICAgIHJldHVybiB2YWwgPT09IG51bGwgfHwgdmFsIGluc3RhbmNlb2YgRGF0ZSAmJiBPYmplY3QoZGF0ZV91dGlsX1tcImlzRGF0ZVwiXSkodmFsKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGRhdGU6IHt9XG4gIH0sXG4gIGNvbXB1dGVkOiB7XG4gICAgc3RhcnRZZWFyKCkge1xuICAgICAgcmV0dXJuIE1hdGguZmxvb3IodGhpcy5kYXRlLmdldEZ1bGxZZWFyKCkgLyAxMCkgKiAxMDtcbiAgICB9XG4gIH0sXG4gIG1ldGhvZHM6IHtcbiAgICBnZXRDZWxsU3R5bGUoeWVhcikge1xuICAgICAgY29uc3Qgc3R5bGUgPSB7fTtcbiAgICAgIGNvbnN0IHRvZGF5ID0gbmV3IERhdGUoKTtcbiAgICAgIHN0eWxlLmRpc2FibGVkID0gdHlwZW9mIHRoaXMuZGlzYWJsZWREYXRlID09PSAnZnVuY3Rpb24nID8gZGF0ZXNJblllYXIoeWVhcikuZXZlcnkodGhpcy5kaXNhYmxlZERhdGUpIDogZmFsc2U7XG4gICAgICBzdHlsZVsnaXMtc2VsZWN0ZWQnXSA9IE9iamVjdCh1dGlsX1tcImFycmF5RmluZEluZGV4XCJdKShPYmplY3QodXRpbF9bXCJjb2VyY2VUcnV0aHlWYWx1ZVRvQXJyYXlcIl0pKHRoaXMudmFsdWUpLCBkYXRlID0+IGRhdGUuZ2V0RnVsbFllYXIoKSA9PT0geWVhcikgPj0gMDtcbiAgICAgIHN0eWxlWydpcy1jdXJyZW50J10gPSB0b2RheS5nZXRGdWxsWWVhcigpID09PSB5ZWFyO1xuICAgICAgc3R5bGUuZGVmYXVsdCA9IHRoaXMuZGVmYXVsdFZhbHVlICYmIHRoaXMuZGVmYXVsdFZhbHVlLmdldEZ1bGxZZWFyKCkgPT09IHllYXI7XG4gICAgICByZXR1cm4gc3R5bGU7XG4gICAgfSxcbiAgICBoYW5kbGVZZWFyVGFibGVDbGljayhldmVudCkge1xuICAgICAgY29uc3QgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0O1xuICAgICAgaWYgKHRhcmdldC50YWdOYW1lID09PSAnQScpIHtcbiAgICAgICAgaWYgKE9iamVjdChkb21fW1wiaGFzQ2xhc3NcIl0pKHRhcmdldC5wYXJlbnROb2RlLCAnZGlzYWJsZWQnKSkgcmV0dXJuO1xuICAgICAgICBjb25zdCB5ZWFyID0gdGFyZ2V0LnRleHRDb250ZW50IHx8IHRhcmdldC5pbm5lclRleHQ7XG4gICAgICAgIHRoaXMuJGVtaXQoJ3BpY2snLCBOdW1iZXIoeWVhcikpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufSk7XG4vLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3BhY2thZ2VzL2RhdGUtcGlja2VyL3NyYy9iYXNpYy95ZWFyLXRhYmxlLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qc1xuIC8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gdmFyIGJhc2ljX3llYXJfdGFibGV2dWVfdHlwZV9zY3JpcHRfbGFuZ19qcyA9ICh5ZWFyX3RhYmxldnVlX3R5cGVfc2NyaXB0X2xhbmdfanMpOyBcbi8vIEVYVEVSTkFMIE1PRFVMRTogQzovVXNlcnMvVHlsZXJUcm90dGVyL3JlcG9zL0NvZ25pdG8gRm9ybXMvQ29nbml0by5XZWIuQ2xpZW50L25vZGVfbW9kdWxlcy8ucG5wbS92dWUtbG9hZGVyQDE1LjExLjFfY3NzLWxvYWRlckA1LjIuN19wcmV0dGllckAxLjE4LjJfdnVlLXRlbXBsYXRlLWNvbXBpbGVyQDIuNy4xNV93ZWJwYWNrQDQuNDYuMC9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvcnVudGltZS9jb21wb25lbnROb3JtYWxpemVyLmpzXG52YXIgY29tcG9uZW50Tm9ybWFsaXplciA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cbi8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vcGFja2FnZXMvZGF0ZS1waWNrZXIvc3JjL2Jhc2ljL3llYXItdGFibGUudnVlXG5cblxuXG5cblxuLyogbm9ybWFsaXplIGNvbXBvbmVudCAqL1xuXG52YXIgY29tcG9uZW50ID0gT2JqZWN0KGNvbXBvbmVudE5vcm1hbGl6ZXJbXCJhXCIgLyogZGVmYXVsdCAqL10pKFxuICBiYXNpY195ZWFyX3RhYmxldnVlX3R5cGVfc2NyaXB0X2xhbmdfanMsXG4gIHllYXJfdGFibGV2dWVfdHlwZV90ZW1wbGF0ZV9pZF84MDVmODUyNl9yZW5kZXIsXG4gIHllYXJfdGFibGV2dWVfdHlwZV90ZW1wbGF0ZV9pZF84MDVmODUyNl9zdGF0aWNSZW5kZXJGbnMsXG4gIGZhbHNlLFxuICBudWxsLFxuICBudWxsLFxuICBudWxsXG4gIFxuKVxuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIHZhciB5ZWFyX3RhYmxlID0gKGNvbXBvbmVudC5leHBvcnRzKTtcbi8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IEM6L1VzZXJzL1R5bGVyVHJvdHRlci9yZXBvcy9Db2duaXRvIEZvcm1zL0NvZ25pdG8uV2ViLkNsaWVudC9ub2RlX21vZHVsZXMvLnBucG0vdnVlLWxvYWRlckAxNS4xMS4xX2Nzcy1sb2FkZXJANS4yLjdfcHJldHRpZXJAMS4xOC4yX3Z1ZS10ZW1wbGF0ZS1jb21waWxlckAyLjcuMTVfd2VicGFja0A0LjQ2LjAvbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2xvYWRlcnMvdGVtcGxhdGVMb2FkZXIuanM/P3JlZi0tNSFDOi9Vc2Vycy9UeWxlclRyb3R0ZXIvcmVwb3MvQ29nbml0byBGb3Jtcy9Db2duaXRvLldlYi5DbGllbnQvbm9kZV9tb2R1bGVzLy5wbnBtL3Z1ZS1sb2FkZXJAMTUuMTEuMV9jc3MtbG9hZGVyQDUuMi43X3ByZXR0aWVyQDEuMTguMl92dWUtdGVtcGxhdGUtY29tcGlsZXJAMi43LjE1X3dlYnBhY2tANC40Ni4wL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYj8/dnVlLWxvYWRlci1vcHRpb25zIS4vcGFja2FnZXMvZGF0ZS1waWNrZXIvc3JjL2Jhc2ljL21vbnRoLXRhYmxlLnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD01ZmJiYTEyMVxudmFyIG1vbnRoX3RhYmxldnVlX3R5cGVfdGVtcGxhdGVfaWRfNWZiYmExMjFfcmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuICB2YXIgX3ZtID0gdGhpcyxcbiAgICBfYyA9IF92bS5fc2VsZi5fY1xuICByZXR1cm4gX2MoXG4gICAgXCJ0YWJsZVwiLFxuICAgIHtcbiAgICAgIHN0YXRpY0NsYXNzOiBcImVsLW1vbnRoLXRhYmxlXCIsXG4gICAgICBvbjogeyBjbGljazogX3ZtLmhhbmRsZU1vbnRoVGFibGVDbGljaywgbW91c2Vtb3ZlOiBfdm0uaGFuZGxlTW91c2VNb3ZlIH1cbiAgICB9LFxuICAgIFtcbiAgICAgIF9jKFxuICAgICAgICBcInRib2R5XCIsXG4gICAgICAgIF92bS5fbChfdm0ucm93cywgZnVuY3Rpb24ocm93LCBrZXkpIHtcbiAgICAgICAgICByZXR1cm4gX2MoXG4gICAgICAgICAgICBcInRyXCIsXG4gICAgICAgICAgICB7IGtleToga2V5IH0sXG4gICAgICAgICAgICBfdm0uX2wocm93LCBmdW5jdGlvbihjZWxsLCBrZXkpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIF9jKFwidGRcIiwgeyBrZXk6IGtleSwgY2xhc3M6IF92bS5nZXRDZWxsU3R5bGUoY2VsbCkgfSwgW1xuICAgICAgICAgICAgICAgIF9jKFwiZGl2XCIsIFtcbiAgICAgICAgICAgICAgICAgIF9jKFwiYVwiLCB7IHN0YXRpY0NsYXNzOiBcImVsLWRhdGUtcGlja2VyX19jZWxsXCIgfSwgW1xuICAgICAgICAgICAgICAgICAgICBfdm0uX3YoXG4gICAgICAgICAgICAgICAgICAgICAgX3ZtLl9zKFxuICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLnQoXCJlbC5kYXRlcGlja2VyLm1vbnRocy5cIiArIF92bS5tb250aHNbY2VsbC50ZXh0XSlcbiAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgIF0pXG4gICAgICAgICAgICAgICAgXSlcbiAgICAgICAgICAgICAgXSlcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgMFxuICAgICAgICAgIClcbiAgICAgICAgfSksXG4gICAgICAgIDBcbiAgICAgIClcbiAgICBdXG4gIClcbn1cbnZhciBtb250aF90YWJsZXZ1ZV90eXBlX3RlbXBsYXRlX2lkXzVmYmJhMTIxX3N0YXRpY1JlbmRlckZucyA9IFtdXG5tb250aF90YWJsZXZ1ZV90eXBlX3RlbXBsYXRlX2lkXzVmYmJhMTIxX3JlbmRlci5fd2l0aFN0cmlwcGVkID0gdHJ1ZVxuXG5cbi8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vcGFja2FnZXMvZGF0ZS1waWNrZXIvc3JjL2Jhc2ljL21vbnRoLXRhYmxlLnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD01ZmJiYTEyMVxuXG4vLyBDT05DQVRFTkFURUQgTU9EVUxFOiBDOi9Vc2Vycy9UeWxlclRyb3R0ZXIvcmVwb3MvQ29nbml0byBGb3Jtcy9Db2duaXRvLldlYi5DbGllbnQvbm9kZV9tb2R1bGVzLy5wbnBtL2JhYmVsLWxvYWRlckA4LjMuMF9AYmFiZWwrY29yZUA3LjI1LjJfd2VicGFja0A0LjQ2LjAvbm9kZV9tb2R1bGVzL2JhYmVsLWxvYWRlci9saWIhQzovVXNlcnMvVHlsZXJUcm90dGVyL3JlcG9zL0NvZ25pdG8gRm9ybXMvQ29nbml0by5XZWIuQ2xpZW50L25vZGVfbW9kdWxlcy8ucG5wbS92dWUtbG9hZGVyQDE1LjExLjFfY3NzLWxvYWRlckA1LjIuN19wcmV0dGllckAxLjE4LjJfdnVlLXRlbXBsYXRlLWNvbXBpbGVyQDIuNy4xNV93ZWJwYWNrQDQuNDYuMC9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWI/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL3BhY2thZ2VzL2RhdGUtcGlja2VyL3NyYy9iYXNpYy9tb250aC10YWJsZS52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anNcblxuXG5cblxuY29uc3QgZGF0ZXNJbk1vbnRoID0gKHllYXIsIG1vbnRoKSA9PiB7XG4gIGNvbnN0IG51bU9mRGF5cyA9IE9iamVjdChkYXRlX3V0aWxfW1wiZ2V0RGF5Q291bnRPZk1vbnRoXCJdKSh5ZWFyLCBtb250aCk7XG4gIGNvbnN0IGZpcnN0RGF5ID0gbmV3IERhdGUoeWVhciwgbW9udGgsIDEpO1xuICByZXR1cm4gT2JqZWN0KGRhdGVfdXRpbF9bXCJyYW5nZVwiXSkobnVtT2ZEYXlzKS5tYXAobiA9PiBPYmplY3QoZGF0ZV91dGlsX1tcIm5leHREYXRlXCJdKShmaXJzdERheSwgbikpO1xufTtcbmNvbnN0IGNsZWFyRGF0ZSA9IGRhdGUgPT4ge1xuICByZXR1cm4gbmV3IERhdGUoZGF0ZS5nZXRGdWxsWWVhcigpLCBkYXRlLmdldE1vbnRoKCkpO1xufTtcbmNvbnN0IGdldE1vbnRoVGltZXN0YW1wID0gZnVuY3Rpb24gKHRpbWUpIHtcbiAgaWYgKHR5cGVvZiB0aW1lID09PSAnbnVtYmVyJyB8fCB0eXBlb2YgdGltZSA9PT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gY2xlYXJEYXRlKG5ldyBEYXRlKHRpbWUpKS5nZXRUaW1lKCk7XG4gIH0gZWxzZSBpZiAodGltZSBpbnN0YW5jZW9mIERhdGUpIHtcbiAgICByZXR1cm4gY2xlYXJEYXRlKHRpbWUpLmdldFRpbWUoKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gTmFOO1xuICB9XG59O1xuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyB2YXIgbW9udGhfdGFibGV2dWVfdHlwZV9zY3JpcHRfbGFuZ19qcyA9ICh7XG4gIHByb3BzOiB7XG4gICAgZGlzYWJsZWREYXRlOiB7fSxcbiAgICB2YWx1ZToge30sXG4gICAgc2VsZWN0aW9uTW9kZToge1xuICAgICAgZGVmYXVsdDogJ21vbnRoJ1xuICAgIH0sXG4gICAgbWluRGF0ZToge30sXG4gICAgbWF4RGF0ZToge30sXG4gICAgZGVmYXVsdFZhbHVlOiB7XG4gICAgICB2YWxpZGF0b3IodmFsKSB7XG4gICAgICAgIC8vIG51bGwgb3IgdmFsaWQgRGF0ZSBPYmplY3RcbiAgICAgICAgcmV0dXJuIHZhbCA9PT0gbnVsbCB8fCBPYmplY3QoZGF0ZV91dGlsX1tcImlzRGF0ZVwiXSkodmFsKSB8fCBBcnJheS5pc0FycmF5KHZhbCkgJiYgdmFsLmV2ZXJ5KGRhdGVfdXRpbF9bXCJpc0RhdGVcIl0pO1xuICAgICAgfVxuICAgIH0sXG4gICAgZGF0ZToge30sXG4gICAgcmFuZ2VTdGF0ZToge1xuICAgICAgZGVmYXVsdCgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBlbmREYXRlOiBudWxsLFxuICAgICAgICAgIHNlbGVjdGluZzogZmFsc2VcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9XG4gIH0sXG4gIG1peGluczogW2xvY2FsZV9kZWZhdWx0LmFdLFxuICB3YXRjaDoge1xuICAgICdyYW5nZVN0YXRlLmVuZERhdGUnKG5ld1ZhbCkge1xuICAgICAgdGhpcy5tYXJrUmFuZ2UodGhpcy5taW5EYXRlLCBuZXdWYWwpO1xuICAgIH0sXG4gICAgbWluRGF0ZShuZXdWYWwsIG9sZFZhbCkge1xuICAgICAgaWYgKGdldE1vbnRoVGltZXN0YW1wKG5ld1ZhbCkgIT09IGdldE1vbnRoVGltZXN0YW1wKG9sZFZhbCkpIHtcbiAgICAgICAgdGhpcy5tYXJrUmFuZ2UodGhpcy5taW5EYXRlLCB0aGlzLm1heERhdGUpO1xuICAgICAgfVxuICAgIH0sXG4gICAgbWF4RGF0ZShuZXdWYWwsIG9sZFZhbCkge1xuICAgICAgaWYgKGdldE1vbnRoVGltZXN0YW1wKG5ld1ZhbCkgIT09IGdldE1vbnRoVGltZXN0YW1wKG9sZFZhbCkpIHtcbiAgICAgICAgdGhpcy5tYXJrUmFuZ2UodGhpcy5taW5EYXRlLCB0aGlzLm1heERhdGUpO1xuICAgICAgfVxuICAgIH1cbiAgfSxcbiAgZGF0YSgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbW9udGhzOiBbJ2phbicsICdmZWInLCAnbWFyJywgJ2FwcicsICdtYXknLCAnanVuJywgJ2p1bCcsICdhdWcnLCAnc2VwJywgJ29jdCcsICdub3YnLCAnZGVjJ10sXG4gICAgICB0YWJsZVJvd3M6IFtbXSwgW10sIFtdXSxcbiAgICAgIGxhc3RSb3c6IG51bGwsXG4gICAgICBsYXN0Q29sdW1uOiBudWxsXG4gICAgfTtcbiAgfSxcbiAgbWV0aG9kczoge1xuICAgIGNlbGxNYXRjaGVzRGF0ZShjZWxsLCBkYXRlKSB7XG4gICAgICBjb25zdCB2YWx1ZSA9IG5ldyBEYXRlKGRhdGUpO1xuICAgICAgcmV0dXJuIHRoaXMuZGF0ZS5nZXRGdWxsWWVhcigpID09PSB2YWx1ZS5nZXRGdWxsWWVhcigpICYmIE51bWJlcihjZWxsLnRleHQpID09PSB2YWx1ZS5nZXRNb250aCgpO1xuICAgIH0sXG4gICAgZ2V0Q2VsbFN0eWxlKGNlbGwpIHtcbiAgICAgIGNvbnN0IHN0eWxlID0ge307XG4gICAgICBjb25zdCB5ZWFyID0gdGhpcy5kYXRlLmdldEZ1bGxZZWFyKCk7XG4gICAgICBjb25zdCB0b2RheSA9IG5ldyBEYXRlKCk7XG4gICAgICBjb25zdCBtb250aCA9IGNlbGwudGV4dDtcbiAgICAgIGNvbnN0IGRlZmF1bHRWYWx1ZSA9IHRoaXMuZGVmYXVsdFZhbHVlID8gQXJyYXkuaXNBcnJheSh0aGlzLmRlZmF1bHRWYWx1ZSkgPyB0aGlzLmRlZmF1bHRWYWx1ZSA6IFt0aGlzLmRlZmF1bHRWYWx1ZV0gOiBbXTtcbiAgICAgIHN0eWxlLmRpc2FibGVkID0gdHlwZW9mIHRoaXMuZGlzYWJsZWREYXRlID09PSAnZnVuY3Rpb24nID8gZGF0ZXNJbk1vbnRoKHllYXIsIG1vbnRoKS5ldmVyeSh0aGlzLmRpc2FibGVkRGF0ZSkgOiBmYWxzZTtcbiAgICAgIHN0eWxlWydpcy1zZWxlY3RlZCddID0gT2JqZWN0KHV0aWxfW1wiYXJyYXlGaW5kSW5kZXhcIl0pKE9iamVjdCh1dGlsX1tcImNvZXJjZVRydXRoeVZhbHVlVG9BcnJheVwiXSkodGhpcy52YWx1ZSksIGRhdGUgPT4gZGF0ZS5nZXRGdWxsWWVhcigpID09PSB5ZWFyICYmIGRhdGUuZ2V0TW9udGgoKSA9PT0gbW9udGgpID49IDA7XG4gICAgICBzdHlsZVsnaXMtY3VycmVudCddID0gdG9kYXkuZ2V0RnVsbFllYXIoKSA9PT0geWVhciAmJiB0b2RheS5nZXRNb250aCgpID09PSBtb250aDtcbiAgICAgIHN0eWxlLmRlZmF1bHQgPSBkZWZhdWx0VmFsdWUuc29tZShkYXRlID0+IHRoaXMuY2VsbE1hdGNoZXNEYXRlKGNlbGwsIGRhdGUpKTtcbiAgICAgIGlmIChjZWxsLmluUmFuZ2UpIHtcbiAgICAgICAgc3R5bGVbJ2luLXJhbmdlJ10gPSB0cnVlO1xuICAgICAgICBpZiAoY2VsbC5zdGFydCkge1xuICAgICAgICAgIHN0eWxlWydzdGFydC1kYXRlJ10gPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjZWxsLmVuZCkge1xuICAgICAgICAgIHN0eWxlWydlbmQtZGF0ZSddID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHN0eWxlO1xuICAgIH0sXG4gICAgZ2V0TW9udGhPZkNlbGwobW9udGgpIHtcbiAgICAgIGNvbnN0IHllYXIgPSB0aGlzLmRhdGUuZ2V0RnVsbFllYXIoKTtcbiAgICAgIHJldHVybiBuZXcgRGF0ZSh5ZWFyLCBtb250aCwgMSk7XG4gICAgfSxcbiAgICBtYXJrUmFuZ2UobWluRGF0ZSwgbWF4RGF0ZSkge1xuICAgICAgbWluRGF0ZSA9IGdldE1vbnRoVGltZXN0YW1wKG1pbkRhdGUpO1xuICAgICAgbWF4RGF0ZSA9IGdldE1vbnRoVGltZXN0YW1wKG1heERhdGUpIHx8IG1pbkRhdGU7XG4gICAgICBbbWluRGF0ZSwgbWF4RGF0ZV0gPSBbTWF0aC5taW4obWluRGF0ZSwgbWF4RGF0ZSksIE1hdGgubWF4KG1pbkRhdGUsIG1heERhdGUpXTtcbiAgICAgIGNvbnN0IHJvd3MgPSB0aGlzLnJvd3M7XG4gICAgICBmb3IgKGxldCBpID0gMCwgayA9IHJvd3MubGVuZ3RoOyBpIDwgazsgaSsrKSB7XG4gICAgICAgIGNvbnN0IHJvdyA9IHJvd3NbaV07XG4gICAgICAgIGZvciAobGV0IGogPSAwLCBsID0gcm93Lmxlbmd0aDsgaiA8IGw7IGorKykge1xuICAgICAgICAgIGNvbnN0IGNlbGwgPSByb3dbal07XG4gICAgICAgICAgY29uc3QgaW5kZXggPSBpICogNCArIGo7XG4gICAgICAgICAgY29uc3QgdGltZSA9IG5ldyBEYXRlKHRoaXMuZGF0ZS5nZXRGdWxsWWVhcigpLCBpbmRleCkuZ2V0VGltZSgpO1xuICAgICAgICAgIGNlbGwuaW5SYW5nZSA9IG1pbkRhdGUgJiYgdGltZSA+PSBtaW5EYXRlICYmIHRpbWUgPD0gbWF4RGF0ZTtcbiAgICAgICAgICBjZWxsLnN0YXJ0ID0gbWluRGF0ZSAmJiB0aW1lID09PSBtaW5EYXRlO1xuICAgICAgICAgIGNlbGwuZW5kID0gbWF4RGF0ZSAmJiB0aW1lID09PSBtYXhEYXRlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICBoYW5kbGVNb3VzZU1vdmUoZXZlbnQpIHtcbiAgICAgIGlmICghdGhpcy5yYW5nZVN0YXRlLnNlbGVjdGluZykgcmV0dXJuO1xuICAgICAgbGV0IHRhcmdldCA9IGV2ZW50LnRhcmdldDtcbiAgICAgIGlmICh0YXJnZXQudGFnTmFtZSA9PT0gJ0EnKSB7XG4gICAgICAgIHRhcmdldCA9IHRhcmdldC5wYXJlbnROb2RlLnBhcmVudE5vZGU7XG4gICAgICB9XG4gICAgICBpZiAodGFyZ2V0LnRhZ05hbWUgPT09ICdESVYnKSB7XG4gICAgICAgIHRhcmdldCA9IHRhcmdldC5wYXJlbnROb2RlO1xuICAgICAgfVxuICAgICAgaWYgKHRhcmdldC50YWdOYW1lICE9PSAnVEQnKSByZXR1cm47XG4gICAgICBjb25zdCByb3cgPSB0YXJnZXQucGFyZW50Tm9kZS5yb3dJbmRleDtcbiAgICAgIGNvbnN0IGNvbHVtbiA9IHRhcmdldC5jZWxsSW5kZXg7XG4gICAgICAvLyBjYW4gbm90IHNlbGVjdCBkaXNhYmxlZCBkYXRlXG4gICAgICBpZiAodGhpcy5yb3dzW3Jvd11bY29sdW1uXS5kaXNhYmxlZCkgcmV0dXJuO1xuXG4gICAgICAvLyBvbmx5IHVwZGF0ZSByYW5nZVN0YXRlIHdoZW4gbW91c2UgbW92ZXMgdG8gYSBuZXcgY2VsbFxuICAgICAgLy8gdGhpcyBhdm9pZHMgZnJlcXVlbnQgRGF0ZSBvYmplY3QgY3JlYXRpb24gYW5kIGltcHJvdmVzIHBlcmZvcm1hbmNlXG4gICAgICBpZiAocm93ICE9PSB0aGlzLmxhc3RSb3cgfHwgY29sdW1uICE9PSB0aGlzLmxhc3RDb2x1bW4pIHtcbiAgICAgICAgdGhpcy5sYXN0Um93ID0gcm93O1xuICAgICAgICB0aGlzLmxhc3RDb2x1bW4gPSBjb2x1bW47XG4gICAgICAgIHRoaXMuJGVtaXQoJ2NoYW5nZXJhbmdlJywge1xuICAgICAgICAgIG1pbkRhdGU6IHRoaXMubWluRGF0ZSxcbiAgICAgICAgICBtYXhEYXRlOiB0aGlzLm1heERhdGUsXG4gICAgICAgICAgcmFuZ2VTdGF0ZToge1xuICAgICAgICAgICAgc2VsZWN0aW5nOiB0cnVlLFxuICAgICAgICAgICAgZW5kRGF0ZTogdGhpcy5nZXRNb250aE9mQ2VsbChyb3cgKiA0ICsgY29sdW1uKVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSxcbiAgICBoYW5kbGVNb250aFRhYmxlQ2xpY2soZXZlbnQpIHtcbiAgICAgIGxldCB0YXJnZXQgPSBldmVudC50YXJnZXQ7XG4gICAgICBpZiAodGFyZ2V0LnRhZ05hbWUgPT09ICdBJykge1xuICAgICAgICB0YXJnZXQgPSB0YXJnZXQucGFyZW50Tm9kZS5wYXJlbnROb2RlO1xuICAgICAgfVxuICAgICAgaWYgKHRhcmdldC50YWdOYW1lID09PSAnRElWJykge1xuICAgICAgICB0YXJnZXQgPSB0YXJnZXQucGFyZW50Tm9kZTtcbiAgICAgIH1cbiAgICAgIGlmICh0YXJnZXQudGFnTmFtZSAhPT0gJ1REJykgcmV0dXJuO1xuICAgICAgaWYgKE9iamVjdChkb21fW1wiaGFzQ2xhc3NcIl0pKHRhcmdldCwgJ2Rpc2FibGVkJykpIHJldHVybjtcbiAgICAgIGNvbnN0IGNvbHVtbiA9IHRhcmdldC5jZWxsSW5kZXg7XG4gICAgICBjb25zdCByb3cgPSB0YXJnZXQucGFyZW50Tm9kZS5yb3dJbmRleDtcbiAgICAgIGNvbnN0IG1vbnRoID0gcm93ICogNCArIGNvbHVtbjtcbiAgICAgIGNvbnN0IG5ld0RhdGUgPSB0aGlzLmdldE1vbnRoT2ZDZWxsKG1vbnRoKTtcbiAgICAgIGlmICh0aGlzLnNlbGVjdGlvbk1vZGUgPT09ICdyYW5nZScpIHtcbiAgICAgICAgaWYgKCF0aGlzLnJhbmdlU3RhdGUuc2VsZWN0aW5nKSB7XG4gICAgICAgICAgdGhpcy4kZW1pdCgncGljaycsIHtcbiAgICAgICAgICAgIG1pbkRhdGU6IG5ld0RhdGUsXG4gICAgICAgICAgICBtYXhEYXRlOiBudWxsXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgdGhpcy5yYW5nZVN0YXRlLnNlbGVjdGluZyA9IHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKG5ld0RhdGUgPj0gdGhpcy5taW5EYXRlKSB7XG4gICAgICAgICAgICB0aGlzLiRlbWl0KCdwaWNrJywge1xuICAgICAgICAgICAgICBtaW5EYXRlOiB0aGlzLm1pbkRhdGUsXG4gICAgICAgICAgICAgIG1heERhdGU6IG5ld0RhdGVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLiRlbWl0KCdwaWNrJywge1xuICAgICAgICAgICAgICBtaW5EYXRlOiBuZXdEYXRlLFxuICAgICAgICAgICAgICBtYXhEYXRlOiB0aGlzLm1pbkRhdGVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aGlzLnJhbmdlU3RhdGUuc2VsZWN0aW5nID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuJGVtaXQoJ3BpY2snLCBtb250aCk7XG4gICAgICB9XG4gICAgfVxuICB9LFxuICBjb21wdXRlZDoge1xuICAgIHJvd3MoKSB7XG4gICAgICAvLyBUT0RPOiByZWZhY3Rvcnkgcm93cyAvIGdldENlbGxDbGFzc2VzXG4gICAgICBjb25zdCByb3dzID0gdGhpcy50YWJsZVJvd3M7XG4gICAgICBjb25zdCBkaXNhYmxlZERhdGUgPSB0aGlzLmRpc2FibGVkRGF0ZTtcbiAgICAgIGNvbnN0IHNlbGVjdGVkRGF0ZSA9IFtdO1xuICAgICAgY29uc3Qgbm93ID0gZ2V0TW9udGhUaW1lc3RhbXAobmV3IERhdGUoKSk7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDM7IGkrKykge1xuICAgICAgICBjb25zdCByb3cgPSByb3dzW2ldO1xuICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IDQ7IGorKykge1xuICAgICAgICAgIGxldCBjZWxsID0gcm93W2pdO1xuICAgICAgICAgIGlmICghY2VsbCkge1xuICAgICAgICAgICAgY2VsbCA9IHtcbiAgICAgICAgICAgICAgcm93OiBpLFxuICAgICAgICAgICAgICBjb2x1bW46IGosXG4gICAgICAgICAgICAgIHR5cGU6ICdub3JtYWwnLFxuICAgICAgICAgICAgICBpblJhbmdlOiBmYWxzZSxcbiAgICAgICAgICAgICAgc3RhcnQ6IGZhbHNlLFxuICAgICAgICAgICAgICBlbmQ6IGZhbHNlXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH1cbiAgICAgICAgICBjZWxsLnR5cGUgPSAnbm9ybWFsJztcbiAgICAgICAgICBjb25zdCBpbmRleCA9IGkgKiA0ICsgajtcbiAgICAgICAgICBjb25zdCB0aW1lID0gbmV3IERhdGUodGhpcy5kYXRlLmdldEZ1bGxZZWFyKCksIGluZGV4KS5nZXRUaW1lKCk7XG4gICAgICAgICAgY2VsbC5pblJhbmdlID0gdGltZSA+PSBnZXRNb250aFRpbWVzdGFtcCh0aGlzLm1pbkRhdGUpICYmIHRpbWUgPD0gZ2V0TW9udGhUaW1lc3RhbXAodGhpcy5tYXhEYXRlKTtcbiAgICAgICAgICBjZWxsLnN0YXJ0ID0gdGhpcy5taW5EYXRlICYmIHRpbWUgPT09IGdldE1vbnRoVGltZXN0YW1wKHRoaXMubWluRGF0ZSk7XG4gICAgICAgICAgY2VsbC5lbmQgPSB0aGlzLm1heERhdGUgJiYgdGltZSA9PT0gZ2V0TW9udGhUaW1lc3RhbXAodGhpcy5tYXhEYXRlKTtcbiAgICAgICAgICBjb25zdCBpc1RvZGF5ID0gdGltZSA9PT0gbm93O1xuICAgICAgICAgIGlmIChpc1RvZGF5KSB7XG4gICAgICAgICAgICBjZWxsLnR5cGUgPSAndG9kYXknO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjZWxsLnRleHQgPSBpbmRleDtcbiAgICAgICAgICBsZXQgY2VsbERhdGUgPSBuZXcgRGF0ZSh0aW1lKTtcbiAgICAgICAgICBjZWxsLmRpc2FibGVkID0gdHlwZW9mIGRpc2FibGVkRGF0ZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkaXNhYmxlZERhdGUoY2VsbERhdGUpO1xuICAgICAgICAgIGNlbGwuc2VsZWN0ZWQgPSBPYmplY3QodXRpbF9bXCJhcnJheUZpbmRcIl0pKHNlbGVjdGVkRGF0ZSwgZGF0ZSA9PiBkYXRlLmdldFRpbWUoKSA9PT0gY2VsbERhdGUuZ2V0VGltZSgpKTtcbiAgICAgICAgICB0aGlzLiRzZXQocm93LCBqLCBjZWxsKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJvd3M7XG4gICAgfVxuICB9XG59KTtcbi8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vcGFja2FnZXMvZGF0ZS1waWNrZXIvc3JjL2Jhc2ljL21vbnRoLXRhYmxlLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qc1xuIC8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gdmFyIGJhc2ljX21vbnRoX3RhYmxldnVlX3R5cGVfc2NyaXB0X2xhbmdfanMgPSAobW9udGhfdGFibGV2dWVfdHlwZV9zY3JpcHRfbGFuZ19qcyk7IFxuLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9wYWNrYWdlcy9kYXRlLXBpY2tlci9zcmMvYmFzaWMvbW9udGgtdGFibGUudnVlXG5cblxuXG5cblxuLyogbm9ybWFsaXplIGNvbXBvbmVudCAqL1xuXG52YXIgbW9udGhfdGFibGVfY29tcG9uZW50ID0gT2JqZWN0KGNvbXBvbmVudE5vcm1hbGl6ZXJbXCJhXCIgLyogZGVmYXVsdCAqL10pKFxuICBiYXNpY19tb250aF90YWJsZXZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzLFxuICBtb250aF90YWJsZXZ1ZV90eXBlX3RlbXBsYXRlX2lkXzVmYmJhMTIxX3JlbmRlcixcbiAgbW9udGhfdGFibGV2dWVfdHlwZV90ZW1wbGF0ZV9pZF81ZmJiYTEyMV9zdGF0aWNSZW5kZXJGbnMsXG4gIGZhbHNlLFxuICBudWxsLFxuICBudWxsLFxuICBudWxsXG4gIFxuKVxuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIHZhciBtb250aF90YWJsZSA9IChtb250aF90YWJsZV9jb21wb25lbnQuZXhwb3J0cyk7XG4vLyBDT05DQVRFTkFURUQgTU9EVUxFOiBDOi9Vc2Vycy9UeWxlclRyb3R0ZXIvcmVwb3MvQ29nbml0byBGb3Jtcy9Db2duaXRvLldlYi5DbGllbnQvbm9kZV9tb2R1bGVzLy5wbnBtL3Z1ZS1sb2FkZXJAMTUuMTEuMV9jc3MtbG9hZGVyQDUuMi43X3ByZXR0aWVyQDEuMTguMl92dWUtdGVtcGxhdGUtY29tcGlsZXJAMi43LjE1X3dlYnBhY2tANC40Ni4wL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9sb2FkZXJzL3RlbXBsYXRlTG9hZGVyLmpzPz9yZWYtLTUhQzovVXNlcnMvVHlsZXJUcm90dGVyL3JlcG9zL0NvZ25pdG8gRm9ybXMvQ29nbml0by5XZWIuQ2xpZW50L25vZGVfbW9kdWxlcy8ucG5wbS92dWUtbG9hZGVyQDE1LjExLjFfY3NzLWxvYWRlckA1LjIuN19wcmV0dGllckAxLjE4LjJfdnVlLXRlbXBsYXRlLWNvbXBpbGVyQDIuNy4xNV93ZWJwYWNrQDQuNDYuMC9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWI/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL3BhY2thZ2VzL2RhdGUtcGlja2VyL3NyYy9iYXNpYy9kYXRlLXRhYmxlLnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD01ZWUxZDJhM1xudmFyIGRhdGVfdGFibGV2dWVfdHlwZV90ZW1wbGF0ZV9pZF81ZWUxZDJhM19yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG4gIHZhciBfdm0gPSB0aGlzLFxuICAgIF9jID0gX3ZtLl9zZWxmLl9jXG4gIHJldHVybiBfYyhcbiAgICBcInRhYmxlXCIsXG4gICAge1xuICAgICAgc3RhdGljQ2xhc3M6IFwiZWwtZGF0ZS10YWJsZVwiLFxuICAgICAgY2xhc3M6IHsgXCJpcy13ZWVrLW1vZGVcIjogX3ZtLnNlbGVjdGlvbk1vZGUgPT09IFwid2Vla1wiIH0sXG4gICAgICBhdHRyczogeyBjZWxsc3BhY2luZzogXCIwXCIsIGNlbGxwYWRkaW5nOiBcIjBcIiB9LFxuICAgICAgb246IHsgY2xpY2s6IF92bS5oYW5kbGVDbGljaywgbW91c2Vtb3ZlOiBfdm0uaGFuZGxlTW91c2VNb3ZlIH1cbiAgICB9LFxuICAgIFtcbiAgICAgIF9jKFxuICAgICAgICBcInRib2R5XCIsXG4gICAgICAgIFtcbiAgICAgICAgICBfYyhcbiAgICAgICAgICAgIFwidHJcIixcbiAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgX3ZtLnNob3dXZWVrTnVtYmVyXG4gICAgICAgICAgICAgICAgPyBfYyhcInRoXCIsIFtfdm0uX3YoX3ZtLl9zKF92bS50KFwiZWwuZGF0ZXBpY2tlci53ZWVrXCIpKSldKVxuICAgICAgICAgICAgICAgIDogX3ZtLl9lKCksXG4gICAgICAgICAgICAgIF92bS5fbChfdm0uV0VFS1MsIGZ1bmN0aW9uKHdlZWssIGtleSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBfYyhcInRoXCIsIHsga2V5OiBrZXkgfSwgW1xuICAgICAgICAgICAgICAgICAgX3ZtLl92KF92bS5fcyhfdm0udChcImVsLmRhdGVwaWNrZXIud2Vla3MuXCIgKyB3ZWVrKSkpXG4gICAgICAgICAgICAgICAgXSlcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAyXG4gICAgICAgICAgKSxcbiAgICAgICAgICBfdm0uX2woX3ZtLnJvd3MsIGZ1bmN0aW9uKHJvdywga2V5KSB7XG4gICAgICAgICAgICByZXR1cm4gX2MoXG4gICAgICAgICAgICAgIFwidHJcIixcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGtleToga2V5LFxuICAgICAgICAgICAgICAgIHN0YXRpY0NsYXNzOiBcImVsLWRhdGUtdGFibGVfX3Jvd1wiLFxuICAgICAgICAgICAgICAgIGNsYXNzOiB7IFtcImlzLXNlbGVjdGVkXCJdOiBfdm0uaXNXZWVrQWN0aXZlKHJvd1sxXSkgfVxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBfdm0uX2wocm93LCBmdW5jdGlvbihjZWxsLCBrZXkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gX2MoXCJ0ZFwiLCB7IGtleToga2V5LCBjbGFzczogX3ZtLmdldENlbGxDbGFzc2VzKGNlbGwpIH0sIFtcbiAgICAgICAgICAgICAgICAgIF9jKFwiZGl2XCIsIFtcbiAgICAgICAgICAgICAgICAgICAgX2MoXCJzcGFuXCIsIHsgc3RhdGljQ2xhc3M6IFwiZWwtZGF0ZS1waWNrZXJfX2NlbGxcIiB9LCBbXG4gICAgICAgICAgICAgICAgICAgICAgX3ZtLl92KFwiXFxuICAgICAgICAgIFwiICsgX3ZtLl9zKGNlbGwudGV4dCkgKyBcIlxcbiAgICAgICAgXCIpXG4gICAgICAgICAgICAgICAgICAgIF0pXG4gICAgICAgICAgICAgICAgICBdKVxuICAgICAgICAgICAgICAgIF0pXG4gICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAwXG4gICAgICAgICAgICApXG4gICAgICAgICAgfSlcbiAgICAgICAgXSxcbiAgICAgICAgMlxuICAgICAgKVxuICAgIF1cbiAgKVxufVxudmFyIGRhdGVfdGFibGV2dWVfdHlwZV90ZW1wbGF0ZV9pZF81ZWUxZDJhM19zdGF0aWNSZW5kZXJGbnMgPSBbXVxuZGF0ZV90YWJsZXZ1ZV90eXBlX3RlbXBsYXRlX2lkXzVlZTFkMmEzX3JlbmRlci5fd2l0aFN0cmlwcGVkID0gdHJ1ZVxuXG5cbi8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vcGFja2FnZXMvZGF0ZS1waWNrZXIvc3JjL2Jhc2ljL2RhdGUtdGFibGUudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPTVlZTFkMmEzXG5cbi8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IEM6L1VzZXJzL1R5bGVyVHJvdHRlci9yZXBvcy9Db2duaXRvIEZvcm1zL0NvZ25pdG8uV2ViLkNsaWVudC9ub2RlX21vZHVsZXMvLnBucG0vYmFiZWwtbG9hZGVyQDguMy4wX0BiYWJlbCtjb3JlQDcuMjUuMl93ZWJwYWNrQDQuNDYuMC9ub2RlX21vZHVsZXMvYmFiZWwtbG9hZGVyL2xpYiFDOi9Vc2Vycy9UeWxlclRyb3R0ZXIvcmVwb3MvQ29nbml0byBGb3Jtcy9Db2duaXRvLldlYi5DbGllbnQvbm9kZV9tb2R1bGVzLy5wbnBtL3Z1ZS1sb2FkZXJAMTUuMTEuMV9jc3MtbG9hZGVyQDUuMi43X3ByZXR0aWVyQDEuMTguMl92dWUtdGVtcGxhdGUtY29tcGlsZXJAMi43LjE1X3dlYnBhY2tANC40Ni4wL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYj8/dnVlLWxvYWRlci1vcHRpb25zIS4vcGFja2FnZXMvZGF0ZS1waWNrZXIvc3JjL2Jhc2ljL2RhdGUtdGFibGUudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzXG5cblxuXG5jb25zdCBXRUVLUyA9IFsnc3VuJywgJ21vbicsICd0dWUnLCAnd2VkJywgJ3RodScsICdmcmknLCAnc2F0J107XG5jb25zdCBnZXREYXRlVGltZXN0YW1wID0gZnVuY3Rpb24gKHRpbWUpIHtcbiAgaWYgKHR5cGVvZiB0aW1lID09PSAnbnVtYmVyJyB8fCB0eXBlb2YgdGltZSA9PT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gT2JqZWN0KGRhdGVfdXRpbF9bXCJjbGVhclRpbWVcIl0pKG5ldyBEYXRlKHRpbWUpKS5nZXRUaW1lKCk7XG4gIH0gZWxzZSBpZiAodGltZSBpbnN0YW5jZW9mIERhdGUpIHtcbiAgICByZXR1cm4gT2JqZWN0KGRhdGVfdXRpbF9bXCJjbGVhclRpbWVcIl0pKHRpbWUpLmdldFRpbWUoKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gTmFOO1xuICB9XG59O1xuXG4vLyByZW1vdmUgdGhlIGZpcnN0IGVsZW1lbnQgdGhhdCBzYXRpc2ZpZXMgYHByZWRgIGZyb20gYXJyXG4vLyByZXR1cm4gYSBuZXcgYXJyYXkgaWYgbW9kaWZpY2F0aW9uIG9jY3Vyc1xuLy8gcmV0dXJuIHRoZSBvcmlnaW5hbCBhcnJheSBvdGhlcndpc2VcbmNvbnN0IHJlbW92ZUZyb21BcnJheSA9IGZ1bmN0aW9uIChhcnIsIHByZWQpIHtcbiAgY29uc3QgaWR4ID0gdHlwZW9mIHByZWQgPT09ICdmdW5jdGlvbicgPyBPYmplY3QodXRpbF9bXCJhcnJheUZpbmRJbmRleFwiXSkoYXJyLCBwcmVkKSA6IGFyci5pbmRleE9mKHByZWQpO1xuICByZXR1cm4gaWR4ID49IDAgPyBbLi4uYXJyLnNsaWNlKDAsIGlkeCksIC4uLmFyci5zbGljZShpZHggKyAxKV0gOiBhcnI7XG59O1xuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyB2YXIgZGF0ZV90YWJsZXZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzID0gKHtcbiAgbWl4aW5zOiBbbG9jYWxlX2RlZmF1bHQuYV0sXG4gIHByb3BzOiB7XG4gICAgZmlyc3REYXlPZldlZWs6IHtcbiAgICAgIGRlZmF1bHQ6IDcsXG4gICAgICB0eXBlOiBOdW1iZXIsXG4gICAgICB2YWxpZGF0b3I6IHZhbCA9PiB2YWwgPj0gMSAmJiB2YWwgPD0gN1xuICAgIH0sXG4gICAgdmFsdWU6IHt9LFxuICAgIGRlZmF1bHRWYWx1ZToge1xuICAgICAgdmFsaWRhdG9yKHZhbCkge1xuICAgICAgICAvLyBlaXRoZXI6IG51bGwsIHZhbGlkIERhdGUgb2JqZWN0LCBBcnJheSBvZiB2YWxpZCBEYXRlIG9iamVjdHNcbiAgICAgICAgcmV0dXJuIHZhbCA9PT0gbnVsbCB8fCBPYmplY3QoZGF0ZV91dGlsX1tcImlzRGF0ZVwiXSkodmFsKSB8fCBBcnJheS5pc0FycmF5KHZhbCkgJiYgdmFsLmV2ZXJ5KGRhdGVfdXRpbF9bXCJpc0RhdGVcIl0pO1xuICAgICAgfVxuICAgIH0sXG4gICAgZGF0ZToge30sXG4gICAgc2VsZWN0aW9uTW9kZToge1xuICAgICAgZGVmYXVsdDogJ2RheSdcbiAgICB9LFxuICAgIHNob3dXZWVrTnVtYmVyOiB7XG4gICAgICB0eXBlOiBCb29sZWFuLFxuICAgICAgZGVmYXVsdDogZmFsc2VcbiAgICB9LFxuICAgIGRpc2FibGVkRGF0ZToge30sXG4gICAgY2VsbENsYXNzTmFtZToge30sXG4gICAgbWluRGF0ZToge30sXG4gICAgbWF4RGF0ZToge30sXG4gICAgcmFuZ2VTdGF0ZToge1xuICAgICAgZGVmYXVsdCgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBlbmREYXRlOiBudWxsLFxuICAgICAgICAgIHNlbGVjdGluZzogZmFsc2VcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9XG4gIH0sXG4gIGNvbXB1dGVkOiB7XG4gICAgb2Zmc2V0RGF5KCkge1xuICAgICAgY29uc3Qgd2VlayA9IHRoaXMuZmlyc3REYXlPZldlZWs7XG4gICAgICAvLyDlkajml6XkuLrnlYzpmZDvvIzlt6blj7PlgY/np7vnmoTlpKnmlbDvvIwzMjE3NjU0IOS+i+WmguWRqOS4gOWwseaYryAtMe+8jOebrueahOaYr+iwg+aVtOWJjeS4pOihjOaXpeacn+eahOS9jee9rlxuICAgICAgcmV0dXJuIHdlZWsgPiAzID8gNyAtIHdlZWsgOiAtd2VlaztcbiAgICB9LFxuICAgIFdFRUtTKCkge1xuICAgICAgY29uc3Qgd2VlayA9IHRoaXMuZmlyc3REYXlPZldlZWs7XG4gICAgICByZXR1cm4gV0VFS1MuY29uY2F0KFdFRUtTKS5zbGljZSh3ZWVrLCB3ZWVrICsgNyk7XG4gICAgfSxcbiAgICB5ZWFyKCkge1xuICAgICAgcmV0dXJuIHRoaXMuZGF0ZS5nZXRGdWxsWWVhcigpO1xuICAgIH0sXG4gICAgbW9udGgoKSB7XG4gICAgICByZXR1cm4gdGhpcy5kYXRlLmdldE1vbnRoKCk7XG4gICAgfSxcbiAgICBzdGFydERhdGUoKSB7XG4gICAgICByZXR1cm4gT2JqZWN0KGRhdGVfdXRpbF9bXCJnZXRTdGFydERhdGVPZk1vbnRoXCJdKSh0aGlzLnllYXIsIHRoaXMubW9udGgpO1xuICAgIH0sXG4gICAgcm93cygpIHtcbiAgICAgIC8vIFRPRE86IHJlZmFjdG9yeSByb3dzIC8gZ2V0Q2VsbENsYXNzZXNcbiAgICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZSh0aGlzLnllYXIsIHRoaXMubW9udGgsIDEpO1xuICAgICAgbGV0IGRheSA9IE9iamVjdChkYXRlX3V0aWxfW1wiZ2V0Rmlyc3REYXlPZk1vbnRoXCJdKShkYXRlKTsgLy8gZGF5IG9mIGZpcnN0IGRheVxuICAgICAgY29uc3QgZGF0ZUNvdW50T2ZNb250aCA9IE9iamVjdChkYXRlX3V0aWxfW1wiZ2V0RGF5Q291bnRPZk1vbnRoXCJdKShkYXRlLmdldEZ1bGxZZWFyKCksIGRhdGUuZ2V0TW9udGgoKSk7XG4gICAgICBjb25zdCBkYXRlQ291bnRPZkxhc3RNb250aCA9IE9iamVjdChkYXRlX3V0aWxfW1wiZ2V0RGF5Q291bnRPZk1vbnRoXCJdKShkYXRlLmdldEZ1bGxZZWFyKCksIGRhdGUuZ2V0TW9udGgoKSA9PT0gMCA/IDExIDogZGF0ZS5nZXRNb250aCgpIC0gMSk7XG4gICAgICBkYXkgPSBkYXkgPT09IDAgPyA3IDogZGF5O1xuICAgICAgY29uc3Qgb2Zmc2V0ID0gdGhpcy5vZmZzZXREYXk7XG4gICAgICBjb25zdCByb3dzID0gdGhpcy50YWJsZVJvd3M7XG4gICAgICBsZXQgY291bnQgPSAxO1xuICAgICAgY29uc3Qgc3RhcnREYXRlID0gdGhpcy5zdGFydERhdGU7XG4gICAgICBjb25zdCBkaXNhYmxlZERhdGUgPSB0aGlzLmRpc2FibGVkRGF0ZTtcbiAgICAgIGNvbnN0IGNlbGxDbGFzc05hbWUgPSB0aGlzLmNlbGxDbGFzc05hbWU7XG4gICAgICBjb25zdCBzZWxlY3RlZERhdGUgPSB0aGlzLnNlbGVjdGlvbk1vZGUgPT09ICdkYXRlcycgPyBPYmplY3QodXRpbF9bXCJjb2VyY2VUcnV0aHlWYWx1ZVRvQXJyYXlcIl0pKHRoaXMudmFsdWUpIDogW107XG4gICAgICBjb25zdCBub3cgPSBnZXREYXRlVGltZXN0YW1wKG5ldyBEYXRlKCkpO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCA2OyBpKyspIHtcbiAgICAgICAgY29uc3Qgcm93ID0gcm93c1tpXTtcbiAgICAgICAgaWYgKHRoaXMuc2hvd1dlZWtOdW1iZXIpIHtcbiAgICAgICAgICBpZiAoIXJvd1swXSkge1xuICAgICAgICAgICAgcm93WzBdID0ge1xuICAgICAgICAgICAgICB0eXBlOiAnd2VlaycsXG4gICAgICAgICAgICAgIHRleHQ6IE9iamVjdChkYXRlX3V0aWxfW1wiZ2V0V2Vla051bWJlclwiXSkoT2JqZWN0KGRhdGVfdXRpbF9bXCJuZXh0RGF0ZVwiXSkoc3RhcnREYXRlLCBpICogNyArIDEpKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCA3OyBqKyspIHtcbiAgICAgICAgICBsZXQgY2VsbCA9IHJvd1t0aGlzLnNob3dXZWVrTnVtYmVyID8gaiArIDEgOiBqXTtcbiAgICAgICAgICBpZiAoIWNlbGwpIHtcbiAgICAgICAgICAgIGNlbGwgPSB7XG4gICAgICAgICAgICAgIHJvdzogaSxcbiAgICAgICAgICAgICAgY29sdW1uOiBqLFxuICAgICAgICAgICAgICB0eXBlOiAnbm9ybWFsJyxcbiAgICAgICAgICAgICAgaW5SYW5nZTogZmFsc2UsXG4gICAgICAgICAgICAgIHN0YXJ0OiBmYWxzZSxcbiAgICAgICAgICAgICAgZW5kOiBmYWxzZVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY2VsbC50eXBlID0gJ25vcm1hbCc7XG4gICAgICAgICAgY29uc3QgaW5kZXggPSBpICogNyArIGo7XG4gICAgICAgICAgY29uc3QgdGltZSA9IE9iamVjdChkYXRlX3V0aWxfW1wibmV4dERhdGVcIl0pKHN0YXJ0RGF0ZSwgaW5kZXggLSBvZmZzZXQpLmdldFRpbWUoKTtcbiAgICAgICAgICBjZWxsLmluUmFuZ2UgPSB0aW1lID49IGdldERhdGVUaW1lc3RhbXAodGhpcy5taW5EYXRlKSAmJiB0aW1lIDw9IGdldERhdGVUaW1lc3RhbXAodGhpcy5tYXhEYXRlKTtcbiAgICAgICAgICBjZWxsLnN0YXJ0ID0gdGhpcy5taW5EYXRlICYmIHRpbWUgPT09IGdldERhdGVUaW1lc3RhbXAodGhpcy5taW5EYXRlKTtcbiAgICAgICAgICBjZWxsLmVuZCA9IHRoaXMubWF4RGF0ZSAmJiB0aW1lID09PSBnZXREYXRlVGltZXN0YW1wKHRoaXMubWF4RGF0ZSk7XG4gICAgICAgICAgY29uc3QgaXNUb2RheSA9IHRpbWUgPT09IG5vdztcbiAgICAgICAgICBpZiAoaXNUb2RheSkge1xuICAgICAgICAgICAgY2VsbC50eXBlID0gJ3RvZGF5JztcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGkgPj0gMCAmJiBpIDw9IDEpIHtcbiAgICAgICAgICAgIGNvbnN0IG51bWJlck9mRGF5c0Zyb21QcmV2aW91c01vbnRoID0gZGF5ICsgb2Zmc2V0IDwgMCA/IDcgKyBkYXkgKyBvZmZzZXQgOiBkYXkgKyBvZmZzZXQ7XG4gICAgICAgICAgICBpZiAoaiArIGkgKiA3ID49IG51bWJlck9mRGF5c0Zyb21QcmV2aW91c01vbnRoKSB7XG4gICAgICAgICAgICAgIGNlbGwudGV4dCA9IGNvdW50Kys7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBjZWxsLnRleHQgPSBkYXRlQ291bnRPZkxhc3RNb250aCAtIChudW1iZXJPZkRheXNGcm9tUHJldmlvdXNNb250aCAtIGogJSA3KSArIDEgKyBpICogNztcbiAgICAgICAgICAgICAgY2VsbC50eXBlID0gJ2lzLW11dGVkJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKGNvdW50IDw9IGRhdGVDb3VudE9mTW9udGgpIHtcbiAgICAgICAgICAgICAgY2VsbC50ZXh0ID0gY291bnQrKztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGNlbGwudGV4dCA9IGNvdW50KysgLSBkYXRlQ291bnRPZk1vbnRoO1xuICAgICAgICAgICAgICBjZWxsLnR5cGUgPSAnaXMtbXV0ZWQnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBsZXQgY2VsbERhdGUgPSBuZXcgRGF0ZSh0aW1lKTtcbiAgICAgICAgICBjZWxsLmRpc2FibGVkID0gdHlwZW9mIGRpc2FibGVkRGF0ZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkaXNhYmxlZERhdGUoY2VsbERhdGUpO1xuICAgICAgICAgIGNlbGwuc2VsZWN0ZWQgPSBPYmplY3QodXRpbF9bXCJhcnJheUZpbmRcIl0pKHNlbGVjdGVkRGF0ZSwgZGF0ZSA9PiBkYXRlLmdldFRpbWUoKSA9PT0gY2VsbERhdGUuZ2V0VGltZSgpKTtcbiAgICAgICAgICBjZWxsLmN1c3RvbUNsYXNzID0gdHlwZW9mIGNlbGxDbGFzc05hbWUgPT09ICdmdW5jdGlvbicgJiYgY2VsbENsYXNzTmFtZShjZWxsRGF0ZSk7XG4gICAgICAgICAgdGhpcy4kc2V0KHJvdywgdGhpcy5zaG93V2Vla051bWJlciA/IGogKyAxIDogaiwgY2VsbCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuc2VsZWN0aW9uTW9kZSA9PT0gJ3dlZWsnKSB7XG4gICAgICAgICAgY29uc3Qgc3RhcnQgPSB0aGlzLnNob3dXZWVrTnVtYmVyID8gMSA6IDA7XG4gICAgICAgICAgY29uc3QgZW5kID0gdGhpcy5zaG93V2Vla051bWJlciA/IDcgOiA2O1xuICAgICAgICAgIGNvbnN0IGlzV2Vla0FjdGl2ZSA9IHRoaXMuaXNXZWVrQWN0aXZlKHJvd1tzdGFydCArIDFdKTtcbiAgICAgICAgICByb3dbc3RhcnRdLmluUmFuZ2UgPSBpc1dlZWtBY3RpdmU7XG4gICAgICAgICAgcm93W3N0YXJ0XS5zdGFydCA9IGlzV2Vla0FjdGl2ZTtcbiAgICAgICAgICByb3dbZW5kXS5pblJhbmdlID0gaXNXZWVrQWN0aXZlO1xuICAgICAgICAgIHJvd1tlbmRdLmVuZCA9IGlzV2Vla0FjdGl2ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJvd3M7XG4gICAgfVxuICB9LFxuICB3YXRjaDoge1xuICAgICdyYW5nZVN0YXRlLmVuZERhdGUnKG5ld1ZhbCkge1xuICAgICAgdGhpcy5tYXJrUmFuZ2UodGhpcy5taW5EYXRlLCBuZXdWYWwpO1xuICAgIH0sXG4gICAgbWluRGF0ZShuZXdWYWwsIG9sZFZhbCkge1xuICAgICAgaWYgKGdldERhdGVUaW1lc3RhbXAobmV3VmFsKSAhPT0gZ2V0RGF0ZVRpbWVzdGFtcChvbGRWYWwpKSB7XG4gICAgICAgIHRoaXMubWFya1JhbmdlKHRoaXMubWluRGF0ZSwgdGhpcy5tYXhEYXRlKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIG1heERhdGUobmV3VmFsLCBvbGRWYWwpIHtcbiAgICAgIGlmIChnZXREYXRlVGltZXN0YW1wKG5ld1ZhbCkgIT09IGdldERhdGVUaW1lc3RhbXAob2xkVmFsKSkge1xuICAgICAgICB0aGlzLm1hcmtSYW5nZSh0aGlzLm1pbkRhdGUsIHRoaXMubWF4RGF0ZSk7XG4gICAgICB9XG4gICAgfVxuICB9LFxuICBkYXRhKCkge1xuICAgIHJldHVybiB7XG4gICAgICB0YWJsZVJvd3M6IFtbXSwgW10sIFtdLCBbXSwgW10sIFtdXSxcbiAgICAgIGxhc3RSb3c6IG51bGwsXG4gICAgICBsYXN0Q29sdW1uOiBudWxsXG4gICAgfTtcbiAgfSxcbiAgbWV0aG9kczoge1xuICAgIGNlbGxNYXRjaGVzRGF0ZShjZWxsLCBkYXRlKSB7XG4gICAgICBjb25zdCB2YWx1ZSA9IG5ldyBEYXRlKGRhdGUpO1xuICAgICAgcmV0dXJuIHRoaXMueWVhciA9PT0gdmFsdWUuZ2V0RnVsbFllYXIoKSAmJiB0aGlzLm1vbnRoID09PSB2YWx1ZS5nZXRNb250aCgpICYmIE51bWJlcihjZWxsLnRleHQpID09PSB2YWx1ZS5nZXREYXRlKCk7XG4gICAgfSxcbiAgICBnZXRDZWxsQ2xhc3NlcyhjZWxsKSB7XG4gICAgICBjb25zdCBzZWxlY3Rpb25Nb2RlID0gdGhpcy5zZWxlY3Rpb25Nb2RlO1xuICAgICAgY29uc3QgZGVmYXVsdFZhbHVlID0gdGhpcy5kZWZhdWx0VmFsdWUgPyBBcnJheS5pc0FycmF5KHRoaXMuZGVmYXVsdFZhbHVlKSA/IHRoaXMuZGVmYXVsdFZhbHVlIDogW3RoaXMuZGVmYXVsdFZhbHVlXSA6IFtdO1xuICAgICAgbGV0IGNsYXNzZXMgPSBbXTtcbiAgICAgIGlmICgoY2VsbC50eXBlID09PSAnbm9ybWFsJyB8fCBjZWxsLnR5cGUgPT09ICd0b2RheScpICYmICFjZWxsLmRpc2FibGVkKSB7XG4gICAgICAgIGNsYXNzZXMucHVzaCgnaXMtc2VsZWN0YWJsZScpO1xuICAgICAgICBpZiAoY2VsbC50eXBlID09PSAndG9kYXknKSB7XG4gICAgICAgICAgY2xhc3Nlcy5wdXNoKCdpcy1jdXJyZW50Jyk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoY2VsbC50eXBlICE9PSAnbm9ybWFsJykge1xuICAgICAgICBjbGFzc2VzLnB1c2goY2VsbC50eXBlKTtcbiAgICAgIH1cbiAgICAgIGlmIChjZWxsLnR5cGUgPT09ICdub3JtYWwnICYmIGRlZmF1bHRWYWx1ZS5zb21lKGRhdGUgPT4gdGhpcy5jZWxsTWF0Y2hlc0RhdGUoY2VsbCwgZGF0ZSkpKSB7XG4gICAgICAgIGNsYXNzZXMucHVzaCgnZGVmYXVsdCcpO1xuICAgICAgfVxuICAgICAgaWYgKHNlbGVjdGlvbk1vZGUgPT09ICdkYXknICYmIChjZWxsLnR5cGUgPT09ICdub3JtYWwnIHx8IGNlbGwudHlwZSA9PT0gJ3RvZGF5JykgJiYgdGhpcy5jZWxsTWF0Y2hlc0RhdGUoY2VsbCwgdGhpcy52YWx1ZSkpIHtcbiAgICAgICAgY2xhc3Nlcy5wdXNoKCdpcy1zZWxlY3RlZCcpO1xuICAgICAgfVxuICAgICAgaWYgKGNlbGwuaW5SYW5nZSAmJiAoY2VsbC50eXBlID09PSAnbm9ybWFsJyB8fCBjZWxsLnR5cGUgPT09ICd0b2RheScgfHwgdGhpcy5zZWxlY3Rpb25Nb2RlID09PSAnd2VlaycpKSB7XG4gICAgICAgIGNsYXNzZXMucHVzaCgnaW4tcmFuZ2UnKTtcbiAgICAgICAgaWYgKGNlbGwuc3RhcnQpIHtcbiAgICAgICAgICBjbGFzc2VzLnB1c2goJ3N0YXJ0LWRhdGUnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY2VsbC5lbmQpIHtcbiAgICAgICAgICBjbGFzc2VzLnB1c2goJ2VuZC1kYXRlJyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChjZWxsLmRpc2FibGVkKSB7XG4gICAgICAgIGNsYXNzZXMucHVzaCgnaXMtZGlzYWJsZWQnKTtcbiAgICAgIH1cbiAgICAgIGlmIChjZWxsLnNlbGVjdGVkKSB7XG4gICAgICAgIGNsYXNzZXMucHVzaCgnaXMtc2VsZWN0ZWQnKTtcbiAgICAgIH1cbiAgICAgIGlmIChjZWxsLmN1c3RvbUNsYXNzKSB7XG4gICAgICAgIGNsYXNzZXMucHVzaChjZWxsLmN1c3RvbUNsYXNzKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBjbGFzc2VzLmpvaW4oJyAnKTtcbiAgICB9LFxuICAgIGdldERhdGVPZkNlbGwocm93LCBjb2x1bW4pIHtcbiAgICAgIGNvbnN0IG9mZnNldEZyb21TdGFydCA9IHJvdyAqIDcgKyAoY29sdW1uIC0gKHRoaXMuc2hvd1dlZWtOdW1iZXIgPyAxIDogMCkpIC0gdGhpcy5vZmZzZXREYXk7XG4gICAgICByZXR1cm4gT2JqZWN0KGRhdGVfdXRpbF9bXCJuZXh0RGF0ZVwiXSkodGhpcy5zdGFydERhdGUsIG9mZnNldEZyb21TdGFydCk7XG4gICAgfSxcbiAgICBpc1dlZWtBY3RpdmUoY2VsbCkge1xuICAgICAgaWYgKHRoaXMuc2VsZWN0aW9uTW9kZSAhPT0gJ3dlZWsnKSByZXR1cm4gZmFsc2U7XG4gICAgICBjb25zdCBuZXdEYXRlID0gbmV3IERhdGUodGhpcy55ZWFyLCB0aGlzLm1vbnRoLCAxKTtcbiAgICAgIGNvbnN0IHllYXIgPSBuZXdEYXRlLmdldEZ1bGxZZWFyKCk7XG4gICAgICBjb25zdCBtb250aCA9IG5ld0RhdGUuZ2V0TW9udGgoKTtcbiAgICAgIGlmIChjZWxsLnR5cGUgPT09ICdwcmV2LW1vbnRoJykge1xuICAgICAgICBuZXdEYXRlLnNldE1vbnRoKG1vbnRoID09PSAwID8gMTEgOiBtb250aCAtIDEpO1xuICAgICAgICBuZXdEYXRlLnNldEZ1bGxZZWFyKG1vbnRoID09PSAwID8geWVhciAtIDEgOiB5ZWFyKTtcbiAgICAgIH1cbiAgICAgIGlmIChjZWxsLnR5cGUgPT09ICduZXh0LW1vbnRoJykge1xuICAgICAgICBuZXdEYXRlLnNldE1vbnRoKG1vbnRoID09PSAxMSA/IDAgOiBtb250aCArIDEpO1xuICAgICAgICBuZXdEYXRlLnNldEZ1bGxZZWFyKG1vbnRoID09PSAxMSA/IHllYXIgKyAxIDogeWVhcik7XG4gICAgICB9XG4gICAgICBuZXdEYXRlLnNldERhdGUocGFyc2VJbnQoY2VsbC50ZXh0LCAxMCkpO1xuICAgICAgaWYgKE9iamVjdChkYXRlX3V0aWxfW1wiaXNEYXRlXCJdKSh0aGlzLnZhbHVlKSkge1xuICAgICAgICBjb25zdCBkYXlPZmZzZXQgPSAodGhpcy52YWx1ZS5nZXREYXkoKSAtIHRoaXMuZmlyc3REYXlPZldlZWsgKyA3KSAlIDcgLSAxO1xuICAgICAgICBjb25zdCB3ZWVrRGF0ZSA9IE9iamVjdChkYXRlX3V0aWxfW1wicHJldkRhdGVcIl0pKHRoaXMudmFsdWUsIGRheU9mZnNldCk7XG4gICAgICAgIHJldHVybiB3ZWVrRGF0ZS5nZXRUaW1lKCkgPT09IG5ld0RhdGUuZ2V0VGltZSgpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0sXG4gICAgbWFya1JhbmdlKG1pbkRhdGUsIG1heERhdGUpIHtcbiAgICAgIG1pbkRhdGUgPSBnZXREYXRlVGltZXN0YW1wKG1pbkRhdGUpO1xuICAgICAgbWF4RGF0ZSA9IGdldERhdGVUaW1lc3RhbXAobWF4RGF0ZSkgfHwgbWluRGF0ZTtcbiAgICAgIFttaW5EYXRlLCBtYXhEYXRlXSA9IFtNYXRoLm1pbihtaW5EYXRlLCBtYXhEYXRlKSwgTWF0aC5tYXgobWluRGF0ZSwgbWF4RGF0ZSldO1xuICAgICAgY29uc3Qgc3RhcnREYXRlID0gdGhpcy5zdGFydERhdGU7XG4gICAgICBjb25zdCByb3dzID0gdGhpcy5yb3dzO1xuICAgICAgZm9yIChsZXQgaSA9IDAsIGsgPSByb3dzLmxlbmd0aDsgaSA8IGs7IGkrKykge1xuICAgICAgICBjb25zdCByb3cgPSByb3dzW2ldO1xuICAgICAgICBmb3IgKGxldCBqID0gMCwgbCA9IHJvdy5sZW5ndGg7IGogPCBsOyBqKyspIHtcbiAgICAgICAgICBpZiAodGhpcy5zaG93V2Vla051bWJlciAmJiBqID09PSAwKSBjb250aW51ZTtcbiAgICAgICAgICBjb25zdCBjZWxsID0gcm93W2pdO1xuICAgICAgICAgIGNvbnN0IGluZGV4ID0gaSAqIDcgKyBqICsgKHRoaXMuc2hvd1dlZWtOdW1iZXIgPyAtMSA6IDApO1xuICAgICAgICAgIGNvbnN0IHRpbWUgPSBPYmplY3QoZGF0ZV91dGlsX1tcIm5leHREYXRlXCJdKShzdGFydERhdGUsIGluZGV4IC0gdGhpcy5vZmZzZXREYXkpLmdldFRpbWUoKTtcbiAgICAgICAgICBjZWxsLmluUmFuZ2UgPSBtaW5EYXRlICYmIHRpbWUgPj0gbWluRGF0ZSAmJiB0aW1lIDw9IG1heERhdGU7XG4gICAgICAgICAgY2VsbC5zdGFydCA9IG1pbkRhdGUgJiYgdGltZSA9PT0gbWluRGF0ZTtcbiAgICAgICAgICBjZWxsLmVuZCA9IG1heERhdGUgJiYgdGltZSA9PT0gbWF4RGF0ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgaGFuZGxlTW91c2VNb3ZlKGV2ZW50KSB7XG4gICAgICBpZiAoIXRoaXMucmFuZ2VTdGF0ZS5zZWxlY3RpbmcpIHJldHVybjtcbiAgICAgIGxldCB0YXJnZXQgPSBldmVudC50YXJnZXQ7XG4gICAgICBpZiAodGFyZ2V0LnRhZ05hbWUgPT09ICdTUEFOJykge1xuICAgICAgICB0YXJnZXQgPSB0YXJnZXQucGFyZW50Tm9kZS5wYXJlbnROb2RlO1xuICAgICAgfVxuICAgICAgaWYgKHRhcmdldC50YWdOYW1lID09PSAnRElWJykge1xuICAgICAgICB0YXJnZXQgPSB0YXJnZXQucGFyZW50Tm9kZTtcbiAgICAgIH1cbiAgICAgIGlmICh0YXJnZXQudGFnTmFtZSAhPT0gJ1REJykgcmV0dXJuO1xuICAgICAgY29uc3Qgcm93ID0gdGFyZ2V0LnBhcmVudE5vZGUucm93SW5kZXggLSAxO1xuICAgICAgY29uc3QgY29sdW1uID0gdGFyZ2V0LmNlbGxJbmRleDtcblxuICAgICAgLy8gY2FuIG5vdCBzZWxlY3QgZGlzYWJsZWQgZGF0ZVxuICAgICAgaWYgKHRoaXMucm93c1tyb3ddW2NvbHVtbl0uZGlzYWJsZWQpIHJldHVybjtcblxuICAgICAgLy8gb25seSB1cGRhdGUgcmFuZ2VTdGF0ZSB3aGVuIG1vdXNlIG1vdmVzIHRvIGEgbmV3IGNlbGxcbiAgICAgIC8vIHRoaXMgYXZvaWRzIGZyZXF1ZW50IERhdGUgb2JqZWN0IGNyZWF0aW9uIGFuZCBpbXByb3ZlcyBwZXJmb3JtYW5jZVxuICAgICAgaWYgKHJvdyAhPT0gdGhpcy5sYXN0Um93IHx8IGNvbHVtbiAhPT0gdGhpcy5sYXN0Q29sdW1uKSB7XG4gICAgICAgIHRoaXMubGFzdFJvdyA9IHJvdztcbiAgICAgICAgdGhpcy5sYXN0Q29sdW1uID0gY29sdW1uO1xuICAgICAgICB0aGlzLiRlbWl0KCdjaGFuZ2VyYW5nZScsIHtcbiAgICAgICAgICBtaW5EYXRlOiB0aGlzLm1pbkRhdGUsXG4gICAgICAgICAgbWF4RGF0ZTogdGhpcy5tYXhEYXRlLFxuICAgICAgICAgIHJhbmdlU3RhdGU6IHtcbiAgICAgICAgICAgIHNlbGVjdGluZzogdHJ1ZSxcbiAgICAgICAgICAgIGVuZERhdGU6IHRoaXMuZ2V0RGF0ZU9mQ2VsbChyb3csIGNvbHVtbilcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0sXG4gICAgaGFuZGxlQ2xpY2soZXZlbnQpIHtcbiAgICAgIGxldCB0YXJnZXQgPSBldmVudC50YXJnZXQ7XG4gICAgICBpZiAodGFyZ2V0LnRhZ05hbWUgPT09ICdTUEFOJykge1xuICAgICAgICB0YXJnZXQgPSB0YXJnZXQucGFyZW50Tm9kZS5wYXJlbnROb2RlO1xuICAgICAgfVxuICAgICAgaWYgKHRhcmdldC50YWdOYW1lID09PSAnRElWJykge1xuICAgICAgICB0YXJnZXQgPSB0YXJnZXQucGFyZW50Tm9kZTtcbiAgICAgIH1cbiAgICAgIGlmICh0YXJnZXQudGFnTmFtZSAhPT0gJ1REJykgcmV0dXJuO1xuICAgICAgY29uc3Qgcm93ID0gdGFyZ2V0LnBhcmVudE5vZGUucm93SW5kZXggLSAxO1xuICAgICAgY29uc3QgY29sdW1uID0gdGhpcy5zZWxlY3Rpb25Nb2RlID09PSAnd2VlaycgPyAxIDogdGFyZ2V0LmNlbGxJbmRleDtcbiAgICAgIGNvbnN0IGNlbGwgPSB0aGlzLnJvd3Nbcm93XVtjb2x1bW5dO1xuICAgICAgaWYgKGNlbGwuZGlzYWJsZWQgfHwgY2VsbC50eXBlID09PSAnd2VlaycpIHJldHVybjtcbiAgICAgIGNvbnN0IG5ld0RhdGUgPSB0aGlzLmdldERhdGVPZkNlbGwocm93LCBjb2x1bW4pO1xuICAgICAgaWYgKHRoaXMuc2VsZWN0aW9uTW9kZSA9PT0gJ3JhbmdlJykge1xuICAgICAgICBpZiAoIXRoaXMucmFuZ2VTdGF0ZS5zZWxlY3RpbmcpIHtcbiAgICAgICAgICB0aGlzLiRlbWl0KCdwaWNrJywge1xuICAgICAgICAgICAgbWluRGF0ZTogbmV3RGF0ZSxcbiAgICAgICAgICAgIG1heERhdGU6IG51bGxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICB0aGlzLnJhbmdlU3RhdGUuc2VsZWN0aW5nID0gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAobmV3RGF0ZSA+PSB0aGlzLm1pbkRhdGUpIHtcbiAgICAgICAgICAgIHRoaXMuJGVtaXQoJ3BpY2snLCB7XG4gICAgICAgICAgICAgIG1pbkRhdGU6IHRoaXMubWluRGF0ZSxcbiAgICAgICAgICAgICAgbWF4RGF0ZTogbmV3RGF0ZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuJGVtaXQoJ3BpY2snLCB7XG4gICAgICAgICAgICAgIG1pbkRhdGU6IG5ld0RhdGUsXG4gICAgICAgICAgICAgIG1heERhdGU6IHRoaXMubWluRGF0ZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMucmFuZ2VTdGF0ZS5zZWxlY3RpbmcgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICh0aGlzLnNlbGVjdGlvbk1vZGUgPT09ICdkYXknKSB7XG4gICAgICAgIHRoaXMuJGVtaXQoJ3BpY2snLCBuZXdEYXRlKTtcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5zZWxlY3Rpb25Nb2RlID09PSAnd2VlaycpIHtcbiAgICAgICAgY29uc3Qgd2Vla051bWJlciA9IE9iamVjdChkYXRlX3V0aWxfW1wiZ2V0V2Vla051bWJlclwiXSkobmV3RGF0ZSk7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gbmV3RGF0ZS5nZXRGdWxsWWVhcigpICsgJ3cnICsgd2Vla051bWJlcjtcbiAgICAgICAgdGhpcy4kZW1pdCgncGljaycsIHtcbiAgICAgICAgICB5ZWFyOiBuZXdEYXRlLmdldEZ1bGxZZWFyKCksXG4gICAgICAgICAgd2Vlazogd2Vla051bWJlcixcbiAgICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgICAgZGF0ZTogbmV3RGF0ZVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5zZWxlY3Rpb25Nb2RlID09PSAnZGF0ZXMnKSB7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gdGhpcy52YWx1ZSB8fCBbXTtcbiAgICAgICAgY29uc3QgbmV3VmFsdWUgPSBjZWxsLnNlbGVjdGVkID8gcmVtb3ZlRnJvbUFycmF5KHZhbHVlLCBkYXRlID0+IGRhdGUuZ2V0VGltZSgpID09PSBuZXdEYXRlLmdldFRpbWUoKSkgOiBbLi4udmFsdWUsIG5ld0RhdGVdO1xuICAgICAgICB0aGlzLiRlbWl0KCdwaWNrJywgbmV3VmFsdWUpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufSk7XG4vLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3BhY2thZ2VzL2RhdGUtcGlja2VyL3NyYy9iYXNpYy9kYXRlLXRhYmxlLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qc1xuIC8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gdmFyIGJhc2ljX2RhdGVfdGFibGV2dWVfdHlwZV9zY3JpcHRfbGFuZ19qcyA9IChkYXRlX3RhYmxldnVlX3R5cGVfc2NyaXB0X2xhbmdfanMpOyBcbi8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vcGFja2FnZXMvZGF0ZS1waWNrZXIvc3JjL2Jhc2ljL2RhdGUtdGFibGUudnVlXG5cblxuXG5cblxuLyogbm9ybWFsaXplIGNvbXBvbmVudCAqL1xuXG52YXIgZGF0ZV90YWJsZV9jb21wb25lbnQgPSBPYmplY3QoY29tcG9uZW50Tm9ybWFsaXplcltcImFcIiAvKiBkZWZhdWx0ICovXSkoXG4gIGJhc2ljX2RhdGVfdGFibGV2dWVfdHlwZV9zY3JpcHRfbGFuZ19qcyxcbiAgZGF0ZV90YWJsZXZ1ZV90eXBlX3RlbXBsYXRlX2lkXzVlZTFkMmEzX3JlbmRlcixcbiAgZGF0ZV90YWJsZXZ1ZV90eXBlX3RlbXBsYXRlX2lkXzVlZTFkMmEzX3N0YXRpY1JlbmRlckZucyxcbiAgZmFsc2UsXG4gIG51bGwsXG4gIG51bGwsXG4gIG51bGxcbiAgXG4pXG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gdmFyIGRhdGVfdGFibGUgPSAoZGF0ZV90YWJsZV9jb21wb25lbnQuZXhwb3J0cyk7XG4vLyBDT05DQVRFTkFURUQgTU9EVUxFOiBDOi9Vc2Vycy9UeWxlclRyb3R0ZXIvcmVwb3MvQ29nbml0byBGb3Jtcy9Db2duaXRvLldlYi5DbGllbnQvbm9kZV9tb2R1bGVzLy5wbnBtL2JhYmVsLWxvYWRlckA4LjMuMF9AYmFiZWwrY29yZUA3LjI1LjJfd2VicGFja0A0LjQ2LjAvbm9kZV9tb2R1bGVzL2JhYmVsLWxvYWRlci9saWIhQzovVXNlcnMvVHlsZXJUcm90dGVyL3JlcG9zL0NvZ25pdG8gRm9ybXMvQ29nbml0by5XZWIuQ2xpZW50L25vZGVfbW9kdWxlcy8ucG5wbS92dWUtbG9hZGVyQDE1LjExLjFfY3NzLWxvYWRlckA1LjIuN19wcmV0dGllckAxLjE4LjJfdnVlLXRlbXBsYXRlLWNvbXBpbGVyQDIuNy4xNV93ZWJwYWNrQDQuNDYuMC9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWI/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL3BhY2thZ2VzL2RhdGUtcGlja2VyL3NyYy9wYW5lbC9kYXRlLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qc1xuXG5cblxuXG5cblxuXG5cblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyB2YXIgZGF0ZXZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzID0gKHtcbiAgbWl4aW5zOiBbbG9jYWxlX2RlZmF1bHQuYV0sXG4gIGRpcmVjdGl2ZXM6IHtcbiAgICBDbGlja291dHNpZGU6IGNsaWNrb3V0c2lkZV9kZWZhdWx0LmFcbiAgfSxcbiAgd2F0Y2g6IHtcbiAgICBzaG93VGltZSh2YWwpIHtcbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgaWYgKCF2YWwpIHJldHVybjtcbiAgICAgIHRoaXMuJG5leHRUaWNrKF8gPT4ge1xuICAgICAgICBjb25zdCBpbnB1dEVsbSA9IHRoaXMuJHJlZnMuaW5wdXQuJGVsO1xuICAgICAgICBpZiAoaW5wdXRFbG0pIHtcbiAgICAgICAgICB0aGlzLnBpY2tlcldpZHRoID0gaW5wdXRFbG0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGggKyAxMDtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSxcbiAgICB2YWx1ZSh2YWwpIHtcbiAgICAgIGlmICh0aGlzLnNlbGVjdGlvbk1vZGUgPT09ICdkYXRlcycgJiYgdGhpcy52YWx1ZSkgcmV0dXJuO1xuICAgICAgLy8gUmVzZXQgdGhlIGludGVybmFsIGBkYXRlYCBkYXRhIHByb3BlcnR5IHdoZW4gdGhlIGB2YWx1ZWAgcHJvcCBjaGFuZ2VzXG4gICAgICB0aGlzLnJlc2V0RGF0ZSgpO1xuICAgIH0sXG4gICAgZGVmYXVsdFZhbHVlKHZhbCkge1xuICAgICAgaWYgKCFPYmplY3QoZGF0ZV91dGlsX1tcImlzRGF0ZVwiXSkodGhpcy52YWx1ZSkpIHtcbiAgICAgICAgdGhpcy5kYXRlID0gdmFsID8gbmV3IERhdGUodmFsKSA6IG5ldyBEYXRlKCk7XG4gICAgICB9XG4gICAgfSxcbiAgICB0aW1lUGlja2VyVmlzaWJsZSh2YWwpIHtcbiAgICAgIGlmICh2YWwpIHRoaXMuJG5leHRUaWNrKCgpID0+IHRoaXMuJHJlZnMudGltZXBpY2tlci5hZGp1c3RTcGlubmVycygpKTtcbiAgICB9LFxuICAgIHNlbGVjdGlvbk1vZGUobmV3VmFsKSB7XG4gICAgICBpZiAobmV3VmFsID09PSAnbW9udGgnKSB7XG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRWaWV3ICE9PSAneWVhcicgfHwgdGhpcy5jdXJyZW50VmlldyAhPT0gJ21vbnRoJykge1xuICAgICAgICAgIHRoaXMuY3VycmVudFZpZXcgPSAnbW9udGgnO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKG5ld1ZhbCA9PT0gJ2RhdGVzJykge1xuICAgICAgICB0aGlzLmN1cnJlbnRWaWV3ID0gJ2RhdGUnO1xuICAgICAgfVxuICAgIH1cbiAgfSxcbiAgbWV0aG9kczoge1xuICAgIHByb3h5VGltZVBpY2tlckRhdGFQcm9wZXJ0aWVzKCkge1xuICAgICAgY29uc3QgZm9ybWF0ID0gdGltZUZvcm1hdCA9PiB7XG4gICAgICAgIHRoaXMuJHJlZnMudGltZXBpY2tlci5mb3JtYXQgPSB0aW1lRm9ybWF0O1xuICAgICAgfTtcbiAgICAgIGNvbnN0IHZhbHVlID0gdmFsdWUgPT4ge1xuICAgICAgICB0aGlzLiRyZWZzLnRpbWVwaWNrZXIudmFsdWUgPSB2YWx1ZTtcbiAgICAgIH07XG4gICAgICBjb25zdCBkYXRlID0gZGF0ZSA9PiB7XG4gICAgICAgIHRoaXMuJHJlZnMudGltZXBpY2tlci5kYXRlID0gZGF0ZTtcbiAgICAgIH07XG4gICAgICBjb25zdCBzZWxlY3RhYmxlUmFuZ2UgPSBzZWxlY3RhYmxlUmFuZ2UgPT4ge1xuICAgICAgICB0aGlzLiRyZWZzLnRpbWVwaWNrZXIuc2VsZWN0YWJsZVJhbmdlID0gc2VsZWN0YWJsZVJhbmdlO1xuICAgICAgfTtcbiAgICAgIHRoaXMuJHdhdGNoKCd2YWx1ZScsIHZhbHVlKTtcbiAgICAgIHRoaXMuJHdhdGNoKCdkYXRlJywgZGF0ZSk7XG4gICAgICB0aGlzLiR3YXRjaCgnc2VsZWN0YWJsZVJhbmdlJywgc2VsZWN0YWJsZVJhbmdlKTtcbiAgICAgIGZvcm1hdCh0aGlzLnRpbWVGb3JtYXQpO1xuICAgICAgdmFsdWUodGhpcy52YWx1ZSk7XG4gICAgICBkYXRlKHRoaXMuZGF0ZSk7XG4gICAgICBzZWxlY3RhYmxlUmFuZ2UodGhpcy5zZWxlY3RhYmxlUmFuZ2UpO1xuICAgIH0sXG4gICAgaGFuZGxlQ2xlYXIoKSB7XG4gICAgICB0aGlzLmRhdGUgPSB0aGlzLmdldERlZmF1bHRWYWx1ZSgpO1xuICAgICAgdGhpcy4kZW1pdCgncGljaycsIG51bGwpO1xuICAgIH0sXG4gICAgZW1pdCh2YWx1ZSkge1xuICAgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiA+IDEgPyBfbGVuIC0gMSA6IDApLCBfa2V5ID0gMTsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgICBhcmdzW19rZXkgLSAxXSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICAgIH1cbiAgICAgIGlmICghdmFsdWUpIHtcbiAgICAgICAgdGhpcy4kZW1pdCgncGljaycsIHZhbHVlLCAuLi5hcmdzKTtcbiAgICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgY29uc3QgZGF0ZXMgPSB2YWx1ZS5tYXAoZGF0ZSA9PiB0aGlzLnNob3dUaW1lID8gT2JqZWN0KGRhdGVfdXRpbF9bXCJjbGVhck1pbGxpc2Vjb25kc1wiXSkoZGF0ZSkgOiBPYmplY3QoZGF0ZV91dGlsX1tcImNsZWFyVGltZVwiXSkoZGF0ZSkpO1xuICAgICAgICB0aGlzLiRlbWl0KCdwaWNrJywgZGF0ZXMsIC4uLmFyZ3MpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy4kZW1pdCgncGljaycsIHRoaXMuc2hvd1RpbWUgPyBPYmplY3QoZGF0ZV91dGlsX1tcImNsZWFyTWlsbGlzZWNvbmRzXCJdKSh2YWx1ZSkgOiBPYmplY3QoZGF0ZV91dGlsX1tcImNsZWFyVGltZVwiXSkodmFsdWUpLCAuLi5hcmdzKTtcbiAgICAgIH1cbiAgICAgIHRoaXMudXNlcklucHV0RGF0ZSA9IG51bGw7XG4gICAgICB0aGlzLnVzZXJJbnB1dFRpbWUgPSBudWxsO1xuICAgIH0sXG4gICAgcmVzZXREYXRlKCkge1xuICAgICAgaWYgKE9iamVjdChkYXRlX3V0aWxfW1wiaXNEYXRlXCJdKSh0aGlzLnZhbHVlKSkge1xuICAgICAgICB0aGlzLmRhdGUgPSBuZXcgRGF0ZSh0aGlzLnZhbHVlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuZGF0ZSA9IHRoaXMuZ2V0RGVmYXVsdFZhbHVlKCk7XG4gICAgICB9XG4gICAgfSxcbiAgICBzaG93TW9udGhQaWNrZXIoKSB7XG4gICAgICB0aGlzLmN1cnJlbnRWaWV3ID0gJ21vbnRoJztcbiAgICB9LFxuICAgIHNob3dZZWFyUGlja2VyKCkge1xuICAgICAgdGhpcy5jdXJyZW50VmlldyA9ICd5ZWFyJztcbiAgICB9LFxuICAgIC8vIFhYWDog5rKh55So5YiwXG4gICAgLy8gaGFuZGxlTGFiZWxDbGljaygpIHtcbiAgICAvLyAgIGlmICh0aGlzLmN1cnJlbnRWaWV3ID09PSAnZGF0ZScpIHtcbiAgICAvLyAgICAgdGhpcy5zaG93TW9udGhQaWNrZXIoKTtcbiAgICAvLyAgIH0gZWxzZSBpZiAodGhpcy5jdXJyZW50VmlldyA9PT0gJ21vbnRoJykge1xuICAgIC8vICAgICB0aGlzLnNob3dZZWFyUGlja2VyKCk7XG4gICAgLy8gICB9XG4gICAgLy8gfSxcblxuICAgIHByZXZNb250aCgpIHtcbiAgICAgIGlmICh0aGlzLmNhblNlbGVjdFByZXZNb250aCkge1xuICAgICAgICB0aGlzLmRhdGUgPSBPYmplY3QoZGF0ZV91dGlsX1tcInByZXZNb250aFwiXSkodGhpcy5kYXRlKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIHByZXZNb250aE1vdXNlZG93bihldikge1xuICAgICAgaWYgKCF0aGlzLmNhblNlbGVjdFByZXZNb250aCkge1xuICAgICAgICAvLyBDYW5jZWwgdGhlIGRlZmF1bHQgYmVoYXZpb3IgdG8gcHJldmVudCB0aGUgZGlzYWJsZWQgYnV0dG9uIGZyb20gYmVpbmcgZm9jdXNlZFxuICAgICAgICBldi5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgfVxuICAgIH0sXG4gICAgbmV4dE1vbnRoKCkge1xuICAgICAgaWYgKHRoaXMuY2FuU2VsZWN0TmV4dE1vbnRoKSB7XG4gICAgICAgIHRoaXMuZGF0ZSA9IE9iamVjdChkYXRlX3V0aWxfW1wibmV4dE1vbnRoXCJdKSh0aGlzLmRhdGUpO1xuICAgICAgfVxuICAgIH0sXG4gICAgbmV4dE1vbnRoTW91c2Vkb3duKGV2KSB7XG4gICAgICBpZiAoIXRoaXMuY2FuU2VsZWN0TmV4dE1vbnRoKSB7XG4gICAgICAgIC8vIENhbmNlbCB0aGUgZGVmYXVsdCBiZWhhdmlvciB0byBwcmV2ZW50IHRoZSBkaXNhYmxlZCBidXR0b24gZnJvbSBiZWluZyBmb2N1c2VkXG4gICAgICAgIGV2LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB9XG4gICAgfSxcbiAgICBwcmV2WWVhcigpIHtcbiAgICAgIGlmICh0aGlzLmNhblNlbGVjdFByZXZZZWFyKSB7XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRWaWV3ID09PSAneWVhcicpIHtcbiAgICAgICAgICB0aGlzLmRhdGUgPSBPYmplY3QoZGF0ZV91dGlsX1tcInByZXZZZWFyXCJdKSh0aGlzLmRhdGUsIDEwKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLmRhdGUgPSBPYmplY3QoZGF0ZV91dGlsX1tcInByZXZZZWFyXCJdKSh0aGlzLmRhdGUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICBwcmV2WWVhck1vdXNlZG93bihldikge1xuICAgICAgaWYgKCF0aGlzLmNhblNlbGVjdFByZXZZZWFyKSB7XG4gICAgICAgIC8vIENhbmNlbCB0aGUgZGVmYXVsdCBiZWhhdmlvciB0byBwcmV2ZW50IHRoZSBkaXNhYmxlZCBidXR0b24gZnJvbSBiZWluZyBmb2N1c2VkXG4gICAgICAgIGV2LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB9XG4gICAgfSxcbiAgICBuZXh0WWVhcigpIHtcbiAgICAgIGlmICh0aGlzLmNhblNlbGVjdE5leHRZZWFyKSB7XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRWaWV3ID09PSAneWVhcicpIHtcbiAgICAgICAgICB0aGlzLmRhdGUgPSBPYmplY3QoZGF0ZV91dGlsX1tcIm5leHRZZWFyXCJdKSh0aGlzLmRhdGUsIDEwKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLmRhdGUgPSBPYmplY3QoZGF0ZV91dGlsX1tcIm5leHRZZWFyXCJdKSh0aGlzLmRhdGUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICBuZXh0WWVhck1vdXNlZG93bihldikge1xuICAgICAgaWYgKCF0aGlzLmNhblNlbGVjdE5leHRZZWFyKSB7XG4gICAgICAgIC8vIENhbmNlbCB0aGUgZGVmYXVsdCBiZWhhdmlvciB0byBwcmV2ZW50IHRoZSBkaXNhYmxlZCBidXR0b24gZnJvbSBiZWluZyBmb2N1c2VkXG4gICAgICAgIGV2LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB9XG4gICAgfSxcbiAgICBoYW5kbGVTaG9ydGN1dENsaWNrKHNob3J0Y3V0KSB7XG4gICAgICBpZiAoc2hvcnRjdXQub25DbGljaykge1xuICAgICAgICBzaG9ydGN1dC5vbkNsaWNrKHRoaXMpO1xuICAgICAgfVxuICAgIH0sXG4gICAgaGFuZGxlVGltZVBpY2sodmFsdWUsIHZpc2libGUsIGZpcnN0KSB7XG4gICAgICBpZiAoT2JqZWN0KGRhdGVfdXRpbF9bXCJpc0RhdGVcIl0pKHZhbHVlKSkge1xuICAgICAgICBjb25zdCBuZXdEYXRlID0gdGhpcy52YWx1ZSA/IE9iamVjdChkYXRlX3V0aWxfW1wibW9kaWZ5VGltZVwiXSkodGhpcy52YWx1ZSwgdmFsdWUuZ2V0SG91cnMoKSwgdmFsdWUuZ2V0TWludXRlcygpLCB2YWx1ZS5nZXRTZWNvbmRzKCkpIDogT2JqZWN0KGRhdGVfdXRpbF9bXCJtb2RpZnlXaXRoVGltZVN0cmluZ1wiXSkodGhpcy5nZXREZWZhdWx0VmFsdWUoKSwgdGhpcy5kZWZhdWx0VGltZSk7XG4gICAgICAgIHRoaXMuZGF0ZSA9IG5ld0RhdGU7XG4gICAgICAgIHRoaXMuZW1pdCh0aGlzLmRhdGUsIHRydWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5lbWl0KHZhbHVlLCB0cnVlKTtcbiAgICAgIH1cbiAgICAgIGlmICghZmlyc3QpIHtcbiAgICAgICAgdGhpcy50aW1lUGlja2VyVmlzaWJsZSA9IHZpc2libGU7XG4gICAgICB9XG4gICAgfSxcbiAgICBoYW5kbGVUaW1lUGlja0Nsb3NlKCkge1xuICAgICAgdGhpcy50aW1lUGlja2VyVmlzaWJsZSA9IGZhbHNlO1xuICAgIH0sXG4gICAgaGFuZGxlTW9udGhQaWNrKG1vbnRoKSB7XG4gICAgICBpZiAodGhpcy5zZWxlY3Rpb25Nb2RlID09PSAnbW9udGgnKSB7XG4gICAgICAgIHRoaXMuZGF0ZSA9IE9iamVjdChkYXRlX3V0aWxfW1wibW9kaWZ5RGF0ZVwiXSkodGhpcy5kYXRlLCB0aGlzLnllYXIsIG1vbnRoLCAxKTtcbiAgICAgICAgdGhpcy5lbWl0KHRoaXMuZGF0ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmRhdGUgPSBPYmplY3QoZGF0ZV91dGlsX1tcImNoYW5nZVllYXJNb250aEFuZENsYW1wRGF0ZVwiXSkodGhpcy5kYXRlLCB0aGlzLnllYXIsIG1vbnRoKTtcbiAgICAgICAgLy8gVE9ETzogc2hvdWxkIGVtaXQgaW50ZXJtZWRpYXRlIHZhbHVlID8/XG4gICAgICAgIC8vIHRoaXMuZW1pdCh0aGlzLmRhdGUpO1xuICAgICAgICB0aGlzLmN1cnJlbnRWaWV3ID0gJ2RhdGUnO1xuICAgICAgfVxuICAgIH0sXG4gICAgaGFuZGxlRGF0ZVBpY2sodmFsdWUpIHtcbiAgICAgIGlmICh0aGlzLnNlbGVjdGlvbk1vZGUgPT09ICdkYXknKSB7XG4gICAgICAgIGxldCBuZXdEYXRlID0gdGhpcy52YWx1ZSA/IE9iamVjdChkYXRlX3V0aWxfW1wibW9kaWZ5RGF0ZVwiXSkodGhpcy52YWx1ZSwgdmFsdWUuZ2V0RnVsbFllYXIoKSwgdmFsdWUuZ2V0TW9udGgoKSwgdmFsdWUuZ2V0RGF0ZSgpKSA6IE9iamVjdChkYXRlX3V0aWxfW1wibW9kaWZ5V2l0aFRpbWVTdHJpbmdcIl0pKHZhbHVlLCB0aGlzLmRlZmF1bHRUaW1lKTtcbiAgICAgICAgLy8gY2hhbmdlIGRlZmF1bHQgdGltZSB3aGlsZSBvdXQgb2Ygc2VsZWN0YWJsZVJhbmdlXG4gICAgICAgIGlmICghdGhpcy5jaGVja1RpbWVXaXRoaW5SYW5nZShuZXdEYXRlKSkge1xuICAgICAgICAgIG5ld0RhdGUgPSBPYmplY3QoZGF0ZV91dGlsX1tcIm1vZGlmeURhdGVcIl0pKHRoaXMuc2VsZWN0YWJsZVJhbmdlWzBdWzBdLCB2YWx1ZS5nZXRGdWxsWWVhcigpLCB2YWx1ZS5nZXRNb250aCgpLCB2YWx1ZS5nZXREYXRlKCkpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZGF0ZSA9IG5ld0RhdGU7XG4gICAgICAgIHRoaXMuZW1pdCh0aGlzLmRhdGUsIHRoaXMuc2hvd1RpbWUpO1xuICAgICAgfSBlbHNlIGlmICh0aGlzLnNlbGVjdGlvbk1vZGUgPT09ICd3ZWVrJykge1xuICAgICAgICB0aGlzLmVtaXQodmFsdWUuZGF0ZSk7XG4gICAgICB9IGVsc2UgaWYgKHRoaXMuc2VsZWN0aW9uTW9kZSA9PT0gJ2RhdGVzJykge1xuICAgICAgICB0aGlzLmVtaXQodmFsdWUsIHRydWUpOyAvLyBzZXQgZmFsc2UgdG8ga2VlcCBwYW5lbCBvcGVuXG4gICAgICB9XG4gICAgfSxcbiAgICBoYW5kbGVZZWFyUGljayh5ZWFyKSB7XG4gICAgICBpZiAodGhpcy5zZWxlY3Rpb25Nb2RlID09PSAneWVhcicpIHtcbiAgICAgICAgdGhpcy5kYXRlID0gT2JqZWN0KGRhdGVfdXRpbF9bXCJtb2RpZnlEYXRlXCJdKSh0aGlzLmRhdGUsIHllYXIsIDAsIDEpO1xuICAgICAgICB0aGlzLmVtaXQodGhpcy5kYXRlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuZGF0ZSA9IE9iamVjdChkYXRlX3V0aWxfW1wiY2hhbmdlWWVhck1vbnRoQW5kQ2xhbXBEYXRlXCJdKSh0aGlzLmRhdGUsIHllYXIsIHRoaXMubW9udGgpO1xuICAgICAgICAvLyBUT0RPOiBzaG91bGQgZW1pdCBpbnRlcm1lZGlhdGUgdmFsdWUgPz9cbiAgICAgICAgLy8gdGhpcy5lbWl0KHRoaXMuZGF0ZSwgdHJ1ZSk7XG4gICAgICAgIHRoaXMuY3VycmVudFZpZXcgPSAnbW9udGgnO1xuICAgICAgfVxuICAgIH0sXG4gICAgY2hhbmdlVG9Ob3coKSB7XG4gICAgICAvLyBOT1RFOiBub3QgYSBwZXJtYW5lbnQgc29sdXRpb25cbiAgICAgIC8vICAgICAgIGNvbnNpZGVyIGRpc2FibGUgXCJub3dcIiBidXR0b24gaW4gdGhlIGZ1dHVyZVxuICAgICAgaWYgKHRoaXMuaXNWYWxpZFZhbHVlKG5ldyBEYXRlKCkpKSB7XG4gICAgICAgIHRoaXMuZGF0ZSA9IG5ldyBEYXRlKCk7XG4gICAgICAgIHRoaXMuZW1pdCh0aGlzLmRhdGUpO1xuICAgICAgfVxuICAgIH0sXG4gICAgY29uZmlybSgpIHtcbiAgICAgIGlmICh0aGlzLnNlbGVjdGlvbk1vZGUgPT09ICdkYXRlcycpIHtcbiAgICAgICAgdGhpcy5lbWl0KHRoaXMudmFsdWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gdmFsdWUgd2VyZSBlbWl0dGVkIGluIGhhbmRsZXtEYXRlLFRpbWV9UGljaywgbm90aGluZyB0byB1cGRhdGUgaGVyZVxuICAgICAgICAvLyBkZWFsIHdpdGggdGhlIHNjZW5hcmlvIHdoZXJlOiB1c2VyIG9wZW5zIHRoZSBwaWNrZXIsIHRoZW4gY29uZmlybSB3aXRob3V0IGRvaW5nIGFueXRoaW5nXG4gICAgICAgIGNvbnN0IHZhbHVlID0gdGhpcy52YWx1ZSA/IHRoaXMudmFsdWUgOiBPYmplY3QoZGF0ZV91dGlsX1tcIm1vZGlmeVdpdGhUaW1lU3RyaW5nXCJdKSh0aGlzLmdldERlZmF1bHRWYWx1ZSgpLCB0aGlzLmRlZmF1bHRUaW1lKTtcbiAgICAgICAgdGhpcy5kYXRlID0gbmV3IERhdGUodmFsdWUpOyAvLyByZWZyZXNoIGRhdGVcbiAgICAgICAgdGhpcy5lbWl0KHZhbHVlKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIHJlc2V0VmlldygpIHtcbiAgICAgIGlmICh0aGlzLnNlbGVjdGlvbk1vZGUgPT09ICdtb250aCcpIHtcbiAgICAgICAgdGhpcy5jdXJyZW50VmlldyA9ICdtb250aCc7XG4gICAgICB9IGVsc2UgaWYgKHRoaXMuc2VsZWN0aW9uTW9kZSA9PT0gJ3llYXInKSB7XG4gICAgICAgIHRoaXMuY3VycmVudFZpZXcgPSAneWVhcic7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmN1cnJlbnRWaWV3ID0gJ2RhdGUnO1xuICAgICAgfVxuICAgIH0sXG4gICAgaGFuZGxlRW50ZXIoKSB7XG4gICAgICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLmhhbmRsZUtleWRvd24pO1xuICAgIH0sXG4gICAgaGFuZGxlTGVhdmUoKSB7XG4gICAgICB0aGlzLiRlbWl0KCdkb2Rlc3Ryb3knKTtcbiAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuaGFuZGxlS2V5ZG93bik7XG4gICAgfSxcbiAgICBoYW5kbGVLZXlkb3duKGV2ZW50KSB7XG4gICAgICBjb25zdCBrZXlDb2RlID0gZXZlbnQua2V5Q29kZTtcbiAgICAgIGNvbnN0IGxpc3QgPSBbMzgsIDQwLCAzNywgMzldO1xuICAgICAgaWYgKHRoaXMudmlzaWJsZSAmJiAhdGhpcy50aW1lUGlja2VyVmlzaWJsZSkge1xuICAgICAgICBpZiAobGlzdC5pbmRleE9mKGtleUNvZGUpICE9PSAtMSkge1xuICAgICAgICAgIHRoaXMuaGFuZGxlS2V5Q29udHJvbChrZXlDb2RlKTtcbiAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICBoYW5kbGVLZXlDb250cm9sKGtleUNvZGUpIHtcbiAgICAgIGNvbnN0IG1hcHBpbmcgPSB7XG4gICAgICAgICd5ZWFyJzoge1xuICAgICAgICAgIDM4OiAtNCxcbiAgICAgICAgICA0MDogNCxcbiAgICAgICAgICAzNzogLTEsXG4gICAgICAgICAgMzk6IDEsXG4gICAgICAgICAgb2Zmc2V0OiAoZGF0ZSwgc3RlcCkgPT4gZGF0ZS5zZXRGdWxsWWVhcihkYXRlLmdldEZ1bGxZZWFyKCkgKyBzdGVwKVxuICAgICAgICB9LFxuICAgICAgICAnbW9udGgnOiB7XG4gICAgICAgICAgMzg6IC00LFxuICAgICAgICAgIDQwOiA0LFxuICAgICAgICAgIDM3OiAtMSxcbiAgICAgICAgICAzOTogMSxcbiAgICAgICAgICBvZmZzZXQ6IChkYXRlLCBzdGVwKSA9PiBkYXRlLnNldE1vbnRoKGRhdGUuZ2V0TW9udGgoKSArIHN0ZXApXG4gICAgICAgIH0sXG4gICAgICAgICd3ZWVrJzoge1xuICAgICAgICAgIDM4OiAtMSxcbiAgICAgICAgICA0MDogMSxcbiAgICAgICAgICAzNzogLTEsXG4gICAgICAgICAgMzk6IDEsXG4gICAgICAgICAgb2Zmc2V0OiAoZGF0ZSwgc3RlcCkgPT4gZGF0ZS5zZXREYXRlKGRhdGUuZ2V0RGF0ZSgpICsgc3RlcCAqIDcpXG4gICAgICAgIH0sXG4gICAgICAgICdkYXknOiB7XG4gICAgICAgICAgMzg6IC03LFxuICAgICAgICAgIDQwOiA3LFxuICAgICAgICAgIDM3OiAtMSxcbiAgICAgICAgICAzOTogMSxcbiAgICAgICAgICBvZmZzZXQ6IChkYXRlLCBzdGVwKSA9PiBkYXRlLnNldERhdGUoZGF0ZS5nZXREYXRlKCkgKyBzdGVwKVxuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgY29uc3QgbW9kZSA9IHRoaXMuc2VsZWN0aW9uTW9kZTtcbiAgICAgIGNvbnN0IHllYXIgPSAzLjE1MzZlMTA7XG4gICAgICBjb25zdCBub3cgPSB0aGlzLmRhdGUuZ2V0VGltZSgpO1xuICAgICAgY29uc3QgbmV3RGF0ZSA9IG5ldyBEYXRlKHRoaXMuZGF0ZS5nZXRUaW1lKCkpO1xuICAgICAgd2hpbGUgKE1hdGguYWJzKG5vdyAtIG5ld0RhdGUuZ2V0VGltZSgpKSA8PSB5ZWFyKSB7XG4gICAgICAgIGNvbnN0IG1hcCA9IG1hcHBpbmdbbW9kZV07XG4gICAgICAgIG1hcC5vZmZzZXQobmV3RGF0ZSwgbWFwW2tleUNvZGVdKTtcbiAgICAgICAgaWYgKCF0aGlzLmlzVmFsaWREYXRlKG5ld0RhdGUpKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kYXRlID0gbmV3RGF0ZTtcbiAgICAgICAgdGhpcy4kZW1pdCgncGljaycsIG5ld0RhdGUsIHRydWUpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9LFxuICAgIGhhbmRsZVZpc2libGVUaW1lQ2hhbmdlKHZhbHVlKSB7XG4gICAgICBjb25zdCB0aW1lID0gT2JqZWN0KGRhdGVfdXRpbF9bXCJwYXJzZURhdGVcIl0pKHZhbHVlLCB0aGlzLnRpbWVGb3JtYXQpO1xuICAgICAgaWYgKHRpbWUgJiYgdGhpcy5jaGVja1RpbWVXaXRoaW5SYW5nZSh0aW1lKSkge1xuICAgICAgICB0aGlzLmRhdGUgPSBPYmplY3QoZGF0ZV91dGlsX1tcIm1vZGlmeURhdGVcIl0pKHRpbWUsIHRoaXMueWVhciwgdGhpcy5tb250aCwgdGhpcy5tb250aERhdGUpO1xuICAgICAgICB0aGlzLnVzZXJJbnB1dFRpbWUgPSBudWxsO1xuICAgICAgICB0aGlzLiRyZWZzLnRpbWVwaWNrZXIudmFsdWUgPSB0aGlzLmRhdGU7XG4gICAgICAgIHRoaXMudGltZVBpY2tlclZpc2libGUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5lbWl0KHRoaXMuZGF0ZSwgdHJ1ZSk7XG4gICAgICB9XG4gICAgfSxcbiAgICBoYW5kbGVWaXNpYmxlRGF0ZUNoYW5nZSh2YWx1ZSkge1xuICAgICAgY29uc3QgZGF0ZSA9IE9iamVjdChkYXRlX3V0aWxfW1wicGFyc2VEYXRlXCJdKSh2YWx1ZSwgdGhpcy5kYXRlRm9ybWF0KTtcbiAgICAgIGlmIChkYXRlKSB7XG4gICAgICAgIGlmICghdGhpcy5pc1ZhbGlkRGF0ZShkYXRlKSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmRhdGUgPSBPYmplY3QoZGF0ZV91dGlsX1tcIm1vZGlmeVRpbWVcIl0pKGRhdGUsIHRoaXMuZGF0ZS5nZXRIb3VycygpLCB0aGlzLmRhdGUuZ2V0TWludXRlcygpLCB0aGlzLmRhdGUuZ2V0U2Vjb25kcygpKTtcbiAgICAgICAgdGhpcy51c2VySW5wdXREYXRlID0gbnVsbDtcbiAgICAgICAgdGhpcy5yZXNldFZpZXcoKTtcbiAgICAgICAgdGhpcy5lbWl0KHRoaXMuZGF0ZSwgdHJ1ZSk7XG4gICAgICB9XG4gICAgfSxcbiAgICBpc1ZhbGlkVmFsdWUodmFsdWUpIHtcbiAgICAgIHJldHVybiB0aGlzLmlzVmFsaWREYXRlKHZhbHVlKSAmJiB0aGlzLmNoZWNrVGltZVdpdGhpblJhbmdlKHZhbHVlKTtcbiAgICB9LFxuICAgIGlzVmFsaWREYXRlKGRhdGUpIHtcbiAgICAgIGlmIChkYXRlICYmICFpc05hTihkYXRlKSkge1xuICAgICAgICBpZiAodHlwZW9mIHRoaXMuZGlzYWJsZWREYXRlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgcmV0dXJuICF0aGlzLmRpc2FibGVkRGF0ZShkYXRlKTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLm1pbmltdW0gfHwgdGhpcy5tYXhpbXVtKSB7XG4gICAgICAgICAgcmV0dXJuICF0aGlzLmRhdGVPdXRPZlJhbmdlKGRhdGUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfSxcbiAgICBkYXRlT3V0T2ZSYW5nZShkYXRlKSB7XG4gICAgICByZXR1cm4gdGhpcy5tYXhpbXVtICYmIGRhdGUgPiB0aGlzLm1heGltdW0gfHwgdGhpcy5taW5pbXVtICYmIGRhdGUgPCB0aGlzLm1pbmltdW07XG4gICAgfSxcbiAgICBnZXREZWZhdWx0VmFsdWUoKSB7XG4gICAgICAvLyBpZiBkZWZhdWx0LXZhbHVlIGlzIHNldCwgcmV0dXJuIGl0XG4gICAgICAvLyBvdGhlcndpc2UsIHJldHVybiBub3cgKHRoZSBtb21lbnQgdGhpcyBtZXRob2QgZ2V0cyBjYWxsZWQpXG4gICAgICByZXR1cm4gdGhpcy5kZWZhdWx0VmFsdWUgPyBuZXcgRGF0ZSh0aGlzLmRlZmF1bHRWYWx1ZSkgOiBuZXcgRGF0ZSgpO1xuICAgIH0sXG4gICAgY2hlY2tUaW1lV2l0aGluUmFuZ2UoZGF0ZSkge1xuICAgICAgcmV0dXJuIHRoaXMuc2VsZWN0YWJsZVJhbmdlLmxlbmd0aCA+IDAgPyBPYmplY3QoZGF0ZV91dGlsX1tcInRpbWVXaXRoaW5SYW5nZVwiXSkoZGF0ZSwgdGhpcy5zZWxlY3RhYmxlUmFuZ2UsIHRoaXMuZm9ybWF0IHx8ICdISDptbTpzcycpIDogdHJ1ZTtcbiAgICB9LFxuICAgIGhhbmRsZU1vdXNlZG93bihlKSB7XG4gICAgICAvLyBQcmV2ZW50IG1vdXNlZG93biBmcm9tIHN0ZWFsaW5nIGZvY3VzIGZyb20gZGF0ZSBpbnB1dFxuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH1cbiAgfSxcbiAgY29tcG9uZW50czoge1xuICAgIFRpbWVQaWNrZXI6IHBhbmVsX3RpbWVbXCJhXCIgLyogZGVmYXVsdCAqL10sXG4gICAgWWVhclRhYmxlOiB5ZWFyX3RhYmxlLFxuICAgIE1vbnRoVGFibGU6IG1vbnRoX3RhYmxlLFxuICAgIERhdGVUYWJsZTogZGF0ZV90YWJsZSxcbiAgICBFbElucHV0OiBleHRlcm5hbF9pbnB1dF9kZWZhdWx0LmEsXG4gICAgRWxCdXR0b246IGV4dGVybmFsX2J1dHRvbl9kZWZhdWx0LmFcbiAgfSxcbiAgZGF0YSgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgcG9wcGVyQ2xhc3M6ICcnLFxuICAgICAgZGF0ZTogbmV3IERhdGUoKSxcbiAgICAgIHZhbHVlOiAnJyxcbiAgICAgIGRlZmF1bHRWYWx1ZTogbnVsbCxcbiAgICAgIC8vIHVzZSBnZXREZWZhdWx0VmFsdWUoKSBmb3IgdGltZSBjb21wdXRhdGlvblxuICAgICAgZGVmYXVsdFRpbWU6IG51bGwsXG4gICAgICBzaG93VGltZTogZmFsc2UsXG4gICAgICBzZWxlY3Rpb25Nb2RlOiAnZGF5JyxcbiAgICAgIHNob3J0Y3V0czogJycsXG4gICAgICB2aXNpYmxlOiBmYWxzZSxcbiAgICAgIGN1cnJlbnRWaWV3OiAnZGF0ZScsXG4gICAgICBkaXNhYmxlZERhdGU6ICcnLFxuICAgICAgbWluaW11bTogJycsXG4gICAgICBtYXhpbXVtOiAnJyxcbiAgICAgIGNlbGxDbGFzc05hbWU6ICcnLFxuICAgICAgc2VsZWN0YWJsZVJhbmdlOiBbXSxcbiAgICAgIGZpcnN0RGF5T2ZXZWVrOiA3LFxuICAgICAgc2hvd1dlZWtOdW1iZXI6IGZhbHNlLFxuICAgICAgdGltZVBpY2tlclZpc2libGU6IGZhbHNlLFxuICAgICAgZm9ybWF0OiAnJyxcbiAgICAgIGFycm93Q29udHJvbDogZmFsc2UsXG4gICAgICB1c2VySW5wdXREYXRlOiBudWxsLFxuICAgICAgdXNlcklucHV0VGltZTogbnVsbFxuICAgIH07XG4gIH0sXG4gIGNvbXB1dGVkOiB7XG4gICAgeWVhcigpIHtcbiAgICAgIHJldHVybiB0aGlzLmRhdGUuZ2V0RnVsbFllYXIoKTtcbiAgICB9LFxuICAgIG1vbnRoKCkge1xuICAgICAgcmV0dXJuIHRoaXMuZGF0ZS5nZXRNb250aCgpO1xuICAgIH0sXG4gICAgd2VlaygpIHtcbiAgICAgIHJldHVybiBPYmplY3QoZGF0ZV91dGlsX1tcImdldFdlZWtOdW1iZXJcIl0pKHRoaXMuZGF0ZSk7XG4gICAgfSxcbiAgICBtb250aERhdGUoKSB7XG4gICAgICByZXR1cm4gdGhpcy5kYXRlLmdldERhdGUoKTtcbiAgICB9LFxuICAgIGZvb3RlclZpc2libGUoKSB7XG4gICAgICByZXR1cm4gdGhpcy5zaG93VGltZSB8fCB0aGlzLnNlbGVjdGlvbk1vZGUgPT09ICdkYXRlcyc7XG4gICAgfSxcbiAgICB2aXNpYmxlVGltZSgpIHtcbiAgICAgIGlmICh0aGlzLnVzZXJJbnB1dFRpbWUgIT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXNlcklucHV0VGltZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBPYmplY3QoZGF0ZV91dGlsX1tcImZvcm1hdERhdGVcIl0pKHRoaXMudmFsdWUgfHwgdGhpcy5kZWZhdWx0VmFsdWUsIHRoaXMudGltZUZvcm1hdCk7XG4gICAgICB9XG4gICAgfSxcbiAgICB2aXNpYmxlRGF0ZSgpIHtcbiAgICAgIGlmICh0aGlzLnVzZXJJbnB1dERhdGUgIT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXNlcklucHV0RGF0ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBPYmplY3QoZGF0ZV91dGlsX1tcImZvcm1hdERhdGVcIl0pKHRoaXMudmFsdWUgfHwgdGhpcy5kZWZhdWx0VmFsdWUsIHRoaXMuZGF0ZUZvcm1hdCk7XG4gICAgICB9XG4gICAgfSxcbiAgICBjYW5TZWxlY3RQcmV2TW9udGgoKSB7XG4gICAgICBpZiAodHlwZW9mIHRoaXMuZGlzYWJsZWREYXRlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIC8vIElmICdkaXNhYmxlZERhdGUnIGlzIGRlZmluZWQsIHRoZW4gbWluaW11bSBpcyBpZ25vcmVkXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfSBlbHNlIGlmICh0aGlzLm1pbmltdW0pIHtcbiAgICAgICAgLy8gSWYgbWluaW11bSBpcyBkZWZpbmVkLCBlbnN1cmUgdGhhdCB0aGUgbGFzdCBkYXkgb2YgdGhlIHByZXZpb3VzIG1vbnRoIGlzIG5vdCBiZWZvcmUgdGhlIG1pbmltdW1cbiAgICAgICAgbGV0IHByZXZNb250aExhc3REYXkgPSBPYmplY3QoZGF0ZV91dGlsX1tcImdldFByZXZNb250aExhc3REYXlzXCJdKSh0aGlzLmRhdGUsIDEpWzBdO1xuICAgICAgICBsZXQgbGFzdERheU9mUHJldk1vbnRoID0gdGhpcy5kYXRlLmdldE1vbnRoKCkgPiAwID8gbmV3IERhdGUodGhpcy5kYXRlLmdldEZ1bGxZZWFyKCksIHRoaXMuZGF0ZS5nZXRNb250aCgpIC0gMSwgcHJldk1vbnRoTGFzdERheSkgOiBuZXcgRGF0ZSh0aGlzLmRhdGUuZ2V0RnVsbFllYXIoKSAtIDEsIDExLCBwcmV2TW9udGhMYXN0RGF5KTtcbiAgICAgICAgcmV0dXJuIGxhc3REYXlPZlByZXZNb250aCA+PSB0aGlzLm1pbmltdW07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGNhblNlbGVjdFByZXZZZWFyKCkge1xuICAgICAgaWYgKHR5cGVvZiB0aGlzLmRpc2FibGVkRGF0ZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAvLyBJZiAnZGlzYWJsZWREYXRlJyBpcyBkZWZpbmVkLCB0aGVuIG1pbmltdW0gaXMgaWdub3JlZFxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5taW5pbXVtKSB7XG4gICAgICAgIC8vIElmIG1pbmltdW0gaXMgZGVmaW5lZCwgZW5zdXJlIHRoYXQgdGhlIGxhc3QgZGF5IG9mIHRoZSBwcmV2aW91cyB5ZWFyIGlzIG5vdCBiZWZvcmUgdGhlIG1pbmltdW1cbiAgICAgICAgbGV0IGxhc3REYXlPZlByZXZZZWFyID0gbmV3IERhdGUodGhpcy5kYXRlLmdldEZ1bGxZZWFyKCkgLSAxLCAxMSwgMzEpO1xuICAgICAgICByZXR1cm4gbGFzdERheU9mUHJldlllYXIgPj0gdGhpcy5taW5pbXVtO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfSxcbiAgICBjYW5TZWxlY3ROZXh0TW9udGgoKSB7XG4gICAgICBpZiAodHlwZW9mIHRoaXMuZGlzYWJsZWREYXRlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIC8vIElmICdkaXNhYmxlZERhdGUnIGlzIGRlZmluZWQsIHRoZW4gbWluaW11bSBpcyBpZ25vcmVkXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfSBlbHNlIGlmICh0aGlzLm1heGltdW0pIHtcbiAgICAgICAgLy8gSWYgbWF4aW11bSBpcyBkZWZpbmVkLCBlbnN1cmUgdGhhdCB0aGUgZmlyc3QgZGF5IG9mIHRoZSBuZXh0IG1vbnRoIGlzIG5vdCBhZnRlciB0aGUgbWF4aW11bVxuICAgICAgICBsZXQgZmlyc3REYXlPZk5leHRNb250aCA9IHRoaXMuZGF0ZS5nZXRNb250aCgpIDwgMTEgPyBuZXcgRGF0ZSh0aGlzLmRhdGUuZ2V0RnVsbFllYXIoKSwgdGhpcy5kYXRlLmdldE1vbnRoKCkgKyAxLCAxKSA6IG5ldyBEYXRlKHRoaXMuZGF0ZS5nZXRGdWxsWWVhcigpICsgMSwgMCwgMSk7XG4gICAgICAgIHJldHVybiBmaXJzdERheU9mTmV4dE1vbnRoIDw9IHRoaXMubWF4aW11bTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH0sXG4gICAgY2FuU2VsZWN0TmV4dFllYXIoKSB7XG4gICAgICBpZiAodHlwZW9mIHRoaXMuZGlzYWJsZWREYXRlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIC8vIElmICdkaXNhYmxlZERhdGUnIGlzIGRlZmluZWQsIHRoZW4gbWluaW11bSBpcyBpZ25vcmVkXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfSBlbHNlIGlmICh0aGlzLm1heGltdW0pIHtcbiAgICAgICAgLy8gSWYgbWF4aW11bSBpcyBkZWZpbmVkLCBlbnN1cmUgdGhhdCB0aGUgZmlyc3QgZGF5IG9mIHRoZSBuZXh0IHllYXIgaXMgbm90IGFmdGVyIHRoZSBtYXhpbXVtXG4gICAgICAgIGxldCBmaXJzdERheU9mTmV4dFllYXIgPSBuZXcgRGF0ZSh0aGlzLmRhdGUuZ2V0RnVsbFllYXIoKSArIDEsIDAsIDEpO1xuICAgICAgICByZXR1cm4gZmlyc3REYXlPZk5leHRZZWFyIDw9IHRoaXMubWF4aW11bTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH0sXG4gICAgeWVhckxhYmVsKCkge1xuICAgICAgY29uc3QgeWVhclRyYW5zbGF0aW9uID0gdGhpcy50KCdlbC5kYXRlcGlja2VyLnllYXInKTtcbiAgICAgIGlmICh0aGlzLmN1cnJlbnRWaWV3ID09PSAneWVhcicpIHtcbiAgICAgICAgY29uc3Qgc3RhcnRZZWFyID0gTWF0aC5mbG9vcih0aGlzLnllYXIgLyAxMCkgKiAxMDtcbiAgICAgICAgaWYgKHllYXJUcmFuc2xhdGlvbikge1xuICAgICAgICAgIHJldHVybiBzdGFydFllYXIgKyAnICcgKyB5ZWFyVHJhbnNsYXRpb24gKyAnIC0gJyArIChzdGFydFllYXIgKyA5KSArICcgJyArIHllYXJUcmFuc2xhdGlvbjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3RhcnRZZWFyICsgJyAtICcgKyAoc3RhcnRZZWFyICsgOSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy55ZWFyICsgJyAnICsgeWVhclRyYW5zbGF0aW9uO1xuICAgIH0sXG4gICAgdGltZUZvcm1hdCgpIHtcbiAgICAgIGlmICh0aGlzLmZvcm1hdCkge1xuICAgICAgICByZXR1cm4gT2JqZWN0KGRhdGVfdXRpbF9bXCJleHRyYWN0VGltZUZvcm1hdFwiXSkodGhpcy5mb3JtYXQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuICdISDptbTpzcyc7XG4gICAgICB9XG4gICAgfSxcbiAgICBkYXRlRm9ybWF0KCkge1xuICAgICAgaWYgKHRoaXMuZm9ybWF0KSB7XG4gICAgICAgIHJldHVybiBPYmplY3QoZGF0ZV91dGlsX1tcImV4dHJhY3REYXRlRm9ybWF0XCJdKSh0aGlzLmZvcm1hdCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gJ3l5eXktTU0tZGQnO1xuICAgICAgfVxuICAgIH1cbiAgfVxufSk7XG4vLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3BhY2thZ2VzL2RhdGUtcGlja2VyL3NyYy9wYW5lbC9kYXRlLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qc1xuIC8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gdmFyIHBhbmVsX2RhdGV2dWVfdHlwZV9zY3JpcHRfbGFuZ19qcyA9IChkYXRldnVlX3R5cGVfc2NyaXB0X2xhbmdfanMpOyBcbi8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vcGFja2FnZXMvZGF0ZS1waWNrZXIvc3JjL3BhbmVsL2RhdGUudnVlXG5cblxuXG5cblxuLyogbm9ybWFsaXplIGNvbXBvbmVudCAqL1xuXG52YXIgZGF0ZV9jb21wb25lbnQgPSBPYmplY3QoY29tcG9uZW50Tm9ybWFsaXplcltcImFcIiAvKiBkZWZhdWx0ICovXSkoXG4gIHBhbmVsX2RhdGV2dWVfdHlwZV9zY3JpcHRfbGFuZ19qcyxcbiAgcmVuZGVyLFxuICBzdGF0aWNSZW5kZXJGbnMsXG4gIGZhbHNlLFxuICBudWxsLFxuICBudWxsLFxuICBudWxsXG4gIFxuKVxuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIHZhciBwYW5lbF9kYXRlID0gKGRhdGVfY29tcG9uZW50LmV4cG9ydHMpO1xuLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogQzovVXNlcnMvVHlsZXJUcm90dGVyL3JlcG9zL0NvZ25pdG8gRm9ybXMvQ29nbml0by5XZWIuQ2xpZW50L25vZGVfbW9kdWxlcy8ucG5wbS92dWUtbG9hZGVyQDE1LjExLjFfY3NzLWxvYWRlckA1LjIuN19wcmV0dGllckAxLjE4LjJfdnVlLXRlbXBsYXRlLWNvbXBpbGVyQDIuNy4xNV93ZWJwYWNrQDQuNDYuMC9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvbG9hZGVycy90ZW1wbGF0ZUxvYWRlci5qcz8/cmVmLS01IUM6L1VzZXJzL1R5bGVyVHJvdHRlci9yZXBvcy9Db2duaXRvIEZvcm1zL0NvZ25pdG8uV2ViLkNsaWVudC9ub2RlX21vZHVsZXMvLnBucG0vdnVlLWxvYWRlckAxNS4xMS4xX2Nzcy1sb2FkZXJANS4yLjdfcHJldHRpZXJAMS4xOC4yX3Z1ZS10ZW1wbGF0ZS1jb21waWxlckAyLjcuMTVfd2VicGFja0A0LjQ2LjAvbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9wYWNrYWdlcy9kYXRlLXBpY2tlci9zcmMvcGFuZWwvZGF0ZS1yYW5nZS52dWU/dnVlJnR5cGU9dGVtcGxhdGUmaWQ9MjVmYzk2N2NcbnZhciBkYXRlX3JhbmdldnVlX3R5cGVfdGVtcGxhdGVfaWRfMjVmYzk2N2NfcmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuICB2YXIgX3ZtID0gdGhpcyxcbiAgICBfYyA9IF92bS5fc2VsZi5fY1xuICByZXR1cm4gX2MoXG4gICAgXCJ0cmFuc2l0aW9uXCIsXG4gICAge1xuICAgICAgYXR0cnM6IHsgbmFtZTogXCJlbC16b29tLWluLXRvcFwiIH0sXG4gICAgICBvbjoge1xuICAgICAgICBcImFmdGVyLWxlYXZlXCI6IGZ1bmN0aW9uKCRldmVudCkge1xuICAgICAgICAgIHJldHVybiBfdm0uJGVtaXQoXCJkb2Rlc3Ryb3lcIilcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgW1xuICAgICAgX2MoXG4gICAgICAgIFwiZGl2XCIsXG4gICAgICAgIHtcbiAgICAgICAgICBkaXJlY3RpdmVzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIG5hbWU6IFwic2hvd1wiLFxuICAgICAgICAgICAgICByYXdOYW1lOiBcInYtc2hvd1wiLFxuICAgICAgICAgICAgICB2YWx1ZTogX3ZtLnZpc2libGUsXG4gICAgICAgICAgICAgIGV4cHJlc3Npb246IFwidmlzaWJsZVwiXG4gICAgICAgICAgICB9XG4gICAgICAgICAgXSxcbiAgICAgICAgICBzdGF0aWNDbGFzczogXCJlbC1waWNrZXItcGFuZWwgZWwtZGF0ZS1yYW5nZS1waWNrZXIgZWwtcG9wcGVyXCIsXG4gICAgICAgICAgY2xhc3M6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgXCJoYXMtc2lkZWJhclwiOiBfdm0uJHNsb3RzLnNpZGViYXIgfHwgX3ZtLnNob3J0Y3V0cyxcbiAgICAgICAgICAgICAgXCJoYXMtdGltZVwiOiBfdm0uc2hvd1RpbWVcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfdm0ucG9wcGVyQ2xhc3NcbiAgICAgICAgICBdXG4gICAgICAgIH0sXG4gICAgICAgIFtcbiAgICAgICAgICBfYyhcbiAgICAgICAgICAgIFwiZGl2XCIsXG4gICAgICAgICAgICB7IHN0YXRpY0NsYXNzOiBcImVsLXBpY2tlci1wYW5lbF9fYm9keS13cmFwcGVyXCIgfSxcbiAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgX3ZtLl90KFwic2lkZWJhclwiKSxcbiAgICAgICAgICAgICAgX3ZtLnNob3J0Y3V0c1xuICAgICAgICAgICAgICAgID8gX2MoXG4gICAgICAgICAgICAgICAgICAgIFwiZGl2XCIsXG4gICAgICAgICAgICAgICAgICAgIHsgc3RhdGljQ2xhc3M6IFwiZWwtcGlja2VyLXBhbmVsX19zaWRlYmFyXCIgfSxcbiAgICAgICAgICAgICAgICAgICAgX3ZtLl9sKF92bS5zaG9ydGN1dHMsIGZ1bmN0aW9uKHNob3J0Y3V0LCBrZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2MoXG4gICAgICAgICAgICAgICAgICAgICAgICBcImJ1dHRvblwiLFxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk6IGtleSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGljQ2xhc3M6IFwiZWwtcGlja2VyLXBhbmVsX19zaG9ydGN1dFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBhdHRyczogeyB0eXBlOiBcImJ1dHRvblwiIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKCRldmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF92bS5oYW5kbGVTaG9ydGN1dENsaWNrKHNob3J0Y3V0KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFtfdm0uX3YoX3ZtLl9zKHNob3J0Y3V0LnRleHQpKV1cbiAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICAwXG4gICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgOiBfdm0uX2UoKSxcbiAgICAgICAgICAgICAgX2MoXCJkaXZcIiwgeyBzdGF0aWNDbGFzczogXCJlbC1waWNrZXItcGFuZWxfX2JvZHlcIiB9LCBbXG4gICAgICAgICAgICAgICAgX3ZtLnNob3dUaW1lXG4gICAgICAgICAgICAgICAgICA/IF9jKFxuICAgICAgICAgICAgICAgICAgICAgIFwiZGl2XCIsXG4gICAgICAgICAgICAgICAgICAgICAgeyBzdGF0aWNDbGFzczogXCJlbC1kYXRlLXJhbmdlLXBpY2tlcl9fdGltZS1oZWFkZXJcIiB9LFxuICAgICAgICAgICAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9jKFxuICAgICAgICAgICAgICAgICAgICAgICAgICBcInNwYW5cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgeyBzdGF0aWNDbGFzczogXCJlbC1kYXRlLXJhbmdlLXBpY2tlcl9fZWRpdG9ycy13cmFwXCIgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJzcGFuXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRpY0NsYXNzOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiZWwtZGF0ZS1yYW5nZS1waWNrZXJfX3RpbWUtcGlja2VyLXdyYXBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2MoXCJlbC1pbnB1dFwiLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmOiBcIm1pbklucHV0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGljQ2xhc3M6IFwiZWwtZGF0ZS1yYW5nZS1waWNrZXJfX2VkaXRvclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplOiBcInNtYWxsXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZDogX3ZtLnJhbmdlU3RhdGUuc2VsZWN0aW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI6IF92bS50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImVsLmRhdGVwaWNrZXIuc3RhcnREYXRlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogX3ZtLm1pblZpc2libGVEYXRlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXQ6IHZhbCA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdm0uaGFuZGxlRGF0ZUlucHV0KHZhbCwgXCJtaW5cIiksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFuZ2U6IHZhbCA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdm0uaGFuZGxlRGF0ZUNoYW5nZSh2YWwsIFwibWluXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJzcGFuXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpcmVjdGl2ZXM6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBcImNsaWNrb3V0c2lkZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmF3TmFtZTogXCJ2LWNsaWNrb3V0c2lkZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IF92bS5oYW5kbGVNaW5UaW1lQ2xvc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBleHByZXNzaW9uOiBcImhhbmRsZU1pblRpbWVDbG9zZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0aWNDbGFzczpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImVsLWRhdGUtcmFuZ2UtcGlja2VyX190aW1lLXBpY2tlci13cmFwXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jKFwiZWwtaW5wdXRcIiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRpY0NsYXNzOiBcImVsLWRhdGUtcmFuZ2UtcGlja2VyX19lZGl0b3JcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdHRyczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogXCJzbWFsbFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ6IF92bS5yYW5nZVN0YXRlLnNlbGVjdGluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyOiBfdm0udChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJlbC5kYXRlcGlja2VyLnN0YXJ0VGltZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IF92bS5taW5WaXNpYmxlVGltZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb246IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvY3VzOiBmdW5jdGlvbigkZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLm1pblRpbWVQaWNrZXJWaXNpYmxlID0gdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0OiB2YWwgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLmhhbmRsZVRpbWVJbnB1dCh2YWwsIFwibWluXCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhbmdlOiB2YWwgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLmhhbmRsZVRpbWVDaGFuZ2UodmFsLCBcIm1pblwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jKFwidGltZS1waWNrZXJcIiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZjogXCJtaW5UaW1lUGlja2VyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0cnM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwidGltZS1hcnJvdy1jb250cm9sXCI6IF92bS5hcnJvd0NvbnRyb2wsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2aXNpYmxlOiBfdm0ubWluVGltZVBpY2tlclZpc2libGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwaWNrOiBfdm0uaGFuZGxlTWluVGltZVBpY2ssXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb3VudGVkOiBmdW5jdGlvbigkZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLiRyZWZzLm1pblRpbWVQaWNrZXIuZm9ybWF0ID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdm0udGltZUZvcm1hdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAxXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgX2MoXCJzcGFuXCIsIHsgc3RhdGljQ2xhc3M6IFwiZWwtaWNvbi1hcnJvdy1yaWdodFwiIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgX2MoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIFwic3BhblwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGljQ2xhc3M6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImVsLWRhdGUtcmFuZ2UtcGlja2VyX19lZGl0b3JzLXdyYXAgaXMtcmlnaHRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2MoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInNwYW5cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGljQ2xhc3M6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJlbC1kYXRlLXJhbmdlLXBpY2tlcl9fdGltZS1waWNrZXItd3JhcFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYyhcImVsLWlucHV0XCIsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0aWNDbGFzczogXCJlbC1kYXRlLXJhbmdlLXBpY2tlcl9fZWRpdG9yXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0cnM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6IFwic21hbGxcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkOiBfdm0ucmFuZ2VTdGF0ZS5zZWxlY3RpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcjogX3ZtLnQoXCJlbC5kYXRlcGlja2VyLmVuZERhdGVcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogX3ZtLm1heFZpc2libGVEYXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVhZG9ubHk6ICFfdm0ubWluRGF0ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb246IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0OiB2YWwgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLmhhbmRsZURhdGVJbnB1dCh2YWwsIFwibWF4XCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhbmdlOiB2YWwgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLmhhbmRsZURhdGVDaGFuZ2UodmFsLCBcIm1heFwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAxXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYyhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwic3BhblwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXJlY3RpdmVzOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJjbGlja291dHNpZGVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhd05hbWU6IFwidi1jbGlja291dHNpZGVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBfdm0uaGFuZGxlTWF4VGltZUNsb3NlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhwcmVzc2lvbjogXCJoYW5kbGVNYXhUaW1lQ2xvc2VcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGljQ2xhc3M6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJlbC1kYXRlLXJhbmdlLXBpY2tlcl9fdGltZS1waWNrZXItd3JhcFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYyhcImVsLWlucHV0XCIsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0aWNDbGFzczogXCJlbC1kYXRlLXJhbmdlLXBpY2tlcl9fZWRpdG9yXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0cnM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6IFwic21hbGxcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkOiBfdm0ucmFuZ2VTdGF0ZS5zZWxlY3RpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcjogX3ZtLnQoXCJlbC5kYXRlcGlja2VyLmVuZFRpbWVcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogX3ZtLm1heFZpc2libGVUaW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVhZG9ubHk6ICFfdm0ubWluRGF0ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb246IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvY3VzOiBmdW5jdGlvbigkZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLm1pbkRhdGUgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoX3ZtLm1heFRpbWVQaWNrZXJWaXNpYmxlID0gdHJ1ZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnB1dDogdmFsID0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF92bS5oYW5kbGVUaW1lSW5wdXQodmFsLCBcIm1heFwiKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5nZTogdmFsID0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF92bS5oYW5kbGVUaW1lQ2hhbmdlKHZhbCwgXCJtYXhcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYyhcInRpbWUtcGlja2VyXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWY6IFwibWF4VGltZVBpY2tlclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInRpbWUtYXJyb3ctY29udHJvbFwiOiBfdm0uYXJyb3dDb250cm9sLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlzaWJsZTogX3ZtLm1heFRpbWVQaWNrZXJWaXNpYmxlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGljazogX3ZtLmhhbmRsZU1heFRpbWVQaWNrLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbW91bnRlZDogZnVuY3Rpb24oJGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF92bS4kcmVmcy5tYXhUaW1lUGlja2VyLmZvcm1hdCA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLnRpbWVGb3JtYXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgOiBfdm0uX2UoKSxcbiAgICAgICAgICAgICAgICBfYyhcbiAgICAgICAgICAgICAgICAgIFwiZGl2XCIsXG4gICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXRpY0NsYXNzOlxuICAgICAgICAgICAgICAgICAgICAgIFwiZWwtcGlja2VyLXBhbmVsX19jb250ZW50IGVsLWRhdGUtcmFuZ2UtcGlja2VyX19jb250ZW50IGlzLWxlZnRcIlxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICAgICAgX2MoXCJkaXZcIiwgeyBzdGF0aWNDbGFzczogXCJlbC1kYXRlLXJhbmdlLXBpY2tlcl9faGVhZGVyXCIgfSwgW1xuICAgICAgICAgICAgICAgICAgICAgIF9jKFwiYnV0dG9uXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRpY0NsYXNzOlxuICAgICAgICAgICAgICAgICAgICAgICAgICBcImVsLXBpY2tlci1wYW5lbF9faWNvbi1idG4gZWwtaWNvbi1kLWFycm93LWxlZnRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJzOiB7IHR5cGU6IFwiYnV0dG9uXCIgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uOiB7IGNsaWNrOiBfdm0ubGVmdFByZXZZZWFyIH1cbiAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICBfYyhcImJ1dHRvblwiLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0aWNDbGFzczpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgXCJlbC1waWNrZXItcGFuZWxfX2ljb24tYnRuIGVsLWljb24tYXJyb3ctbGVmdFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgYXR0cnM6IHsgdHlwZTogXCJidXR0b25cIiB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgb246IHsgY2xpY2s6IF92bS5sZWZ0UHJldk1vbnRoIH1cbiAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICBfdm0udW5saW5rUGFuZWxzXG4gICAgICAgICAgICAgICAgICAgICAgICA/IF9jKFwiYnV0dG9uXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0aWNDbGFzczpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiZWwtcGlja2VyLXBhbmVsX19pY29uLWJ0biBlbC1pY29uLWQtYXJyb3ctcmlnaHRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzczogeyBcImlzLWRpc2FibGVkXCI6ICFfdm0uZW5hYmxlWWVhckFycm93IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0cnM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiYnV0dG9uXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZDogIV92bS5lbmFibGVZZWFyQXJyb3dcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uOiB7IGNsaWNrOiBfdm0ubGVmdE5leHRZZWFyIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIDogX3ZtLl9lKCksXG4gICAgICAgICAgICAgICAgICAgICAgX3ZtLnVubGlua1BhbmVsc1xuICAgICAgICAgICAgICAgICAgICAgICAgPyBfYyhcImJ1dHRvblwiLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGljQ2xhc3M6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImVsLXBpY2tlci1wYW5lbF9faWNvbi1idG4gZWwtaWNvbi1hcnJvdy1yaWdodFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzOiB7IFwiaXMtZGlzYWJsZWRcIjogIV92bS5lbmFibGVNb250aEFycm93IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0cnM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiYnV0dG9uXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZDogIV92bS5lbmFibGVNb250aEFycm93XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbjogeyBjbGljazogX3ZtLmxlZnROZXh0TW9udGggfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgOiBfdm0uX2UoKSxcbiAgICAgICAgICAgICAgICAgICAgICBfYyhcImRpdlwiLCBbX3ZtLl92KF92bS5fcyhfdm0ubGVmdExhYmVsKSldKVxuICAgICAgICAgICAgICAgICAgICBdKSxcbiAgICAgICAgICAgICAgICAgICAgX2MoXCJkYXRlLXRhYmxlXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgICBhdHRyczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgXCJzZWxlY3Rpb24tbW9kZVwiOiBcInJhbmdlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRlOiBfdm0ubGVmdERhdGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBcImRlZmF1bHQtdmFsdWVcIjogX3ZtLmRlZmF1bHRWYWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwibWluLWRhdGVcIjogX3ZtLm1pbkRhdGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBcIm1heC1kYXRlXCI6IF92bS5tYXhEYXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJyYW5nZS1zdGF0ZVwiOiBfdm0ucmFuZ2VTdGF0ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiZGlzYWJsZWQtZGF0ZVwiOiBfdm0uZGlzYWJsZWREYXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJjZWxsLWNsYXNzLW5hbWVcIjogX3ZtLmNlbGxDbGFzc05hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBcImZpcnN0LWRheS1vZi13ZWVrXCI6IF92bS5maXJzdERheU9mV2Vla1xuICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgb246IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5nZXJhbmdlOiBfdm0uaGFuZGxlQ2hhbmdlUmFuZ2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBwaWNrOiBfdm0uaGFuZGxlUmFuZ2VQaWNrXG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgIDFcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIF9jKFxuICAgICAgICAgICAgICAgICAgXCJkaXZcIixcbiAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhdGljQ2xhc3M6XG4gICAgICAgICAgICAgICAgICAgICAgXCJlbC1waWNrZXItcGFuZWxfX2NvbnRlbnQgZWwtZGF0ZS1yYW5nZS1waWNrZXJfX2NvbnRlbnQgaXMtcmlnaHRcIlxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICAgICAgX2MoXCJkaXZcIiwgeyBzdGF0aWNDbGFzczogXCJlbC1kYXRlLXJhbmdlLXBpY2tlcl9faGVhZGVyXCIgfSwgW1xuICAgICAgICAgICAgICAgICAgICAgIF92bS51bmxpbmtQYW5lbHNcbiAgICAgICAgICAgICAgICAgICAgICAgID8gX2MoXCJidXR0b25cIiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRpY0NsYXNzOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJlbC1waWNrZXItcGFuZWxfX2ljb24tYnRuIGVsLWljb24tZC1hcnJvdy1sZWZ0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M6IHsgXCJpcy1kaXNhYmxlZFwiOiAhX3ZtLmVuYWJsZVllYXJBcnJvdyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImJ1dHRvblwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ6ICFfdm0uZW5hYmxlWWVhckFycm93XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbjogeyBjbGljazogX3ZtLnJpZ2h0UHJldlllYXIgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgOiBfdm0uX2UoKSxcbiAgICAgICAgICAgICAgICAgICAgICBfdm0udW5saW5rUGFuZWxzXG4gICAgICAgICAgICAgICAgICAgICAgICA/IF9jKFwiYnV0dG9uXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0aWNDbGFzczpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiZWwtcGlja2VyLXBhbmVsX19pY29uLWJ0biBlbC1pY29uLWFycm93LWxlZnRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzczogeyBcImlzLWRpc2FibGVkXCI6ICFfdm0uZW5hYmxlTW9udGhBcnJvdyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImJ1dHRvblwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ6ICFfdm0uZW5hYmxlTW9udGhBcnJvd1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb246IHsgY2xpY2s6IF92bS5yaWdodFByZXZNb250aCB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICA6IF92bS5fZSgpLFxuICAgICAgICAgICAgICAgICAgICAgIF9jKFwiYnV0dG9uXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRpY0NsYXNzOlxuICAgICAgICAgICAgICAgICAgICAgICAgICBcImVsLXBpY2tlci1wYW5lbF9faWNvbi1idG4gZWwtaWNvbi1kLWFycm93LXJpZ2h0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBhdHRyczogeyB0eXBlOiBcImJ1dHRvblwiIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBvbjogeyBjbGljazogX3ZtLnJpZ2h0TmV4dFllYXIgfVxuICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICAgIF9jKFwiYnV0dG9uXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRpY0NsYXNzOlxuICAgICAgICAgICAgICAgICAgICAgICAgICBcImVsLXBpY2tlci1wYW5lbF9faWNvbi1idG4gZWwtaWNvbi1hcnJvdy1yaWdodFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgYXR0cnM6IHsgdHlwZTogXCJidXR0b25cIiB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgb246IHsgY2xpY2s6IF92bS5yaWdodE5leHRNb250aCB9XG4gICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgX2MoXCJkaXZcIiwgW192bS5fdihfdm0uX3MoX3ZtLnJpZ2h0TGFiZWwpKV0pXG4gICAgICAgICAgICAgICAgICAgIF0pLFxuICAgICAgICAgICAgICAgICAgICBfYyhcImRhdGUtdGFibGVcIiwge1xuICAgICAgICAgICAgICAgICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBcInNlbGVjdGlvbi1tb2RlXCI6IFwicmFuZ2VcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGU6IF92bS5yaWdodERhdGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBcImRlZmF1bHQtdmFsdWVcIjogX3ZtLmRlZmF1bHRWYWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwibWluLWRhdGVcIjogX3ZtLm1pbkRhdGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBcIm1heC1kYXRlXCI6IF92bS5tYXhEYXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJyYW5nZS1zdGF0ZVwiOiBfdm0ucmFuZ2VTdGF0ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiZGlzYWJsZWQtZGF0ZVwiOiBfdm0uZGlzYWJsZWREYXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJjZWxsLWNsYXNzLW5hbWVcIjogX3ZtLmNlbGxDbGFzc05hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBcImZpcnN0LWRheS1vZi13ZWVrXCI6IF92bS5maXJzdERheU9mV2Vla1xuICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgb246IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5nZXJhbmdlOiBfdm0uaGFuZGxlQ2hhbmdlUmFuZ2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBwaWNrOiBfdm0uaGFuZGxlUmFuZ2VQaWNrXG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgIDFcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgIF0pXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgMlxuICAgICAgICAgICksXG4gICAgICAgICAgX3ZtLnNob3dUaW1lXG4gICAgICAgICAgICA/IF9jKFxuICAgICAgICAgICAgICAgIFwiZGl2XCIsXG4gICAgICAgICAgICAgICAgeyBzdGF0aWNDbGFzczogXCJlbC1waWNrZXItcGFuZWxfX2Zvb3RlclwiIH0sXG4gICAgICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgICAgX2MoXG4gICAgICAgICAgICAgICAgICAgIFwiZWwtYnV0dG9uXCIsXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICBzdGF0aWNDbGFzczogXCJlbC1waWNrZXItcGFuZWxfX2xpbmstYnRuXCIsXG4gICAgICAgICAgICAgICAgICAgICAgYXR0cnM6IHsgc2l6ZTogXCJtaW5pXCIsIHR5cGU6IFwidGV4dFwiIH0sXG4gICAgICAgICAgICAgICAgICAgICAgb246IHsgY2xpY2s6IF92bS5oYW5kbGVDbGVhciB9XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICAgICAgICBfdm0uX3YoXG4gICAgICAgICAgICAgICAgICAgICAgICBcIlxcbiAgICAgICAgXCIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICBfdm0uX3MoX3ZtLnQoXCJlbC5kYXRlcGlja2VyLmNsZWFyXCIpKSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgIFwiXFxuICAgICAgXCJcbiAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICBfYyhcbiAgICAgICAgICAgICAgICAgICAgXCJlbC1idXR0b25cIixcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgIHN0YXRpY0NsYXNzOiBcImVsLXBpY2tlci1wYW5lbF9fbGluay1idG5cIixcbiAgICAgICAgICAgICAgICAgICAgICBhdHRyczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGxhaW46IFwiXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBzaXplOiBcIm1pbmlcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkOiBfdm0uYnRuRGlzYWJsZWRcbiAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgIG9uOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oJGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdm0uaGFuZGxlQ29uZmlybShmYWxzZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICAgICAgICBfdm0uX3YoXG4gICAgICAgICAgICAgICAgICAgICAgICBcIlxcbiAgICAgICAgXCIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICBfdm0uX3MoX3ZtLnQoXCJlbC5kYXRlcGlja2VyLmNvbmZpcm1cIikpICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgXCJcXG4gICAgICBcIlxuICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgMVxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICA6IF92bS5fZSgpXG4gICAgICAgIF1cbiAgICAgIClcbiAgICBdXG4gIClcbn1cbnZhciBkYXRlX3JhbmdldnVlX3R5cGVfdGVtcGxhdGVfaWRfMjVmYzk2N2Nfc3RhdGljUmVuZGVyRm5zID0gW11cbmRhdGVfcmFuZ2V2dWVfdHlwZV90ZW1wbGF0ZV9pZF8yNWZjOTY3Y19yZW5kZXIuX3dpdGhTdHJpcHBlZCA9IHRydWVcblxuXG4vLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3BhY2thZ2VzL2RhdGUtcGlja2VyL3NyYy9wYW5lbC9kYXRlLXJhbmdlLnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD0yNWZjOTY3Y1xuXG4vLyBDT05DQVRFTkFURUQgTU9EVUxFOiBDOi9Vc2Vycy9UeWxlclRyb3R0ZXIvcmVwb3MvQ29nbml0byBGb3Jtcy9Db2duaXRvLldlYi5DbGllbnQvbm9kZV9tb2R1bGVzLy5wbnBtL2JhYmVsLWxvYWRlckA4LjMuMF9AYmFiZWwrY29yZUA3LjI1LjJfd2VicGFja0A0LjQ2LjAvbm9kZV9tb2R1bGVzL2JhYmVsLWxvYWRlci9saWIhQzovVXNlcnMvVHlsZXJUcm90dGVyL3JlcG9zL0NvZ25pdG8gRm9ybXMvQ29nbml0by5XZWIuQ2xpZW50L25vZGVfbW9kdWxlcy8ucG5wbS92dWUtbG9hZGVyQDE1LjExLjFfY3NzLWxvYWRlckA1LjIuN19wcmV0dGllckAxLjE4LjJfdnVlLXRlbXBsYXRlLWNvbXBpbGVyQDIuNy4xNV93ZWJwYWNrQDQuNDYuMC9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWI/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL3BhY2thZ2VzL2RhdGUtcGlja2VyL3NyYy9wYW5lbC9kYXRlLXJhbmdlLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qc1xuXG5cblxuXG5cblxuXG5jb25zdCBjYWxjRGVmYXVsdFZhbHVlID0gZGVmYXVsdFZhbHVlID0+IHtcbiAgaWYgKEFycmF5LmlzQXJyYXkoZGVmYXVsdFZhbHVlKSkge1xuICAgIHJldHVybiBbbmV3IERhdGUoZGVmYXVsdFZhbHVlWzBdKSwgbmV3IERhdGUoZGVmYXVsdFZhbHVlWzFdKV07XG4gIH0gZWxzZSBpZiAoZGVmYXVsdFZhbHVlKSB7XG4gICAgcmV0dXJuIFtuZXcgRGF0ZShkZWZhdWx0VmFsdWUpLCBPYmplY3QoZGF0ZV91dGlsX1tcIm5leHREYXRlXCJdKShuZXcgRGF0ZShkZWZhdWx0VmFsdWUpLCAxKV07XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIFtuZXcgRGF0ZSgpLCBPYmplY3QoZGF0ZV91dGlsX1tcIm5leHREYXRlXCJdKShuZXcgRGF0ZSgpLCAxKV07XG4gIH1cbn07XG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIHZhciBkYXRlX3JhbmdldnVlX3R5cGVfc2NyaXB0X2xhbmdfanMgPSAoe1xuICBtaXhpbnM6IFtsb2NhbGVfZGVmYXVsdC5hXSxcbiAgZGlyZWN0aXZlczoge1xuICAgIENsaWNrb3V0c2lkZTogY2xpY2tvdXRzaWRlX2RlZmF1bHQuYVxuICB9LFxuICBjb21wdXRlZDoge1xuICAgIGJ0bkRpc2FibGVkKCkge1xuICAgICAgcmV0dXJuICEodGhpcy5taW5EYXRlICYmIHRoaXMubWF4RGF0ZSAmJiAhdGhpcy5zZWxlY3RpbmcgJiYgdGhpcy5pc1ZhbGlkVmFsdWUoW3RoaXMubWluRGF0ZSwgdGhpcy5tYXhEYXRlXSkpO1xuICAgIH0sXG4gICAgbGVmdExhYmVsKCkge1xuICAgICAgcmV0dXJuIHRoaXMubGVmdERhdGUuZ2V0RnVsbFllYXIoKSArICcgJyArIHRoaXMudCgnZWwuZGF0ZXBpY2tlci55ZWFyJykgKyAnICcgKyB0aGlzLnQoYGVsLmRhdGVwaWNrZXIubW9udGgke3RoaXMubGVmdERhdGUuZ2V0TW9udGgoKSArIDF9YCk7XG4gICAgfSxcbiAgICByaWdodExhYmVsKCkge1xuICAgICAgcmV0dXJuIHRoaXMucmlnaHREYXRlLmdldEZ1bGxZZWFyKCkgKyAnICcgKyB0aGlzLnQoJ2VsLmRhdGVwaWNrZXIueWVhcicpICsgJyAnICsgdGhpcy50KGBlbC5kYXRlcGlja2VyLm1vbnRoJHt0aGlzLnJpZ2h0RGF0ZS5nZXRNb250aCgpICsgMX1gKTtcbiAgICB9LFxuICAgIGxlZnRZZWFyKCkge1xuICAgICAgcmV0dXJuIHRoaXMubGVmdERhdGUuZ2V0RnVsbFllYXIoKTtcbiAgICB9LFxuICAgIGxlZnRNb250aCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmxlZnREYXRlLmdldE1vbnRoKCk7XG4gICAgfSxcbiAgICBsZWZ0TW9udGhEYXRlKCkge1xuICAgICAgcmV0dXJuIHRoaXMubGVmdERhdGUuZ2V0RGF0ZSgpO1xuICAgIH0sXG4gICAgcmlnaHRZZWFyKCkge1xuICAgICAgcmV0dXJuIHRoaXMucmlnaHREYXRlLmdldEZ1bGxZZWFyKCk7XG4gICAgfSxcbiAgICByaWdodE1vbnRoKCkge1xuICAgICAgcmV0dXJuIHRoaXMucmlnaHREYXRlLmdldE1vbnRoKCk7XG4gICAgfSxcbiAgICByaWdodE1vbnRoRGF0ZSgpIHtcbiAgICAgIHJldHVybiB0aGlzLnJpZ2h0RGF0ZS5nZXREYXRlKCk7XG4gICAgfSxcbiAgICBtaW5WaXNpYmxlRGF0ZSgpIHtcbiAgICAgIGlmICh0aGlzLmRhdGVVc2VySW5wdXQubWluICE9PSBudWxsKSByZXR1cm4gdGhpcy5kYXRlVXNlcklucHV0Lm1pbjtcbiAgICAgIGlmICh0aGlzLm1pbkRhdGUpIHJldHVybiBPYmplY3QoZGF0ZV91dGlsX1tcImZvcm1hdERhdGVcIl0pKHRoaXMubWluRGF0ZSwgdGhpcy5kYXRlRm9ybWF0KTtcbiAgICAgIHJldHVybiAnJztcbiAgICB9LFxuICAgIG1heFZpc2libGVEYXRlKCkge1xuICAgICAgaWYgKHRoaXMuZGF0ZVVzZXJJbnB1dC5tYXggIT09IG51bGwpIHJldHVybiB0aGlzLmRhdGVVc2VySW5wdXQubWF4O1xuICAgICAgaWYgKHRoaXMubWF4RGF0ZSB8fCB0aGlzLm1pbkRhdGUpIHJldHVybiBPYmplY3QoZGF0ZV91dGlsX1tcImZvcm1hdERhdGVcIl0pKHRoaXMubWF4RGF0ZSB8fCB0aGlzLm1pbkRhdGUsIHRoaXMuZGF0ZUZvcm1hdCk7XG4gICAgICByZXR1cm4gJyc7XG4gICAgfSxcbiAgICBtaW5WaXNpYmxlVGltZSgpIHtcbiAgICAgIGlmICh0aGlzLnRpbWVVc2VySW5wdXQubWluICE9PSBudWxsKSByZXR1cm4gdGhpcy50aW1lVXNlcklucHV0Lm1pbjtcbiAgICAgIGlmICh0aGlzLm1pbkRhdGUpIHJldHVybiBPYmplY3QoZGF0ZV91dGlsX1tcImZvcm1hdERhdGVcIl0pKHRoaXMubWluRGF0ZSwgdGhpcy50aW1lRm9ybWF0KTtcbiAgICAgIHJldHVybiAnJztcbiAgICB9LFxuICAgIG1heFZpc2libGVUaW1lKCkge1xuICAgICAgaWYgKHRoaXMudGltZVVzZXJJbnB1dC5tYXggIT09IG51bGwpIHJldHVybiB0aGlzLnRpbWVVc2VySW5wdXQubWF4O1xuICAgICAgaWYgKHRoaXMubWF4RGF0ZSB8fCB0aGlzLm1pbkRhdGUpIHJldHVybiBPYmplY3QoZGF0ZV91dGlsX1tcImZvcm1hdERhdGVcIl0pKHRoaXMubWF4RGF0ZSB8fCB0aGlzLm1pbkRhdGUsIHRoaXMudGltZUZvcm1hdCk7XG4gICAgICByZXR1cm4gJyc7XG4gICAgfSxcbiAgICB0aW1lRm9ybWF0KCkge1xuICAgICAgaWYgKHRoaXMuZm9ybWF0KSB7XG4gICAgICAgIHJldHVybiBPYmplY3QoZGF0ZV91dGlsX1tcImV4dHJhY3RUaW1lRm9ybWF0XCJdKSh0aGlzLmZvcm1hdCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gJ0hIOm1tOnNzJztcbiAgICAgIH1cbiAgICB9LFxuICAgIGRhdGVGb3JtYXQoKSB7XG4gICAgICBpZiAodGhpcy5mb3JtYXQpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdChkYXRlX3V0aWxfW1wiZXh0cmFjdERhdGVGb3JtYXRcIl0pKHRoaXMuZm9ybWF0KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiAneXl5eS1NTS1kZCc7XG4gICAgICB9XG4gICAgfSxcbiAgICBlbmFibGVNb250aEFycm93KCkge1xuICAgICAgY29uc3QgbmV4dE1vbnRoID0gKHRoaXMubGVmdE1vbnRoICsgMSkgJSAxMjtcbiAgICAgIGNvbnN0IHllYXJPZmZzZXQgPSB0aGlzLmxlZnRNb250aCArIDEgPj0gMTIgPyAxIDogMDtcbiAgICAgIHJldHVybiB0aGlzLnVubGlua1BhbmVscyAmJiBuZXcgRGF0ZSh0aGlzLmxlZnRZZWFyICsgeWVhck9mZnNldCwgbmV4dE1vbnRoKSA8IG5ldyBEYXRlKHRoaXMucmlnaHRZZWFyLCB0aGlzLnJpZ2h0TW9udGgpO1xuICAgIH0sXG4gICAgZW5hYmxlWWVhckFycm93KCkge1xuICAgICAgcmV0dXJuIHRoaXMudW5saW5rUGFuZWxzICYmIHRoaXMucmlnaHRZZWFyICogMTIgKyB0aGlzLnJpZ2h0TW9udGggLSAodGhpcy5sZWZ0WWVhciAqIDEyICsgdGhpcy5sZWZ0TW9udGggKyAxKSA+PSAxMjtcbiAgICB9XG4gIH0sXG4gIGRhdGEoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHBvcHBlckNsYXNzOiAnJyxcbiAgICAgIHZhbHVlOiBbXSxcbiAgICAgIGRlZmF1bHRWYWx1ZTogbnVsbCxcbiAgICAgIGRlZmF1bHRUaW1lOiBudWxsLFxuICAgICAgbWluRGF0ZTogJycsXG4gICAgICBtYXhEYXRlOiAnJyxcbiAgICAgIGxlZnREYXRlOiBuZXcgRGF0ZSgpLFxuICAgICAgcmlnaHREYXRlOiBPYmplY3QoZGF0ZV91dGlsX1tcIm5leHRNb250aFwiXSkobmV3IERhdGUoKSksXG4gICAgICByYW5nZVN0YXRlOiB7XG4gICAgICAgIGVuZERhdGU6IG51bGwsXG4gICAgICAgIHNlbGVjdGluZzogZmFsc2UsXG4gICAgICAgIHJvdzogbnVsbCxcbiAgICAgICAgY29sdW1uOiBudWxsXG4gICAgICB9LFxuICAgICAgc2hvd1RpbWU6IGZhbHNlLFxuICAgICAgc2hvcnRjdXRzOiAnJyxcbiAgICAgIHZpc2libGU6ICcnLFxuICAgICAgZGlzYWJsZWREYXRlOiAnJyxcbiAgICAgIGNlbGxDbGFzc05hbWU6ICcnLFxuICAgICAgZmlyc3REYXlPZldlZWs6IDcsXG4gICAgICBtaW5UaW1lUGlja2VyVmlzaWJsZTogZmFsc2UsXG4gICAgICBtYXhUaW1lUGlja2VyVmlzaWJsZTogZmFsc2UsXG4gICAgICBmb3JtYXQ6ICcnLFxuICAgICAgYXJyb3dDb250cm9sOiBmYWxzZSxcbiAgICAgIHVubGlua1BhbmVsczogZmFsc2UsXG4gICAgICBkYXRlVXNlcklucHV0OiB7XG4gICAgICAgIG1pbjogbnVsbCxcbiAgICAgICAgbWF4OiBudWxsXG4gICAgICB9LFxuICAgICAgdGltZVVzZXJJbnB1dDoge1xuICAgICAgICBtaW46IG51bGwsXG4gICAgICAgIG1heDogbnVsbFxuICAgICAgfVxuICAgIH07XG4gIH0sXG4gIHdhdGNoOiB7XG4gICAgbWluRGF0ZSh2YWwpIHtcbiAgICAgIHRoaXMuZGF0ZVVzZXJJbnB1dC5taW4gPSBudWxsO1xuICAgICAgdGhpcy50aW1lVXNlcklucHV0Lm1pbiA9IG51bGw7XG4gICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7XG4gICAgICAgIGlmICh0aGlzLiRyZWZzLm1heFRpbWVQaWNrZXIgJiYgdGhpcy5tYXhEYXRlICYmIHRoaXMubWF4RGF0ZSA8IHRoaXMubWluRGF0ZSkge1xuICAgICAgICAgIGNvbnN0IGZvcm1hdCA9ICdISDptbTpzcyc7XG4gICAgICAgICAgdGhpcy4kcmVmcy5tYXhUaW1lUGlja2VyLnNlbGVjdGFibGVSYW5nZSA9IFtbT2JqZWN0KGRhdGVfdXRpbF9bXCJwYXJzZURhdGVcIl0pKE9iamVjdChkYXRlX3V0aWxfW1wiZm9ybWF0RGF0ZVwiXSkodGhpcy5taW5EYXRlLCBmb3JtYXQpLCBmb3JtYXQpLCBPYmplY3QoZGF0ZV91dGlsX1tcInBhcnNlRGF0ZVwiXSkoJzIzOjU5OjU5JywgZm9ybWF0KV1dO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGlmICh2YWwgJiYgdGhpcy4kcmVmcy5taW5UaW1lUGlja2VyKSB7XG4gICAgICAgIHRoaXMuJHJlZnMubWluVGltZVBpY2tlci5kYXRlID0gdmFsO1xuICAgICAgICB0aGlzLiRyZWZzLm1pblRpbWVQaWNrZXIudmFsdWUgPSB2YWw7XG4gICAgICB9XG4gICAgfSxcbiAgICBtYXhEYXRlKHZhbCkge1xuICAgICAgdGhpcy5kYXRlVXNlcklucHV0Lm1heCA9IG51bGw7XG4gICAgICB0aGlzLnRpbWVVc2VySW5wdXQubWF4ID0gbnVsbDtcbiAgICAgIGlmICh2YWwgJiYgdGhpcy4kcmVmcy5tYXhUaW1lUGlja2VyKSB7XG4gICAgICAgIHRoaXMuJHJlZnMubWF4VGltZVBpY2tlci5kYXRlID0gdmFsO1xuICAgICAgICB0aGlzLiRyZWZzLm1heFRpbWVQaWNrZXIudmFsdWUgPSB2YWw7XG4gICAgICB9XG4gICAgfSxcbiAgICBtaW5UaW1lUGlja2VyVmlzaWJsZSh2YWwpIHtcbiAgICAgIGlmICh2YWwpIHtcbiAgICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4ge1xuICAgICAgICAgIHRoaXMuJHJlZnMubWluVGltZVBpY2tlci5kYXRlID0gdGhpcy5taW5EYXRlO1xuICAgICAgICAgIHRoaXMuJHJlZnMubWluVGltZVBpY2tlci52YWx1ZSA9IHRoaXMubWluRGF0ZTtcbiAgICAgICAgICB0aGlzLiRyZWZzLm1pblRpbWVQaWNrZXIuYWRqdXN0U3Bpbm5lcnMoKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSxcbiAgICBtYXhUaW1lUGlja2VyVmlzaWJsZSh2YWwpIHtcbiAgICAgIGlmICh2YWwpIHtcbiAgICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4ge1xuICAgICAgICAgIHRoaXMuJHJlZnMubWF4VGltZVBpY2tlci5kYXRlID0gdGhpcy5tYXhEYXRlO1xuICAgICAgICAgIHRoaXMuJHJlZnMubWF4VGltZVBpY2tlci52YWx1ZSA9IHRoaXMubWF4RGF0ZTtcbiAgICAgICAgICB0aGlzLiRyZWZzLm1heFRpbWVQaWNrZXIuYWRqdXN0U3Bpbm5lcnMoKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSxcbiAgICB2YWx1ZShuZXdWYWwpIHtcbiAgICAgIGlmICghbmV3VmFsKSB7XG4gICAgICAgIHRoaXMubWluRGF0ZSA9IG51bGw7XG4gICAgICAgIHRoaXMubWF4RGF0ZSA9IG51bGw7XG4gICAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkobmV3VmFsKSkge1xuICAgICAgICB0aGlzLm1pbkRhdGUgPSBPYmplY3QoZGF0ZV91dGlsX1tcImlzRGF0ZVwiXSkobmV3VmFsWzBdKSA/IG5ldyBEYXRlKG5ld1ZhbFswXSkgOiBudWxsO1xuICAgICAgICB0aGlzLm1heERhdGUgPSBPYmplY3QoZGF0ZV91dGlsX1tcImlzRGF0ZVwiXSkobmV3VmFsWzFdKSA/IG5ldyBEYXRlKG5ld1ZhbFsxXSkgOiBudWxsO1xuICAgICAgICBpZiAodGhpcy5taW5EYXRlKSB7XG4gICAgICAgICAgdGhpcy5sZWZ0RGF0ZSA9IHRoaXMubWluRGF0ZTtcbiAgICAgICAgICBpZiAodGhpcy51bmxpbmtQYW5lbHMgJiYgdGhpcy5tYXhEYXRlKSB7XG4gICAgICAgICAgICBjb25zdCBtaW5EYXRlWWVhciA9IHRoaXMubWluRGF0ZS5nZXRGdWxsWWVhcigpO1xuICAgICAgICAgICAgY29uc3QgbWluRGF0ZU1vbnRoID0gdGhpcy5taW5EYXRlLmdldE1vbnRoKCk7XG4gICAgICAgICAgICBjb25zdCBtYXhEYXRlWWVhciA9IHRoaXMubWF4RGF0ZS5nZXRGdWxsWWVhcigpO1xuICAgICAgICAgICAgY29uc3QgbWF4RGF0ZU1vbnRoID0gdGhpcy5tYXhEYXRlLmdldE1vbnRoKCk7XG4gICAgICAgICAgICB0aGlzLnJpZ2h0RGF0ZSA9IG1pbkRhdGVZZWFyID09PSBtYXhEYXRlWWVhciAmJiBtaW5EYXRlTW9udGggPT09IG1heERhdGVNb250aCA/IE9iamVjdChkYXRlX3V0aWxfW1wibmV4dE1vbnRoXCJdKSh0aGlzLm1heERhdGUpIDogdGhpcy5tYXhEYXRlO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnJpZ2h0RGF0ZSA9IE9iamVjdChkYXRlX3V0aWxfW1wibmV4dE1vbnRoXCJdKSh0aGlzLmxlZnREYXRlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5sZWZ0RGF0ZSA9IGNhbGNEZWZhdWx0VmFsdWUodGhpcy5kZWZhdWx0VmFsdWUpWzBdO1xuICAgICAgICAgIHRoaXMucmlnaHREYXRlID0gT2JqZWN0KGRhdGVfdXRpbF9bXCJuZXh0TW9udGhcIl0pKHRoaXMubGVmdERhdGUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICBkZWZhdWx0VmFsdWUodmFsKSB7XG4gICAgICBpZiAoIUFycmF5LmlzQXJyYXkodGhpcy52YWx1ZSkpIHtcbiAgICAgICAgY29uc3QgW2xlZnQsIHJpZ2h0XSA9IGNhbGNEZWZhdWx0VmFsdWUodmFsKTtcbiAgICAgICAgdGhpcy5sZWZ0RGF0ZSA9IGxlZnQ7XG4gICAgICAgIHRoaXMucmlnaHREYXRlID0gdmFsICYmIHZhbFsxXSAmJiB0aGlzLnVubGlua1BhbmVscyA/IHJpZ2h0IDogT2JqZWN0KGRhdGVfdXRpbF9bXCJuZXh0TW9udGhcIl0pKHRoaXMubGVmdERhdGUpO1xuICAgICAgfVxuICAgIH1cbiAgfSxcbiAgbWV0aG9kczoge1xuICAgIGhhbmRsZUNsZWFyKCkge1xuICAgICAgdGhpcy5taW5EYXRlID0gbnVsbDtcbiAgICAgIHRoaXMubWF4RGF0ZSA9IG51bGw7XG4gICAgICB0aGlzLmxlZnREYXRlID0gY2FsY0RlZmF1bHRWYWx1ZSh0aGlzLmRlZmF1bHRWYWx1ZSlbMF07XG4gICAgICB0aGlzLnJpZ2h0RGF0ZSA9IE9iamVjdChkYXRlX3V0aWxfW1wibmV4dE1vbnRoXCJdKSh0aGlzLmxlZnREYXRlKTtcbiAgICAgIHRoaXMuJGVtaXQoJ3BpY2snLCBudWxsKTtcbiAgICB9LFxuICAgIGhhbmRsZUNoYW5nZVJhbmdlKHZhbCkge1xuICAgICAgdGhpcy5taW5EYXRlID0gdmFsLm1pbkRhdGU7XG4gICAgICB0aGlzLm1heERhdGUgPSB2YWwubWF4RGF0ZTtcbiAgICAgIHRoaXMucmFuZ2VTdGF0ZSA9IHZhbC5yYW5nZVN0YXRlO1xuICAgIH0sXG4gICAgaGFuZGxlRGF0ZUlucHV0KHZhbHVlLCB0eXBlKSB7XG4gICAgICB0aGlzLmRhdGVVc2VySW5wdXRbdHlwZV0gPSB2YWx1ZTtcbiAgICAgIGlmICh2YWx1ZS5sZW5ndGggIT09IHRoaXMuZGF0ZUZvcm1hdC5sZW5ndGgpIHJldHVybjtcbiAgICAgIGNvbnN0IHBhcnNlZFZhbHVlID0gT2JqZWN0KGRhdGVfdXRpbF9bXCJwYXJzZURhdGVcIl0pKHZhbHVlLCB0aGlzLmRhdGVGb3JtYXQpO1xuICAgICAgaWYgKHBhcnNlZFZhbHVlKSB7XG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5kaXNhYmxlZERhdGUgPT09ICdmdW5jdGlvbicgJiYgdGhpcy5kaXNhYmxlZERhdGUobmV3IERhdGUocGFyc2VkVmFsdWUpKSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZSA9PT0gJ21pbicpIHtcbiAgICAgICAgICB0aGlzLm1pbkRhdGUgPSBPYmplY3QoZGF0ZV91dGlsX1tcIm1vZGlmeURhdGVcIl0pKHRoaXMubWluRGF0ZSB8fCBuZXcgRGF0ZSgpLCBwYXJzZWRWYWx1ZS5nZXRGdWxsWWVhcigpLCBwYXJzZWRWYWx1ZS5nZXRNb250aCgpLCBwYXJzZWRWYWx1ZS5nZXREYXRlKCkpO1xuICAgICAgICAgIHRoaXMubGVmdERhdGUgPSBuZXcgRGF0ZShwYXJzZWRWYWx1ZSk7XG4gICAgICAgICAgaWYgKCF0aGlzLnVubGlua1BhbmVscykge1xuICAgICAgICAgICAgdGhpcy5yaWdodERhdGUgPSBPYmplY3QoZGF0ZV91dGlsX1tcIm5leHRNb250aFwiXSkodGhpcy5sZWZ0RGF0ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMubWF4RGF0ZSA9IE9iamVjdChkYXRlX3V0aWxfW1wibW9kaWZ5RGF0ZVwiXSkodGhpcy5tYXhEYXRlIHx8IG5ldyBEYXRlKCksIHBhcnNlZFZhbHVlLmdldEZ1bGxZZWFyKCksIHBhcnNlZFZhbHVlLmdldE1vbnRoKCksIHBhcnNlZFZhbHVlLmdldERhdGUoKSk7XG4gICAgICAgICAgdGhpcy5yaWdodERhdGUgPSBuZXcgRGF0ZShwYXJzZWRWYWx1ZSk7XG4gICAgICAgICAgaWYgKCF0aGlzLnVubGlua1BhbmVscykge1xuICAgICAgICAgICAgdGhpcy5sZWZ0RGF0ZSA9IE9iamVjdChkYXRlX3V0aWxfW1wicHJldk1vbnRoXCJdKShwYXJzZWRWYWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICBoYW5kbGVEYXRlQ2hhbmdlKHZhbHVlLCB0eXBlKSB7XG4gICAgICBjb25zdCBwYXJzZWRWYWx1ZSA9IE9iamVjdChkYXRlX3V0aWxfW1wicGFyc2VEYXRlXCJdKSh2YWx1ZSwgdGhpcy5kYXRlRm9ybWF0KTtcbiAgICAgIGlmIChwYXJzZWRWYWx1ZSkge1xuICAgICAgICBpZiAodHlwZSA9PT0gJ21pbicpIHtcbiAgICAgICAgICB0aGlzLm1pbkRhdGUgPSBPYmplY3QoZGF0ZV91dGlsX1tcIm1vZGlmeURhdGVcIl0pKHRoaXMubWluRGF0ZSwgcGFyc2VkVmFsdWUuZ2V0RnVsbFllYXIoKSwgcGFyc2VkVmFsdWUuZ2V0TW9udGgoKSwgcGFyc2VkVmFsdWUuZ2V0RGF0ZSgpKTtcbiAgICAgICAgICBpZiAodGhpcy5taW5EYXRlID4gdGhpcy5tYXhEYXRlKSB7XG4gICAgICAgICAgICB0aGlzLm1heERhdGUgPSB0aGlzLm1pbkRhdGU7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMubWF4RGF0ZSA9IE9iamVjdChkYXRlX3V0aWxfW1wibW9kaWZ5RGF0ZVwiXSkodGhpcy5tYXhEYXRlLCBwYXJzZWRWYWx1ZS5nZXRGdWxsWWVhcigpLCBwYXJzZWRWYWx1ZS5nZXRNb250aCgpLCBwYXJzZWRWYWx1ZS5nZXREYXRlKCkpO1xuICAgICAgICAgIGlmICh0aGlzLm1heERhdGUgPCB0aGlzLm1pbkRhdGUpIHtcbiAgICAgICAgICAgIHRoaXMubWluRGF0ZSA9IHRoaXMubWF4RGF0ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIGhhbmRsZVRpbWVJbnB1dCh2YWx1ZSwgdHlwZSkge1xuICAgICAgdGhpcy50aW1lVXNlcklucHV0W3R5cGVdID0gdmFsdWU7XG4gICAgICBpZiAodmFsdWUubGVuZ3RoICE9PSB0aGlzLnRpbWVGb3JtYXQubGVuZ3RoKSByZXR1cm47XG4gICAgICBjb25zdCBwYXJzZWRWYWx1ZSA9IE9iamVjdChkYXRlX3V0aWxfW1wicGFyc2VEYXRlXCJdKSh2YWx1ZSwgdGhpcy50aW1lRm9ybWF0KTtcbiAgICAgIGlmIChwYXJzZWRWYWx1ZSkge1xuICAgICAgICBpZiAodHlwZSA9PT0gJ21pbicpIHtcbiAgICAgICAgICB0aGlzLm1pbkRhdGUgPSBPYmplY3QoZGF0ZV91dGlsX1tcIm1vZGlmeVRpbWVcIl0pKHRoaXMubWluRGF0ZSwgcGFyc2VkVmFsdWUuZ2V0SG91cnMoKSwgcGFyc2VkVmFsdWUuZ2V0TWludXRlcygpLCBwYXJzZWRWYWx1ZS5nZXRTZWNvbmRzKCkpO1xuICAgICAgICAgIHRoaXMuJG5leHRUaWNrKF8gPT4gdGhpcy4kcmVmcy5taW5UaW1lUGlja2VyLmFkanVzdFNwaW5uZXJzKCkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMubWF4RGF0ZSA9IE9iamVjdChkYXRlX3V0aWxfW1wibW9kaWZ5VGltZVwiXSkodGhpcy5tYXhEYXRlLCBwYXJzZWRWYWx1ZS5nZXRIb3VycygpLCBwYXJzZWRWYWx1ZS5nZXRNaW51dGVzKCksIHBhcnNlZFZhbHVlLmdldFNlY29uZHMoKSk7XG4gICAgICAgICAgdGhpcy4kbmV4dFRpY2soXyA9PiB0aGlzLiRyZWZzLm1heFRpbWVQaWNrZXIuYWRqdXN0U3Bpbm5lcnMoKSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIGhhbmRsZVRpbWVDaGFuZ2UodmFsdWUsIHR5cGUpIHtcbiAgICAgIGNvbnN0IHBhcnNlZFZhbHVlID0gT2JqZWN0KGRhdGVfdXRpbF9bXCJwYXJzZURhdGVcIl0pKHZhbHVlLCB0aGlzLnRpbWVGb3JtYXQpO1xuICAgICAgaWYgKHBhcnNlZFZhbHVlKSB7XG4gICAgICAgIGlmICh0eXBlID09PSAnbWluJykge1xuICAgICAgICAgIHRoaXMubWluRGF0ZSA9IE9iamVjdChkYXRlX3V0aWxfW1wibW9kaWZ5VGltZVwiXSkodGhpcy5taW5EYXRlLCBwYXJzZWRWYWx1ZS5nZXRIb3VycygpLCBwYXJzZWRWYWx1ZS5nZXRNaW51dGVzKCksIHBhcnNlZFZhbHVlLmdldFNlY29uZHMoKSk7XG4gICAgICAgICAgaWYgKHRoaXMubWluRGF0ZSA+IHRoaXMubWF4RGF0ZSkge1xuICAgICAgICAgICAgdGhpcy5tYXhEYXRlID0gdGhpcy5taW5EYXRlO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aGlzLiRyZWZzLm1pblRpbWVQaWNrZXIudmFsdWUgPSB0aGlzLm1pbkRhdGU7XG4gICAgICAgICAgdGhpcy5taW5UaW1lUGlja2VyVmlzaWJsZSA9IGZhbHNlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMubWF4RGF0ZSA9IE9iamVjdChkYXRlX3V0aWxfW1wibW9kaWZ5VGltZVwiXSkodGhpcy5tYXhEYXRlLCBwYXJzZWRWYWx1ZS5nZXRIb3VycygpLCBwYXJzZWRWYWx1ZS5nZXRNaW51dGVzKCksIHBhcnNlZFZhbHVlLmdldFNlY29uZHMoKSk7XG4gICAgICAgICAgaWYgKHRoaXMubWF4RGF0ZSA8IHRoaXMubWluRGF0ZSkge1xuICAgICAgICAgICAgdGhpcy5taW5EYXRlID0gdGhpcy5tYXhEYXRlO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aGlzLiRyZWZzLm1heFRpbWVQaWNrZXIudmFsdWUgPSB0aGlzLm1pbkRhdGU7XG4gICAgICAgICAgdGhpcy5tYXhUaW1lUGlja2VyVmlzaWJsZSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICBoYW5kbGVSYW5nZVBpY2sodmFsLCBjbG9zZSkge1xuICAgICAgaWYgKGNsb3NlID09PSB2b2lkIDApIHtcbiAgICAgICAgY2xvc2UgPSB0cnVlO1xuICAgICAgfVxuICAgICAgY29uc3QgZGVmYXVsdFRpbWUgPSB0aGlzLmRlZmF1bHRUaW1lIHx8IFtdO1xuICAgICAgY29uc3QgbWluRGF0ZSA9IE9iamVjdChkYXRlX3V0aWxfW1wibW9kaWZ5V2l0aFRpbWVTdHJpbmdcIl0pKHZhbC5taW5EYXRlLCBkZWZhdWx0VGltZVswXSk7XG4gICAgICBjb25zdCBtYXhEYXRlID0gT2JqZWN0KGRhdGVfdXRpbF9bXCJtb2RpZnlXaXRoVGltZVN0cmluZ1wiXSkodmFsLm1heERhdGUsIGRlZmF1bHRUaW1lWzFdKTtcbiAgICAgIGlmICh0aGlzLm1heERhdGUgPT09IG1heERhdGUgJiYgdGhpcy5taW5EYXRlID09PSBtaW5EYXRlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRoaXMub25QaWNrICYmIHRoaXMub25QaWNrKHZhbCk7XG4gICAgICB0aGlzLm1heERhdGUgPSBtYXhEYXRlO1xuICAgICAgdGhpcy5taW5EYXRlID0gbWluRGF0ZTtcblxuICAgICAgLy8gd29ya2Fyb3VuZCBmb3IgaHR0cHM6Ly9naXRodWIuY29tL0VsZW1lRkUvZWxlbWVudC9pc3N1ZXMvNzUzOSwgc2hvdWxkIHJlbW92ZSB0aGlzIGJsb2NrIHdoZW4gd2UgZG9uJ3QgaGF2ZSB0byBjYXJlIGFib3V0IENocm9taXVtIDU1IC0gNTdcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICB0aGlzLm1heERhdGUgPSBtYXhEYXRlO1xuICAgICAgICB0aGlzLm1pbkRhdGUgPSBtaW5EYXRlO1xuICAgICAgfSwgMTApO1xuICAgICAgaWYgKCFjbG9zZSB8fCB0aGlzLnNob3dUaW1lKSByZXR1cm47XG4gICAgICB0aGlzLmhhbmRsZUNvbmZpcm0oKTtcbiAgICB9LFxuICAgIGhhbmRsZVNob3J0Y3V0Q2xpY2soc2hvcnRjdXQpIHtcbiAgICAgIGlmIChzaG9ydGN1dC5vbkNsaWNrKSB7XG4gICAgICAgIHNob3J0Y3V0Lm9uQ2xpY2sodGhpcyk7XG4gICAgICB9XG4gICAgfSxcbiAgICBoYW5kbGVNaW5UaW1lUGljayh2YWx1ZSwgdmlzaWJsZSwgZmlyc3QpIHtcbiAgICAgIHRoaXMubWluRGF0ZSA9IHRoaXMubWluRGF0ZSB8fCBuZXcgRGF0ZSgpO1xuICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgIHRoaXMubWluRGF0ZSA9IE9iamVjdChkYXRlX3V0aWxfW1wibW9kaWZ5VGltZVwiXSkodGhpcy5taW5EYXRlLCB2YWx1ZS5nZXRIb3VycygpLCB2YWx1ZS5nZXRNaW51dGVzKCksIHZhbHVlLmdldFNlY29uZHMoKSk7XG4gICAgICB9XG4gICAgICBpZiAoIWZpcnN0KSB7XG4gICAgICAgIHRoaXMubWluVGltZVBpY2tlclZpc2libGUgPSB2aXNpYmxlO1xuICAgICAgfVxuICAgICAgaWYgKCF0aGlzLm1heERhdGUgfHwgdGhpcy5tYXhEYXRlICYmIHRoaXMubWF4RGF0ZS5nZXRUaW1lKCkgPCB0aGlzLm1pbkRhdGUuZ2V0VGltZSgpKSB7XG4gICAgICAgIHRoaXMubWF4RGF0ZSA9IG5ldyBEYXRlKHRoaXMubWluRGF0ZSk7XG4gICAgICB9XG4gICAgfSxcbiAgICBoYW5kbGVNaW5UaW1lQ2xvc2UoKSB7XG4gICAgICB0aGlzLm1pblRpbWVQaWNrZXJWaXNpYmxlID0gZmFsc2U7XG4gICAgfSxcbiAgICBoYW5kbGVNYXhUaW1lUGljayh2YWx1ZSwgdmlzaWJsZSwgZmlyc3QpIHtcbiAgICAgIGlmICh0aGlzLm1heERhdGUgJiYgdmFsdWUpIHtcbiAgICAgICAgdGhpcy5tYXhEYXRlID0gT2JqZWN0KGRhdGVfdXRpbF9bXCJtb2RpZnlUaW1lXCJdKSh0aGlzLm1heERhdGUsIHZhbHVlLmdldEhvdXJzKCksIHZhbHVlLmdldE1pbnV0ZXMoKSwgdmFsdWUuZ2V0U2Vjb25kcygpKTtcbiAgICAgIH1cbiAgICAgIGlmICghZmlyc3QpIHtcbiAgICAgICAgdGhpcy5tYXhUaW1lUGlja2VyVmlzaWJsZSA9IHZpc2libGU7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5tYXhEYXRlICYmIHRoaXMubWluRGF0ZSAmJiB0aGlzLm1pbkRhdGUuZ2V0VGltZSgpID4gdGhpcy5tYXhEYXRlLmdldFRpbWUoKSkge1xuICAgICAgICB0aGlzLm1pbkRhdGUgPSBuZXcgRGF0ZSh0aGlzLm1heERhdGUpO1xuICAgICAgfVxuICAgIH0sXG4gICAgaGFuZGxlTWF4VGltZUNsb3NlKCkge1xuICAgICAgdGhpcy5tYXhUaW1lUGlja2VyVmlzaWJsZSA9IGZhbHNlO1xuICAgIH0sXG4gICAgLy8gbGVmdFByZXYqLCByaWdodE5leHQqIG5lZWQgdG8gdGFrZSBjYXJlIG9mIGB1bmxpbmtQYW5lbHNgXG4gICAgbGVmdFByZXZZZWFyKCkge1xuICAgICAgdGhpcy5sZWZ0RGF0ZSA9IE9iamVjdChkYXRlX3V0aWxfW1wicHJldlllYXJcIl0pKHRoaXMubGVmdERhdGUpO1xuICAgICAgaWYgKCF0aGlzLnVubGlua1BhbmVscykge1xuICAgICAgICB0aGlzLnJpZ2h0RGF0ZSA9IE9iamVjdChkYXRlX3V0aWxfW1wibmV4dE1vbnRoXCJdKSh0aGlzLmxlZnREYXRlKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGxlZnRQcmV2TW9udGgoKSB7XG4gICAgICB0aGlzLmxlZnREYXRlID0gT2JqZWN0KGRhdGVfdXRpbF9bXCJwcmV2TW9udGhcIl0pKHRoaXMubGVmdERhdGUpO1xuICAgICAgaWYgKCF0aGlzLnVubGlua1BhbmVscykge1xuICAgICAgICB0aGlzLnJpZ2h0RGF0ZSA9IE9iamVjdChkYXRlX3V0aWxfW1wibmV4dE1vbnRoXCJdKSh0aGlzLmxlZnREYXRlKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIHJpZ2h0TmV4dFllYXIoKSB7XG4gICAgICBpZiAoIXRoaXMudW5saW5rUGFuZWxzKSB7XG4gICAgICAgIHRoaXMubGVmdERhdGUgPSBPYmplY3QoZGF0ZV91dGlsX1tcIm5leHRZZWFyXCJdKSh0aGlzLmxlZnREYXRlKTtcbiAgICAgICAgdGhpcy5yaWdodERhdGUgPSBPYmplY3QoZGF0ZV91dGlsX1tcIm5leHRNb250aFwiXSkodGhpcy5sZWZ0RGF0ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnJpZ2h0RGF0ZSA9IE9iamVjdChkYXRlX3V0aWxfW1wibmV4dFllYXJcIl0pKHRoaXMucmlnaHREYXRlKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIHJpZ2h0TmV4dE1vbnRoKCkge1xuICAgICAgaWYgKCF0aGlzLnVubGlua1BhbmVscykge1xuICAgICAgICB0aGlzLmxlZnREYXRlID0gT2JqZWN0KGRhdGVfdXRpbF9bXCJuZXh0TW9udGhcIl0pKHRoaXMubGVmdERhdGUpO1xuICAgICAgICB0aGlzLnJpZ2h0RGF0ZSA9IE9iamVjdChkYXRlX3V0aWxfW1wibmV4dE1vbnRoXCJdKSh0aGlzLmxlZnREYXRlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMucmlnaHREYXRlID0gT2JqZWN0KGRhdGVfdXRpbF9bXCJuZXh0TW9udGhcIl0pKHRoaXMucmlnaHREYXRlKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIC8vIGxlZnROZXh0KiwgcmlnaHRQcmV2KiBhcmUgY2FsbGVkIHdoZW4gYHVubGlua1BhbmVsc2AgaXMgdHJ1ZVxuICAgIGxlZnROZXh0WWVhcigpIHtcbiAgICAgIHRoaXMubGVmdERhdGUgPSBPYmplY3QoZGF0ZV91dGlsX1tcIm5leHRZZWFyXCJdKSh0aGlzLmxlZnREYXRlKTtcbiAgICB9LFxuICAgIGxlZnROZXh0TW9udGgoKSB7XG4gICAgICB0aGlzLmxlZnREYXRlID0gT2JqZWN0KGRhdGVfdXRpbF9bXCJuZXh0TW9udGhcIl0pKHRoaXMubGVmdERhdGUpO1xuICAgIH0sXG4gICAgcmlnaHRQcmV2WWVhcigpIHtcbiAgICAgIHRoaXMucmlnaHREYXRlID0gT2JqZWN0KGRhdGVfdXRpbF9bXCJwcmV2WWVhclwiXSkodGhpcy5yaWdodERhdGUpO1xuICAgIH0sXG4gICAgcmlnaHRQcmV2TW9udGgoKSB7XG4gICAgICB0aGlzLnJpZ2h0RGF0ZSA9IE9iamVjdChkYXRlX3V0aWxfW1wicHJldk1vbnRoXCJdKSh0aGlzLnJpZ2h0RGF0ZSk7XG4gICAgfSxcbiAgICBoYW5kbGVDb25maXJtKHZpc2libGUpIHtcbiAgICAgIGlmICh2aXNpYmxlID09PSB2b2lkIDApIHtcbiAgICAgICAgdmlzaWJsZSA9IGZhbHNlO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMuaXNWYWxpZFZhbHVlKFt0aGlzLm1pbkRhdGUsIHRoaXMubWF4RGF0ZV0pKSB7XG4gICAgICAgIHRoaXMuJGVtaXQoJ3BpY2snLCBbdGhpcy5taW5EYXRlLCB0aGlzLm1heERhdGVdLCB2aXNpYmxlKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGlzVmFsaWRWYWx1ZSh2YWx1ZSkge1xuICAgICAgcmV0dXJuIEFycmF5LmlzQXJyYXkodmFsdWUpICYmIHZhbHVlICYmIHZhbHVlWzBdICYmIHZhbHVlWzFdICYmIE9iamVjdChkYXRlX3V0aWxfW1wiaXNEYXRlXCJdKSh2YWx1ZVswXSkgJiYgT2JqZWN0KGRhdGVfdXRpbF9bXCJpc0RhdGVcIl0pKHZhbHVlWzFdKSAmJiB2YWx1ZVswXS5nZXRUaW1lKCkgPD0gdmFsdWVbMV0uZ2V0VGltZSgpICYmICh0eXBlb2YgdGhpcy5kaXNhYmxlZERhdGUgPT09ICdmdW5jdGlvbicgPyAhdGhpcy5kaXNhYmxlZERhdGUodmFsdWVbMF0pICYmICF0aGlzLmRpc2FibGVkRGF0ZSh2YWx1ZVsxXSkgOiB0cnVlKTtcbiAgICB9LFxuICAgIHJlc2V0VmlldygpIHtcbiAgICAgIC8vIE5PVEU6IHRoaXMgaXMgYSBoYWNrIHRvIHJlc2V0IHttaW4sIG1heH1EYXRlIG9uIHBpY2tlciBvcGVuLlxuICAgICAgLy8gVE9ETzogY29ycmVjdCB3YXkgb2YgZG9pbmcgc28gaXMgdG8gcmVmYWN0b3Ige21pbiwgbWF4fURhdGUgdG8gYmUgZGVwZW5kZW50IG9uIHZhbHVlIGFuZCBpbnRlcm5hbCBzZWxlY3Rpb24gc3RhdGVcbiAgICAgIC8vICAgICAgIGFuIGFsdGVybmF0aXZlIHdvdWxkIGJlIHJlc2V0VmlldyB3aGVuZXZlciBwaWNrZXIgYmVjb21lcyB2aXNpYmxlLCBzaG91bGQgYWxzbyBpbnZlc3RpZ2F0ZSBkYXRlLXBhbmVsJ3MgcmVzZXRWaWV3XG4gICAgICBpZiAodGhpcy5taW5EYXRlICYmIHRoaXMubWF4RGF0ZSA9PSBudWxsKSB0aGlzLnJhbmdlU3RhdGUuc2VsZWN0aW5nID0gZmFsc2U7XG4gICAgICB0aGlzLm1pbkRhdGUgPSB0aGlzLnZhbHVlICYmIE9iamVjdChkYXRlX3V0aWxfW1wiaXNEYXRlXCJdKSh0aGlzLnZhbHVlWzBdKSA/IG5ldyBEYXRlKHRoaXMudmFsdWVbMF0pIDogbnVsbDtcbiAgICAgIHRoaXMubWF4RGF0ZSA9IHRoaXMudmFsdWUgJiYgT2JqZWN0KGRhdGVfdXRpbF9bXCJpc0RhdGVcIl0pKHRoaXMudmFsdWVbMF0pID8gbmV3IERhdGUodGhpcy52YWx1ZVsxXSkgOiBudWxsO1xuICAgIH1cbiAgfSxcbiAgY29tcG9uZW50czoge1xuICAgIFRpbWVQaWNrZXI6IHBhbmVsX3RpbWVbXCJhXCIgLyogZGVmYXVsdCAqL10sXG4gICAgRGF0ZVRhYmxlOiBkYXRlX3RhYmxlLFxuICAgIEVsSW5wdXQ6IGV4dGVybmFsX2lucHV0X2RlZmF1bHQuYSxcbiAgICBFbEJ1dHRvbjogZXh0ZXJuYWxfYnV0dG9uX2RlZmF1bHQuYVxuICB9XG59KTtcbi8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vcGFja2FnZXMvZGF0ZS1waWNrZXIvc3JjL3BhbmVsL2RhdGUtcmFuZ2UudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzXG4gLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyB2YXIgcGFuZWxfZGF0ZV9yYW5nZXZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzID0gKGRhdGVfcmFuZ2V2dWVfdHlwZV9zY3JpcHRfbGFuZ19qcyk7IFxuLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9wYWNrYWdlcy9kYXRlLXBpY2tlci9zcmMvcGFuZWwvZGF0ZS1yYW5nZS52dWVcblxuXG5cblxuXG4vKiBub3JtYWxpemUgY29tcG9uZW50ICovXG5cbnZhciBkYXRlX3JhbmdlX2NvbXBvbmVudCA9IE9iamVjdChjb21wb25lbnROb3JtYWxpemVyW1wiYVwiIC8qIGRlZmF1bHQgKi9dKShcbiAgcGFuZWxfZGF0ZV9yYW5nZXZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzLFxuICBkYXRlX3JhbmdldnVlX3R5cGVfdGVtcGxhdGVfaWRfMjVmYzk2N2NfcmVuZGVyLFxuICBkYXRlX3JhbmdldnVlX3R5cGVfdGVtcGxhdGVfaWRfMjVmYzk2N2Nfc3RhdGljUmVuZGVyRm5zLFxuICBmYWxzZSxcbiAgbnVsbCxcbiAgbnVsbCxcbiAgbnVsbFxuICBcbilcblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyB2YXIgZGF0ZV9yYW5nZSA9IChkYXRlX3JhbmdlX2NvbXBvbmVudC5leHBvcnRzKTtcbi8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IEM6L1VzZXJzL1R5bGVyVHJvdHRlci9yZXBvcy9Db2duaXRvIEZvcm1zL0NvZ25pdG8uV2ViLkNsaWVudC9ub2RlX21vZHVsZXMvLnBucG0vdnVlLWxvYWRlckAxNS4xMS4xX2Nzcy1sb2FkZXJANS4yLjdfcHJldHRpZXJAMS4xOC4yX3Z1ZS10ZW1wbGF0ZS1jb21waWxlckAyLjcuMTVfd2VicGFja0A0LjQ2LjAvbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2xvYWRlcnMvdGVtcGxhdGVMb2FkZXIuanM/P3JlZi0tNSFDOi9Vc2Vycy9UeWxlclRyb3R0ZXIvcmVwb3MvQ29nbml0byBGb3Jtcy9Db2duaXRvLldlYi5DbGllbnQvbm9kZV9tb2R1bGVzLy5wbnBtL3Z1ZS1sb2FkZXJAMTUuMTEuMV9jc3MtbG9hZGVyQDUuMi43X3ByZXR0aWVyQDEuMTguMl92dWUtdGVtcGxhdGUtY29tcGlsZXJAMi43LjE1X3dlYnBhY2tANC40Ni4wL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYj8/dnVlLWxvYWRlci1vcHRpb25zIS4vcGFja2FnZXMvZGF0ZS1waWNrZXIvc3JjL3BhbmVsL21vbnRoLXJhbmdlLnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD03MDRkNmI0YlxudmFyIG1vbnRoX3JhbmdldnVlX3R5cGVfdGVtcGxhdGVfaWRfNzA0ZDZiNGJfcmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuICB2YXIgX3ZtID0gdGhpcyxcbiAgICBfYyA9IF92bS5fc2VsZi5fY1xuICByZXR1cm4gX2MoXG4gICAgXCJ0cmFuc2l0aW9uXCIsXG4gICAge1xuICAgICAgYXR0cnM6IHsgbmFtZTogXCJlbC16b29tLWluLXRvcFwiIH0sXG4gICAgICBvbjoge1xuICAgICAgICBcImFmdGVyLWxlYXZlXCI6IGZ1bmN0aW9uKCRldmVudCkge1xuICAgICAgICAgIHJldHVybiBfdm0uJGVtaXQoXCJkb2Rlc3Ryb3lcIilcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgW1xuICAgICAgX2MoXG4gICAgICAgIFwiZGl2XCIsXG4gICAgICAgIHtcbiAgICAgICAgICBkaXJlY3RpdmVzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIG5hbWU6IFwic2hvd1wiLFxuICAgICAgICAgICAgICByYXdOYW1lOiBcInYtc2hvd1wiLFxuICAgICAgICAgICAgICB2YWx1ZTogX3ZtLnZpc2libGUsXG4gICAgICAgICAgICAgIGV4cHJlc3Npb246IFwidmlzaWJsZVwiXG4gICAgICAgICAgICB9XG4gICAgICAgICAgXSxcbiAgICAgICAgICBzdGF0aWNDbGFzczogXCJlbC1waWNrZXItcGFuZWwgZWwtZGF0ZS1yYW5nZS1waWNrZXIgZWwtcG9wcGVyXCIsXG4gICAgICAgICAgY2xhc3M6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgXCJoYXMtc2lkZWJhclwiOiBfdm0uJHNsb3RzLnNpZGViYXIgfHwgX3ZtLnNob3J0Y3V0c1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF92bS5wb3BwZXJDbGFzc1xuICAgICAgICAgIF1cbiAgICAgICAgfSxcbiAgICAgICAgW1xuICAgICAgICAgIF9jKFxuICAgICAgICAgICAgXCJkaXZcIixcbiAgICAgICAgICAgIHsgc3RhdGljQ2xhc3M6IFwiZWwtcGlja2VyLXBhbmVsX19ib2R5LXdyYXBwZXJcIiB9LFxuICAgICAgICAgICAgW1xuICAgICAgICAgICAgICBfdm0uX3QoXCJzaWRlYmFyXCIpLFxuICAgICAgICAgICAgICBfdm0uc2hvcnRjdXRzXG4gICAgICAgICAgICAgICAgPyBfYyhcbiAgICAgICAgICAgICAgICAgICAgXCJkaXZcIixcbiAgICAgICAgICAgICAgICAgICAgeyBzdGF0aWNDbGFzczogXCJlbC1waWNrZXItcGFuZWxfX3NpZGViYXJcIiB9LFxuICAgICAgICAgICAgICAgICAgICBfdm0uX2woX3ZtLnNob3J0Y3V0cywgZnVuY3Rpb24oc2hvcnRjdXQsIGtleSkge1xuICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfYyhcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiYnV0dG9uXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGtleToga2V5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0aWNDbGFzczogXCJlbC1waWNrZXItcGFuZWxfX3Nob3J0Y3V0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJzOiB7IHR5cGU6IFwiYnV0dG9uXCIgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgb246IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oJGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3ZtLmhhbmRsZVNob3J0Y3V0Q2xpY2soc2hvcnRjdXQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgW192bS5fdihfdm0uX3Moc2hvcnRjdXQudGV4dCkpXVxuICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgIDBcbiAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICA6IF92bS5fZSgpLFxuICAgICAgICAgICAgICBfYyhcImRpdlwiLCB7IHN0YXRpY0NsYXNzOiBcImVsLXBpY2tlci1wYW5lbF9fYm9keVwiIH0sIFtcbiAgICAgICAgICAgICAgICBfYyhcbiAgICAgICAgICAgICAgICAgIFwiZGl2XCIsXG4gICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXRpY0NsYXNzOlxuICAgICAgICAgICAgICAgICAgICAgIFwiZWwtcGlja2VyLXBhbmVsX19jb250ZW50IGVsLWRhdGUtcmFuZ2UtcGlja2VyX19jb250ZW50IGlzLWxlZnRcIlxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICAgICAgX2MoXCJkaXZcIiwgeyBzdGF0aWNDbGFzczogXCJlbC1kYXRlLXJhbmdlLXBpY2tlcl9faGVhZGVyXCIgfSwgW1xuICAgICAgICAgICAgICAgICAgICAgIF9jKFwiYnV0dG9uXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRpY0NsYXNzOlxuICAgICAgICAgICAgICAgICAgICAgICAgICBcImVsLXBpY2tlci1wYW5lbF9faWNvbi1idG4gZWwtaWNvbi1kLWFycm93LWxlZnRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJzOiB7IHR5cGU6IFwiYnV0dG9uXCIgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uOiB7IGNsaWNrOiBfdm0ubGVmdFByZXZZZWFyIH1cbiAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICBfdm0udW5saW5rUGFuZWxzXG4gICAgICAgICAgICAgICAgICAgICAgICA/IF9jKFwiYnV0dG9uXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0aWNDbGFzczpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiZWwtcGlja2VyLXBhbmVsX19pY29uLWJ0biBlbC1pY29uLWQtYXJyb3ctcmlnaHRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzczogeyBcImlzLWRpc2FibGVkXCI6ICFfdm0uZW5hYmxlWWVhckFycm93IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0cnM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiYnV0dG9uXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZDogIV92bS5lbmFibGVZZWFyQXJyb3dcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uOiB7IGNsaWNrOiBfdm0ubGVmdE5leHRZZWFyIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIDogX3ZtLl9lKCksXG4gICAgICAgICAgICAgICAgICAgICAgX2MoXCJkaXZcIiwgW192bS5fdihfdm0uX3MoX3ZtLmxlZnRMYWJlbCkpXSlcbiAgICAgICAgICAgICAgICAgICAgXSksXG4gICAgICAgICAgICAgICAgICAgIF9jKFwibW9udGgtdGFibGVcIiwge1xuICAgICAgICAgICAgICAgICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBcInNlbGVjdGlvbi1tb2RlXCI6IFwicmFuZ2VcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGU6IF92bS5sZWZ0RGF0ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiZGVmYXVsdC12YWx1ZVwiOiBfdm0uZGVmYXVsdFZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJtaW4tZGF0ZVwiOiBfdm0ubWluRGF0ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwibWF4LWRhdGVcIjogX3ZtLm1heERhdGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBcInJhbmdlLXN0YXRlXCI6IF92bS5yYW5nZVN0YXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJkaXNhYmxlZC1kYXRlXCI6IF92bS5kaXNhYmxlZERhdGVcbiAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgIG9uOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjaGFuZ2VyYW5nZTogX3ZtLmhhbmRsZUNoYW5nZVJhbmdlLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGljazogX3ZtLmhhbmRsZVJhbmdlUGlja1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAxXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICBfYyhcbiAgICAgICAgICAgICAgICAgIFwiZGl2XCIsXG4gICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXRpY0NsYXNzOlxuICAgICAgICAgICAgICAgICAgICAgIFwiZWwtcGlja2VyLXBhbmVsX19jb250ZW50IGVsLWRhdGUtcmFuZ2UtcGlja2VyX19jb250ZW50IGlzLXJpZ2h0XCJcbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgICAgIF9jKFwiZGl2XCIsIHsgc3RhdGljQ2xhc3M6IFwiZWwtZGF0ZS1yYW5nZS1waWNrZXJfX2hlYWRlclwiIH0sIFtcbiAgICAgICAgICAgICAgICAgICAgICBfdm0udW5saW5rUGFuZWxzXG4gICAgICAgICAgICAgICAgICAgICAgICA/IF9jKFwiYnV0dG9uXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0aWNDbGFzczpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiZWwtcGlja2VyLXBhbmVsX19pY29uLWJ0biBlbC1pY29uLWQtYXJyb3ctbGVmdFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzOiB7IFwiaXMtZGlzYWJsZWRcIjogIV92bS5lbmFibGVZZWFyQXJyb3cgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdHRyczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJidXR0b25cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkOiAhX3ZtLmVuYWJsZVllYXJBcnJvd1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb246IHsgY2xpY2s6IF92bS5yaWdodFByZXZZZWFyIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIDogX3ZtLl9lKCksXG4gICAgICAgICAgICAgICAgICAgICAgX2MoXCJidXR0b25cIiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGljQ2xhc3M6XG4gICAgICAgICAgICAgICAgICAgICAgICAgIFwiZWwtcGlja2VyLXBhbmVsX19pY29uLWJ0biBlbC1pY29uLWQtYXJyb3ctcmlnaHRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJzOiB7IHR5cGU6IFwiYnV0dG9uXCIgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uOiB7IGNsaWNrOiBfdm0ucmlnaHROZXh0WWVhciB9XG4gICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgX2MoXCJkaXZcIiwgW192bS5fdihfdm0uX3MoX3ZtLnJpZ2h0TGFiZWwpKV0pXG4gICAgICAgICAgICAgICAgICAgIF0pLFxuICAgICAgICAgICAgICAgICAgICBfYyhcIm1vbnRoLXRhYmxlXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgICBhdHRyczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgXCJzZWxlY3Rpb24tbW9kZVwiOiBcInJhbmdlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRlOiBfdm0ucmlnaHREYXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJkZWZhdWx0LXZhbHVlXCI6IF92bS5kZWZhdWx0VmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBcIm1pbi1kYXRlXCI6IF92bS5taW5EYXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJtYXgtZGF0ZVwiOiBfdm0ubWF4RGF0ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwicmFuZ2Utc3RhdGVcIjogX3ZtLnJhbmdlU3RhdGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBcImRpc2FibGVkLWRhdGVcIjogX3ZtLmRpc2FibGVkRGF0ZVxuICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgb246IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5nZXJhbmdlOiBfdm0uaGFuZGxlQ2hhbmdlUmFuZ2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBwaWNrOiBfdm0uaGFuZGxlUmFuZ2VQaWNrXG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgIDFcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgIF0pXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgMlxuICAgICAgICAgIClcbiAgICAgICAgXVxuICAgICAgKVxuICAgIF1cbiAgKVxufVxudmFyIG1vbnRoX3JhbmdldnVlX3R5cGVfdGVtcGxhdGVfaWRfNzA0ZDZiNGJfc3RhdGljUmVuZGVyRm5zID0gW11cbm1vbnRoX3JhbmdldnVlX3R5cGVfdGVtcGxhdGVfaWRfNzA0ZDZiNGJfcmVuZGVyLl93aXRoU3RyaXBwZWQgPSB0cnVlXG5cblxuLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9wYWNrYWdlcy9kYXRlLXBpY2tlci9zcmMvcGFuZWwvbW9udGgtcmFuZ2UudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPTcwNGQ2YjRiXG5cbi8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IEM6L1VzZXJzL1R5bGVyVHJvdHRlci9yZXBvcy9Db2duaXRvIEZvcm1zL0NvZ25pdG8uV2ViLkNsaWVudC9ub2RlX21vZHVsZXMvLnBucG0vYmFiZWwtbG9hZGVyQDguMy4wX0BiYWJlbCtjb3JlQDcuMjUuMl93ZWJwYWNrQDQuNDYuMC9ub2RlX21vZHVsZXMvYmFiZWwtbG9hZGVyL2xpYiFDOi9Vc2Vycy9UeWxlclRyb3R0ZXIvcmVwb3MvQ29nbml0byBGb3Jtcy9Db2duaXRvLldlYi5DbGllbnQvbm9kZV9tb2R1bGVzLy5wbnBtL3Z1ZS1sb2FkZXJAMTUuMTEuMV9jc3MtbG9hZGVyQDUuMi43X3ByZXR0aWVyQDEuMTguMl92dWUtdGVtcGxhdGUtY29tcGlsZXJAMi43LjE1X3dlYnBhY2tANC40Ni4wL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYj8/dnVlLWxvYWRlci1vcHRpb25zIS4vcGFja2FnZXMvZGF0ZS1waWNrZXIvc3JjL3BhbmVsL21vbnRoLXJhbmdlLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qc1xuXG5cblxuXG5cblxuY29uc3QgbW9udGhfcmFuZ2V2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc19jYWxjRGVmYXVsdFZhbHVlID0gZGVmYXVsdFZhbHVlID0+IHtcbiAgaWYgKEFycmF5LmlzQXJyYXkoZGVmYXVsdFZhbHVlKSkge1xuICAgIHJldHVybiBbbmV3IERhdGUoZGVmYXVsdFZhbHVlWzBdKSwgbmV3IERhdGUoZGVmYXVsdFZhbHVlWzFdKV07XG4gIH0gZWxzZSBpZiAoZGVmYXVsdFZhbHVlKSB7XG4gICAgcmV0dXJuIFtuZXcgRGF0ZShkZWZhdWx0VmFsdWUpLCBPYmplY3QoZGF0ZV91dGlsX1tcIm5leHRNb250aFwiXSkobmV3IERhdGUoZGVmYXVsdFZhbHVlKSldO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBbbmV3IERhdGUoKSwgT2JqZWN0KGRhdGVfdXRpbF9bXCJuZXh0TW9udGhcIl0pKG5ldyBEYXRlKCkpXTtcbiAgfVxufTtcbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gdmFyIG1vbnRoX3JhbmdldnVlX3R5cGVfc2NyaXB0X2xhbmdfanMgPSAoe1xuICBtaXhpbnM6IFtsb2NhbGVfZGVmYXVsdC5hXSxcbiAgZGlyZWN0aXZlczoge1xuICAgIENsaWNrb3V0c2lkZTogY2xpY2tvdXRzaWRlX2RlZmF1bHQuYVxuICB9LFxuICBjb21wdXRlZDoge1xuICAgIGJ0bkRpc2FibGVkKCkge1xuICAgICAgcmV0dXJuICEodGhpcy5taW5EYXRlICYmIHRoaXMubWF4RGF0ZSAmJiAhdGhpcy5zZWxlY3RpbmcgJiYgdGhpcy5pc1ZhbGlkVmFsdWUoW3RoaXMubWluRGF0ZSwgdGhpcy5tYXhEYXRlXSkpO1xuICAgIH0sXG4gICAgbGVmdExhYmVsKCkge1xuICAgICAgcmV0dXJuIHRoaXMubGVmdERhdGUuZ2V0RnVsbFllYXIoKSArICcgJyArIHRoaXMudCgnZWwuZGF0ZXBpY2tlci55ZWFyJyk7XG4gICAgfSxcbiAgICByaWdodExhYmVsKCkge1xuICAgICAgcmV0dXJuIHRoaXMucmlnaHREYXRlLmdldEZ1bGxZZWFyKCkgKyAnICcgKyB0aGlzLnQoJ2VsLmRhdGVwaWNrZXIueWVhcicpO1xuICAgIH0sXG4gICAgbGVmdFllYXIoKSB7XG4gICAgICByZXR1cm4gdGhpcy5sZWZ0RGF0ZS5nZXRGdWxsWWVhcigpO1xuICAgIH0sXG4gICAgcmlnaHRZZWFyKCkge1xuICAgICAgcmV0dXJuIHRoaXMucmlnaHREYXRlLmdldEZ1bGxZZWFyKCkgPT09IHRoaXMubGVmdERhdGUuZ2V0RnVsbFllYXIoKSA/IHRoaXMubGVmdERhdGUuZ2V0RnVsbFllYXIoKSArIDEgOiB0aGlzLnJpZ2h0RGF0ZS5nZXRGdWxsWWVhcigpO1xuICAgIH0sXG4gICAgZW5hYmxlWWVhckFycm93KCkge1xuICAgICAgcmV0dXJuIHRoaXMudW5saW5rUGFuZWxzICYmIHRoaXMucmlnaHRZZWFyID4gdGhpcy5sZWZ0WWVhciArIDE7XG4gICAgfVxuICB9LFxuICBkYXRhKCkge1xuICAgIHJldHVybiB7XG4gICAgICBwb3BwZXJDbGFzczogJycsXG4gICAgICB2YWx1ZTogW10sXG4gICAgICBkZWZhdWx0VmFsdWU6IG51bGwsXG4gICAgICBkZWZhdWx0VGltZTogbnVsbCxcbiAgICAgIG1pbkRhdGU6ICcnLFxuICAgICAgbWF4RGF0ZTogJycsXG4gICAgICBsZWZ0RGF0ZTogbmV3IERhdGUoKSxcbiAgICAgIHJpZ2h0RGF0ZTogT2JqZWN0KGRhdGVfdXRpbF9bXCJuZXh0WWVhclwiXSkobmV3IERhdGUoKSksXG4gICAgICByYW5nZVN0YXRlOiB7XG4gICAgICAgIGVuZERhdGU6IG51bGwsXG4gICAgICAgIHNlbGVjdGluZzogZmFsc2UsXG4gICAgICAgIHJvdzogbnVsbCxcbiAgICAgICAgY29sdW1uOiBudWxsXG4gICAgICB9LFxuICAgICAgc2hvcnRjdXRzOiAnJyxcbiAgICAgIHZpc2libGU6ICcnLFxuICAgICAgZGlzYWJsZWREYXRlOiAnJyxcbiAgICAgIGZvcm1hdDogJycsXG4gICAgICBhcnJvd0NvbnRyb2w6IGZhbHNlLFxuICAgICAgdW5saW5rUGFuZWxzOiBmYWxzZVxuICAgIH07XG4gIH0sXG4gIHdhdGNoOiB7XG4gICAgdmFsdWUobmV3VmFsKSB7XG4gICAgICBpZiAoIW5ld1ZhbCkge1xuICAgICAgICB0aGlzLm1pbkRhdGUgPSBudWxsO1xuICAgICAgICB0aGlzLm1heERhdGUgPSBudWxsO1xuICAgICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KG5ld1ZhbCkpIHtcbiAgICAgICAgdGhpcy5taW5EYXRlID0gT2JqZWN0KGRhdGVfdXRpbF9bXCJpc0RhdGVcIl0pKG5ld1ZhbFswXSkgPyBuZXcgRGF0ZShuZXdWYWxbMF0pIDogbnVsbDtcbiAgICAgICAgdGhpcy5tYXhEYXRlID0gT2JqZWN0KGRhdGVfdXRpbF9bXCJpc0RhdGVcIl0pKG5ld1ZhbFsxXSkgPyBuZXcgRGF0ZShuZXdWYWxbMV0pIDogbnVsbDtcbiAgICAgICAgaWYgKHRoaXMubWluRGF0ZSkge1xuICAgICAgICAgIHRoaXMubGVmdERhdGUgPSB0aGlzLm1pbkRhdGU7XG4gICAgICAgICAgaWYgKHRoaXMudW5saW5rUGFuZWxzICYmIHRoaXMubWF4RGF0ZSkge1xuICAgICAgICAgICAgY29uc3QgbWluRGF0ZVllYXIgPSB0aGlzLm1pbkRhdGUuZ2V0RnVsbFllYXIoKTtcbiAgICAgICAgICAgIGNvbnN0IG1heERhdGVZZWFyID0gdGhpcy5tYXhEYXRlLmdldEZ1bGxZZWFyKCk7XG4gICAgICAgICAgICB0aGlzLnJpZ2h0RGF0ZSA9IG1pbkRhdGVZZWFyID09PSBtYXhEYXRlWWVhciA/IE9iamVjdChkYXRlX3V0aWxfW1wibmV4dFllYXJcIl0pKHRoaXMubWF4RGF0ZSkgOiB0aGlzLm1heERhdGU7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucmlnaHREYXRlID0gT2JqZWN0KGRhdGVfdXRpbF9bXCJuZXh0WWVhclwiXSkodGhpcy5sZWZ0RGF0ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMubGVmdERhdGUgPSBtb250aF9yYW5nZXZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzX2NhbGNEZWZhdWx0VmFsdWUodGhpcy5kZWZhdWx0VmFsdWUpWzBdO1xuICAgICAgICAgIHRoaXMucmlnaHREYXRlID0gT2JqZWN0KGRhdGVfdXRpbF9bXCJuZXh0WWVhclwiXSkodGhpcy5sZWZ0RGF0ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIGRlZmF1bHRWYWx1ZSh2YWwpIHtcbiAgICAgIGlmICghQXJyYXkuaXNBcnJheSh0aGlzLnZhbHVlKSkge1xuICAgICAgICBjb25zdCBbbGVmdCwgcmlnaHRdID0gbW9udGhfcmFuZ2V2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc19jYWxjRGVmYXVsdFZhbHVlKHZhbCk7XG4gICAgICAgIHRoaXMubGVmdERhdGUgPSBsZWZ0O1xuICAgICAgICB0aGlzLnJpZ2h0RGF0ZSA9IHZhbCAmJiB2YWxbMV0gJiYgbGVmdC5nZXRGdWxsWWVhcigpICE9PSByaWdodC5nZXRGdWxsWWVhcigpICYmIHRoaXMudW5saW5rUGFuZWxzID8gcmlnaHQgOiBPYmplY3QoZGF0ZV91dGlsX1tcIm5leHRZZWFyXCJdKSh0aGlzLmxlZnREYXRlKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sXG4gIG1ldGhvZHM6IHtcbiAgICBoYW5kbGVDbGVhcigpIHtcbiAgICAgIHRoaXMubWluRGF0ZSA9IG51bGw7XG4gICAgICB0aGlzLm1heERhdGUgPSBudWxsO1xuICAgICAgdGhpcy5sZWZ0RGF0ZSA9IG1vbnRoX3JhbmdldnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfY2FsY0RlZmF1bHRWYWx1ZSh0aGlzLmRlZmF1bHRWYWx1ZSlbMF07XG4gICAgICB0aGlzLnJpZ2h0RGF0ZSA9IE9iamVjdChkYXRlX3V0aWxfW1wibmV4dFllYXJcIl0pKHRoaXMubGVmdERhdGUpO1xuICAgICAgdGhpcy4kZW1pdCgncGljaycsIG51bGwpO1xuICAgIH0sXG4gICAgaGFuZGxlQ2hhbmdlUmFuZ2UodmFsKSB7XG4gICAgICB0aGlzLm1pbkRhdGUgPSB2YWwubWluRGF0ZTtcbiAgICAgIHRoaXMubWF4RGF0ZSA9IHZhbC5tYXhEYXRlO1xuICAgICAgdGhpcy5yYW5nZVN0YXRlID0gdmFsLnJhbmdlU3RhdGU7XG4gICAgfSxcbiAgICBoYW5kbGVSYW5nZVBpY2sodmFsLCBjbG9zZSkge1xuICAgICAgaWYgKGNsb3NlID09PSB2b2lkIDApIHtcbiAgICAgICAgY2xvc2UgPSB0cnVlO1xuICAgICAgfVxuICAgICAgY29uc3QgZGVmYXVsdFRpbWUgPSB0aGlzLmRlZmF1bHRUaW1lIHx8IFtdO1xuICAgICAgY29uc3QgbWluRGF0ZSA9IE9iamVjdChkYXRlX3V0aWxfW1wibW9kaWZ5V2l0aFRpbWVTdHJpbmdcIl0pKHZhbC5taW5EYXRlLCBkZWZhdWx0VGltZVswXSk7XG4gICAgICBjb25zdCBtYXhEYXRlID0gT2JqZWN0KGRhdGVfdXRpbF9bXCJtb2RpZnlXaXRoVGltZVN0cmluZ1wiXSkodmFsLm1heERhdGUsIGRlZmF1bHRUaW1lWzFdKTtcbiAgICAgIGlmICh0aGlzLm1heERhdGUgPT09IG1heERhdGUgJiYgdGhpcy5taW5EYXRlID09PSBtaW5EYXRlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRoaXMub25QaWNrICYmIHRoaXMub25QaWNrKHZhbCk7XG4gICAgICB0aGlzLm1heERhdGUgPSBtYXhEYXRlO1xuICAgICAgdGhpcy5taW5EYXRlID0gbWluRGF0ZTtcblxuICAgICAgLy8gd29ya2Fyb3VuZCBmb3IgaHR0cHM6Ly9naXRodWIuY29tL0VsZW1lRkUvZWxlbWVudC9pc3N1ZXMvNzUzOSwgc2hvdWxkIHJlbW92ZSB0aGlzIGJsb2NrIHdoZW4gd2UgZG9uJ3QgaGF2ZSB0byBjYXJlIGFib3V0IENocm9taXVtIDU1IC0gNTdcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICB0aGlzLm1heERhdGUgPSBtYXhEYXRlO1xuICAgICAgICB0aGlzLm1pbkRhdGUgPSBtaW5EYXRlO1xuICAgICAgfSwgMTApO1xuICAgICAgaWYgKCFjbG9zZSkgcmV0dXJuO1xuICAgICAgdGhpcy5oYW5kbGVDb25maXJtKCk7XG4gICAgfSxcbiAgICBoYW5kbGVTaG9ydGN1dENsaWNrKHNob3J0Y3V0KSB7XG4gICAgICBpZiAoc2hvcnRjdXQub25DbGljaykge1xuICAgICAgICBzaG9ydGN1dC5vbkNsaWNrKHRoaXMpO1xuICAgICAgfVxuICAgIH0sXG4gICAgLy8gbGVmdFByZXYqLCByaWdodE5leHQqIG5lZWQgdG8gdGFrZSBjYXJlIG9mIGB1bmxpbmtQYW5lbHNgXG4gICAgbGVmdFByZXZZZWFyKCkge1xuICAgICAgdGhpcy5sZWZ0RGF0ZSA9IE9iamVjdChkYXRlX3V0aWxfW1wicHJldlllYXJcIl0pKHRoaXMubGVmdERhdGUpO1xuICAgICAgaWYgKCF0aGlzLnVubGlua1BhbmVscykge1xuICAgICAgICB0aGlzLnJpZ2h0RGF0ZSA9IE9iamVjdChkYXRlX3V0aWxfW1wicHJldlllYXJcIl0pKHRoaXMucmlnaHREYXRlKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIHJpZ2h0TmV4dFllYXIoKSB7XG4gICAgICBpZiAoIXRoaXMudW5saW5rUGFuZWxzKSB7XG4gICAgICAgIHRoaXMubGVmdERhdGUgPSBPYmplY3QoZGF0ZV91dGlsX1tcIm5leHRZZWFyXCJdKSh0aGlzLmxlZnREYXRlKTtcbiAgICAgIH1cbiAgICAgIHRoaXMucmlnaHREYXRlID0gT2JqZWN0KGRhdGVfdXRpbF9bXCJuZXh0WWVhclwiXSkodGhpcy5yaWdodERhdGUpO1xuICAgIH0sXG4gICAgLy8gbGVmdE5leHQqLCByaWdodFByZXYqIGFyZSBjYWxsZWQgd2hlbiBgdW5saW5rUGFuZWxzYCBpcyB0cnVlXG4gICAgbGVmdE5leHRZZWFyKCkge1xuICAgICAgdGhpcy5sZWZ0RGF0ZSA9IE9iamVjdChkYXRlX3V0aWxfW1wibmV4dFllYXJcIl0pKHRoaXMubGVmdERhdGUpO1xuICAgIH0sXG4gICAgcmlnaHRQcmV2WWVhcigpIHtcbiAgICAgIHRoaXMucmlnaHREYXRlID0gT2JqZWN0KGRhdGVfdXRpbF9bXCJwcmV2WWVhclwiXSkodGhpcy5yaWdodERhdGUpO1xuICAgIH0sXG4gICAgaGFuZGxlQ29uZmlybSh2aXNpYmxlKSB7XG4gICAgICBpZiAodmlzaWJsZSA9PT0gdm9pZCAwKSB7XG4gICAgICAgIHZpc2libGUgPSBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLmlzVmFsaWRWYWx1ZShbdGhpcy5taW5EYXRlLCB0aGlzLm1heERhdGVdKSkge1xuICAgICAgICB0aGlzLiRlbWl0KCdwaWNrJywgW3RoaXMubWluRGF0ZSwgdGhpcy5tYXhEYXRlXSwgdmlzaWJsZSk7XG4gICAgICB9XG4gICAgfSxcbiAgICBpc1ZhbGlkVmFsdWUodmFsdWUpIHtcbiAgICAgIHJldHVybiBBcnJheS5pc0FycmF5KHZhbHVlKSAmJiB2YWx1ZSAmJiB2YWx1ZVswXSAmJiB2YWx1ZVsxXSAmJiBPYmplY3QoZGF0ZV91dGlsX1tcImlzRGF0ZVwiXSkodmFsdWVbMF0pICYmIE9iamVjdChkYXRlX3V0aWxfW1wiaXNEYXRlXCJdKSh2YWx1ZVsxXSkgJiYgdmFsdWVbMF0uZ2V0VGltZSgpIDw9IHZhbHVlWzFdLmdldFRpbWUoKSAmJiAodHlwZW9mIHRoaXMuZGlzYWJsZWREYXRlID09PSAnZnVuY3Rpb24nID8gIXRoaXMuZGlzYWJsZWREYXRlKHZhbHVlWzBdKSAmJiAhdGhpcy5kaXNhYmxlZERhdGUodmFsdWVbMV0pIDogdHJ1ZSk7XG4gICAgfSxcbiAgICByZXNldFZpZXcoKSB7XG4gICAgICAvLyBOT1RFOiB0aGlzIGlzIGEgaGFjayB0byByZXNldCB7bWluLCBtYXh9RGF0ZSBvbiBwaWNrZXIgb3Blbi5cbiAgICAgIC8vIFRPRE86IGNvcnJlY3Qgd2F5IG9mIGRvaW5nIHNvIGlzIHRvIHJlZmFjdG9yIHttaW4sIG1heH1EYXRlIHRvIGJlIGRlcGVuZGVudCBvbiB2YWx1ZSBhbmQgaW50ZXJuYWwgc2VsZWN0aW9uIHN0YXRlXG4gICAgICAvLyAgICAgICBhbiBhbHRlcm5hdGl2ZSB3b3VsZCBiZSByZXNldFZpZXcgd2hlbmV2ZXIgcGlja2VyIGJlY29tZXMgdmlzaWJsZSwgc2hvdWxkIGFsc28gaW52ZXN0aWdhdGUgZGF0ZS1wYW5lbCdzIHJlc2V0Vmlld1xuICAgICAgdGhpcy5taW5EYXRlID0gdGhpcy52YWx1ZSAmJiBPYmplY3QoZGF0ZV91dGlsX1tcImlzRGF0ZVwiXSkodGhpcy52YWx1ZVswXSkgPyBuZXcgRGF0ZSh0aGlzLnZhbHVlWzBdKSA6IG51bGw7XG4gICAgICB0aGlzLm1heERhdGUgPSB0aGlzLnZhbHVlICYmIE9iamVjdChkYXRlX3V0aWxfW1wiaXNEYXRlXCJdKSh0aGlzLnZhbHVlWzBdKSA/IG5ldyBEYXRlKHRoaXMudmFsdWVbMV0pIDogbnVsbDtcbiAgICB9XG4gIH0sXG4gIGNvbXBvbmVudHM6IHtcbiAgICBNb250aFRhYmxlOiBtb250aF90YWJsZSxcbiAgICBFbElucHV0OiBleHRlcm5hbF9pbnB1dF9kZWZhdWx0LmEsXG4gICAgRWxCdXR0b246IGV4dGVybmFsX2J1dHRvbl9kZWZhdWx0LmFcbiAgfVxufSk7XG4vLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3BhY2thZ2VzL2RhdGUtcGlja2VyL3NyYy9wYW5lbC9tb250aC1yYW5nZS52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anNcbiAvKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIHZhciBwYW5lbF9tb250aF9yYW5nZXZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzID0gKG1vbnRoX3JhbmdldnVlX3R5cGVfc2NyaXB0X2xhbmdfanMpOyBcbi8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vcGFja2FnZXMvZGF0ZS1waWNrZXIvc3JjL3BhbmVsL21vbnRoLXJhbmdlLnZ1ZVxuXG5cblxuXG5cbi8qIG5vcm1hbGl6ZSBjb21wb25lbnQgKi9cblxudmFyIG1vbnRoX3JhbmdlX2NvbXBvbmVudCA9IE9iamVjdChjb21wb25lbnROb3JtYWxpemVyW1wiYVwiIC8qIGRlZmF1bHQgKi9dKShcbiAgcGFuZWxfbW9udGhfcmFuZ2V2dWVfdHlwZV9zY3JpcHRfbGFuZ19qcyxcbiAgbW9udGhfcmFuZ2V2dWVfdHlwZV90ZW1wbGF0ZV9pZF83MDRkNmI0Yl9yZW5kZXIsXG4gIG1vbnRoX3JhbmdldnVlX3R5cGVfdGVtcGxhdGVfaWRfNzA0ZDZiNGJfc3RhdGljUmVuZGVyRm5zLFxuICBmYWxzZSxcbiAgbnVsbCxcbiAgbnVsbCxcbiAgbnVsbFxuICBcbilcblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyB2YXIgbW9udGhfcmFuZ2UgPSAobW9udGhfcmFuZ2VfY29tcG9uZW50LmV4cG9ydHMpO1xuLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9wYWNrYWdlcy9kYXRlLXBpY2tlci9zcmMvcGlja2VyL2RhdGUtcGlja2VyLmpzXG5cblxuXG5cbmNvbnN0IGdldFBhbmVsID0gZnVuY3Rpb24gKHR5cGUpIHtcbiAgaWYgKHR5cGUgPT09ICdkYXRlcmFuZ2UnIHx8IHR5cGUgPT09ICdkYXRldGltZXJhbmdlJykge1xuICAgIHJldHVybiBkYXRlX3JhbmdlO1xuICB9IGVsc2UgaWYgKHR5cGUgPT09ICdtb250aHJhbmdlJykge1xuICAgIHJldHVybiBtb250aF9yYW5nZTtcbiAgfVxuICByZXR1cm4gcGFuZWxfZGF0ZTtcbn07XG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIHZhciBkYXRlX3BpY2tlciA9ICh7XG4gIG1peGluczogW3BpY2tlcltcImFcIiAvKiBkZWZhdWx0ICovXV0sXG4gIG5hbWU6ICdFbERhdGVQaWNrZXInLFxuICBwcm9wczoge1xuICAgIHR5cGU6IHtcbiAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgIGRlZmF1bHQ6ICdkYXRlJ1xuICAgIH0sXG4gICAgdGltZUFycm93Q29udHJvbDogQm9vbGVhblxuICB9LFxuICB3YXRjaDoge1xuICAgIHR5cGUodHlwZSkge1xuICAgICAgaWYgKHRoaXMucGlja2VyKSB7XG4gICAgICAgIHRoaXMudW5tb3VudFBpY2tlcigpO1xuICAgICAgICB0aGlzLnBhbmVsID0gZ2V0UGFuZWwodHlwZSk7XG4gICAgICAgIHRoaXMubW91bnRQaWNrZXIoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMucGFuZWwgPSBnZXRQYW5lbCh0eXBlKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sXG4gIGNyZWF0ZWQoKSB7XG4gICAgdGhpcy5wYW5lbCA9IGdldFBhbmVsKHRoaXMudHlwZSk7XG4gIH1cbn0pO1xuLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9wYWNrYWdlcy9kYXRlLXBpY2tlci9pbmRleC5qc1xuXG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG5kYXRlX3BpY2tlci5pbnN0YWxsID0gZnVuY3Rpb24gaW5zdGFsbChWdWUpIHtcbiAgVnVlLmNvbXBvbmVudChkYXRlX3BpY2tlci5uYW1lLCBkYXRlX3BpY2tlcik7XG59O1xuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyB2YXIgcGFja2FnZXNfZGF0ZV9waWNrZXIgPSBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9IChkYXRlX3BpY2tlcik7XG5cbi8qKiovIH0pXG4vKioqKioqLyBdKTsiLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMudmFsaWRhdGVSYW5nZUluT25lTW9udGggPSBleHBvcnRzLnRvRGF0ZSA9IGV4cG9ydHMudGltZVdpdGhpblJhbmdlID0gZXhwb3J0cy5yYW5nZSA9IGV4cG9ydHMucHJldlllYXIgPSBleHBvcnRzLnByZXZNb250aCA9IGV4cG9ydHMucHJldkRhdGUgPSBleHBvcnRzLnBhcnNlRGF0ZSA9IGV4cG9ydHMubmV4dFllYXIgPSBleHBvcnRzLm5leHRNb250aCA9IGV4cG9ydHMubmV4dERhdGUgPSBleHBvcnRzLm1vZGlmeVdpdGhUaW1lU3RyaW5nID0gZXhwb3J0cy5tb2RpZnlUaW1lID0gZXhwb3J0cy5tb2RpZnlEYXRlID0gZXhwb3J0cy5saW1pdFRpbWVSYW5nZSA9IGV4cG9ydHMuaXNEYXRlT2JqZWN0ID0gZXhwb3J0cy5pc0RhdGUgPSBleHBvcnRzLmdldFdlZWtOdW1iZXIgPSBleHBvcnRzLmdldFN0YXJ0RGF0ZU9mTW9udGggPSBleHBvcnRzLmdldFJhbmdlTWludXRlcyA9IGV4cG9ydHMuZ2V0UmFuZ2VIb3VycyA9IGV4cG9ydHMuZ2V0UHJldk1vbnRoTGFzdERheXMgPSBleHBvcnRzLmdldE1vbnRoRGF5cyA9IGV4cG9ydHMuZ2V0STE4blNldHRpbmdzID0gZXhwb3J0cy5nZXRGaXJzdERheU9mTW9udGggPSBleHBvcnRzLmdldERheUNvdW50T2ZZZWFyID0gZXhwb3J0cy5nZXREYXlDb3VudE9mTW9udGggPSBleHBvcnRzLmZvcm1hdERhdGUgPSBleHBvcnRzLmV4dHJhY3RUaW1lRm9ybWF0ID0gZXhwb3J0cy5leHRyYWN0RGF0ZUZvcm1hdCA9IGV4cG9ydHMuY2xlYXJUaW1lID0gZXhwb3J0cy5jbGVhck1pbGxpc2Vjb25kcyA9IGV4cG9ydHMuY2hhbmdlWWVhck1vbnRoQW5kQ2xhbXBEYXRlID0gdm9pZCAwO1xudmFyIF9kYXRlID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi4vLi4vbGliL3V0aWxzL2RhdGVcIikpO1xudmFyIF9sb2NhbGUgPSByZXF1aXJlKFwiLi4vLi4vbGliL2xvY2FsZVwiKTtcbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZSkgeyByZXR1cm4gZSAmJiBlLl9fZXNNb2R1bGUgPyBlIDogeyBkZWZhdWx0OiBlIH07IH1cbmNvbnN0IHdlZWtzID0gWydzdW4nLCAnbW9uJywgJ3R1ZScsICd3ZWQnLCAndGh1JywgJ2ZyaScsICdzYXQnXTtcbmNvbnN0IG1vbnRocyA9IFsnamFuJywgJ2ZlYicsICdtYXInLCAnYXByJywgJ21heScsICdqdW4nLCAnanVsJywgJ2F1ZycsICdzZXAnLCAnb2N0JywgJ25vdicsICdkZWMnXTtcbmNvbnN0IG5ld0FycmF5ID0gZnVuY3Rpb24gKHN0YXJ0LCBlbmQpIHtcbiAgbGV0IHJlc3VsdCA9IFtdO1xuICBmb3IgKGxldCBpID0gc3RhcnQ7IGkgPD0gZW5kOyBpKyspIHtcbiAgICByZXN1bHQucHVzaChpKTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufTtcbmNvbnN0IGdldEkxOG5TZXR0aW5ncyA9ICgpID0+IHtcbiAgcmV0dXJuIHtcbiAgICBkYXlOYW1lc1Nob3J0OiB3ZWVrcy5tYXAod2VlayA9PiAoMCwgX2xvY2FsZS50KShgZWwuZGF0ZXBpY2tlci53ZWVrcy4ke3dlZWt9YCkpLFxuICAgIGRheU5hbWVzOiB3ZWVrcy5tYXAod2VlayA9PiAoMCwgX2xvY2FsZS50KShgZWwuZGF0ZXBpY2tlci53ZWVrcy4ke3dlZWt9YCkpLFxuICAgIG1vbnRoTmFtZXNTaG9ydDogbW9udGhzLm1hcChtb250aCA9PiAoMCwgX2xvY2FsZS50KShgZWwuZGF0ZXBpY2tlci5tb250aHMuJHttb250aH1gKSksXG4gICAgbW9udGhOYW1lczogbW9udGhzLm1hcCgobW9udGgsIGluZGV4KSA9PiAoMCwgX2xvY2FsZS50KShgZWwuZGF0ZXBpY2tlci5tb250aCR7aW5kZXggKyAxfWApKSxcbiAgICBhbVBtOiBbJ2FtJywgJ3BtJ10ubWFwKGFtT3JQbSA9PiAoMCwgX2xvY2FsZS50KShgZWwuZGF0ZXBpY2tlci4ke2FtT3JQbX1gKSB8fCBhbU9yUG0pXG4gIH07XG59O1xuZXhwb3J0cy5nZXRJMThuU2V0dGluZ3MgPSBnZXRJMThuU2V0dGluZ3M7XG5jb25zdCB0b0RhdGUgPSBmdW5jdGlvbiAoZGF0ZSkge1xuICByZXR1cm4gaXNEYXRlKGRhdGUpID8gbmV3IERhdGUoZGF0ZSkgOiBudWxsO1xufTtcbmV4cG9ydHMudG9EYXRlID0gdG9EYXRlO1xuY29uc3QgaXNEYXRlID0gZnVuY3Rpb24gKGRhdGUpIHtcbiAgaWYgKGRhdGUgPT09IG51bGwgfHwgZGF0ZSA9PT0gdW5kZWZpbmVkKSByZXR1cm4gZmFsc2U7XG4gIGlmIChpc05hTihuZXcgRGF0ZShkYXRlKS5nZXRUaW1lKCkpKSByZXR1cm4gZmFsc2U7XG4gIGlmIChBcnJheS5pc0FycmF5KGRhdGUpKSByZXR1cm4gZmFsc2U7IC8vIGRlYWwgd2l0aCBgbmV3IERhdGUoWyBuZXcgRGF0ZSgpIF0pIC0+IG5ldyBEYXRlKClgXG4gIHJldHVybiB0cnVlO1xufTtcbmV4cG9ydHMuaXNEYXRlID0gaXNEYXRlO1xuY29uc3QgaXNEYXRlT2JqZWN0ID0gZnVuY3Rpb24gKHZhbCkge1xuICByZXR1cm4gdmFsIGluc3RhbmNlb2YgRGF0ZTtcbn07XG5leHBvcnRzLmlzRGF0ZU9iamVjdCA9IGlzRGF0ZU9iamVjdDtcbmNvbnN0IGZvcm1hdERhdGUgPSBmdW5jdGlvbiAoZGF0ZSwgZm9ybWF0KSB7XG4gIGRhdGUgPSB0b0RhdGUoZGF0ZSk7XG4gIGlmICghZGF0ZSkgcmV0dXJuICcnO1xuICByZXR1cm4gX2RhdGUuZGVmYXVsdC5mb3JtYXQoZGF0ZSwgZm9ybWF0IHx8ICd5eXl5LU1NLWRkJywgZ2V0STE4blNldHRpbmdzKCkpO1xufTtcbmV4cG9ydHMuZm9ybWF0RGF0ZSA9IGZvcm1hdERhdGU7XG5jb25zdCBwYXJzZURhdGUgPSBmdW5jdGlvbiAoc3RyaW5nLCBmb3JtYXQpIHtcbiAgcmV0dXJuIF9kYXRlLmRlZmF1bHQucGFyc2Uoc3RyaW5nLCBmb3JtYXQgfHwgJ3l5eXktTU0tZGQnLCBnZXRJMThuU2V0dGluZ3MoKSk7XG59O1xuZXhwb3J0cy5wYXJzZURhdGUgPSBwYXJzZURhdGU7XG5jb25zdCBnZXREYXlDb3VudE9mTW9udGggPSBmdW5jdGlvbiAoeWVhciwgbW9udGgpIHtcbiAgaWYgKG1vbnRoID09PSAzIHx8IG1vbnRoID09PSA1IHx8IG1vbnRoID09PSA4IHx8IG1vbnRoID09PSAxMCkge1xuICAgIHJldHVybiAzMDtcbiAgfVxuICBpZiAobW9udGggPT09IDEpIHtcbiAgICBpZiAoeWVhciAlIDQgPT09IDAgJiYgeWVhciAlIDEwMCAhPT0gMCB8fCB5ZWFyICUgNDAwID09PSAwKSB7XG4gICAgICByZXR1cm4gMjk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiAyODtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIDMxO1xufTtcbmV4cG9ydHMuZ2V0RGF5Q291bnRPZk1vbnRoID0gZ2V0RGF5Q291bnRPZk1vbnRoO1xuY29uc3QgZ2V0RGF5Q291bnRPZlllYXIgPSBmdW5jdGlvbiAoeWVhcikge1xuICBjb25zdCBpc0xlYXBZZWFyID0geWVhciAlIDQwMCA9PT0gMCB8fCB5ZWFyICUgMTAwICE9PSAwICYmIHllYXIgJSA0ID09PSAwO1xuICByZXR1cm4gaXNMZWFwWWVhciA/IDM2NiA6IDM2NTtcbn07XG5leHBvcnRzLmdldERheUNvdW50T2ZZZWFyID0gZ2V0RGF5Q291bnRPZlllYXI7XG5jb25zdCBnZXRGaXJzdERheU9mTW9udGggPSBmdW5jdGlvbiAoZGF0ZSkge1xuICBjb25zdCB0ZW1wID0gbmV3IERhdGUoZGF0ZS5nZXRUaW1lKCkpO1xuICB0ZW1wLnNldERhdGUoMSk7XG4gIHJldHVybiB0ZW1wLmdldERheSgpO1xufTtcblxuLy8gc2VlOiBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8zNjc0NTM5L2luY3JlbWVudGluZy1hLWRhdGUtaW4tamF2YXNjcmlwdFxuLy8ge3ByZXYsIG5leHR9IERhdGUgc2hvdWxkIHdvcmsgZm9yIERheWxpZ2h0IFNhdmluZyBUaW1lXG4vLyBBZGRpbmcgMjQgKiA2MCAqIDYwICogMTAwMCBkb2VzIG5vdCB3b3JrIGluIHRoZSBhYm92ZSBzY2VuYXJpb1xuZXhwb3J0cy5nZXRGaXJzdERheU9mTW9udGggPSBnZXRGaXJzdERheU9mTW9udGg7XG5jb25zdCBwcmV2RGF0ZSA9IGZ1bmN0aW9uIChkYXRlLCBhbW91bnQpIHtcbiAgaWYgKGFtb3VudCA9PT0gdm9pZCAwKSB7XG4gICAgYW1vdW50ID0gMTtcbiAgfVxuICByZXR1cm4gbmV3IERhdGUoZGF0ZS5nZXRGdWxsWWVhcigpLCBkYXRlLmdldE1vbnRoKCksIGRhdGUuZ2V0RGF0ZSgpIC0gYW1vdW50KTtcbn07XG5leHBvcnRzLnByZXZEYXRlID0gcHJldkRhdGU7XG5jb25zdCBuZXh0RGF0ZSA9IGZ1bmN0aW9uIChkYXRlLCBhbW91bnQpIHtcbiAgaWYgKGFtb3VudCA9PT0gdm9pZCAwKSB7XG4gICAgYW1vdW50ID0gMTtcbiAgfVxuICByZXR1cm4gbmV3IERhdGUoZGF0ZS5nZXRGdWxsWWVhcigpLCBkYXRlLmdldE1vbnRoKCksIGRhdGUuZ2V0RGF0ZSgpICsgYW1vdW50KTtcbn07XG5leHBvcnRzLm5leHREYXRlID0gbmV4dERhdGU7XG5jb25zdCBnZXRTdGFydERhdGVPZk1vbnRoID0gZnVuY3Rpb24gKHllYXIsIG1vbnRoKSB7XG4gIGNvbnN0IHJlc3VsdCA9IG5ldyBEYXRlKHllYXIsIG1vbnRoLCAxKTtcbiAgY29uc3QgZGF5ID0gcmVzdWx0LmdldERheSgpO1xuICBpZiAoZGF5ID09PSAwKSB7XG4gICAgcmV0dXJuIHByZXZEYXRlKHJlc3VsdCwgNyk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHByZXZEYXRlKHJlc3VsdCwgZGF5KTtcbiAgfVxufTtcbmV4cG9ydHMuZ2V0U3RhcnREYXRlT2ZNb250aCA9IGdldFN0YXJ0RGF0ZU9mTW9udGg7XG5jb25zdCBnZXRXZWVrTnVtYmVyID0gZnVuY3Rpb24gKHNyYykge1xuICBpZiAoIWlzRGF0ZShzcmMpKSByZXR1cm4gbnVsbDtcbiAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKHNyYy5nZXRUaW1lKCkpO1xuICBkYXRlLnNldEhvdXJzKDAsIDAsIDAsIDApO1xuICAvLyBUaHVyc2RheSBpbiBjdXJyZW50IHdlZWsgZGVjaWRlcyB0aGUgeWVhci5cbiAgZGF0ZS5zZXREYXRlKGRhdGUuZ2V0RGF0ZSgpICsgMyAtIChkYXRlLmdldERheSgpICsgNikgJSA3KTtcbiAgLy8gSmFudWFyeSA0IGlzIGFsd2F5cyBpbiB3ZWVrIDEuXG4gIGNvbnN0IHdlZWsxID0gbmV3IERhdGUoZGF0ZS5nZXRGdWxsWWVhcigpLCAwLCA0KTtcbiAgLy8gQWRqdXN0IHRvIFRodXJzZGF5IGluIHdlZWsgMSBhbmQgY291bnQgbnVtYmVyIG9mIHdlZWtzIGZyb20gZGF0ZSB0byB3ZWVrIDEuXG4gIC8vIFJvdW5kaW5nIHNob3VsZCBiZSBmaW5lIGZvciBEYXlsaWdodCBTYXZpbmcgVGltZS4gSXRzIHNoaWZ0IHNob3VsZCBuZXZlciBiZSBtb3JlIHRoYW4gMTIgaG91cnMuXG4gIHJldHVybiAxICsgTWF0aC5yb3VuZCgoKGRhdGUuZ2V0VGltZSgpIC0gd2VlazEuZ2V0VGltZSgpKSAvIDg2NDAwMDAwIC0gMyArICh3ZWVrMS5nZXREYXkoKSArIDYpICUgNykgLyA3KTtcbn07XG5leHBvcnRzLmdldFdlZWtOdW1iZXIgPSBnZXRXZWVrTnVtYmVyO1xuY29uc3QgZ2V0UmFuZ2VIb3VycyA9IGZ1bmN0aW9uIChyYW5nZXMpIHtcbiAgY29uc3QgaG91cnMgPSBbXTtcbiAgbGV0IGRpc2FibGVkSG91cnMgPSBbXTtcbiAgKHJhbmdlcyB8fCBbXSkuZm9yRWFjaChyYW5nZSA9PiB7XG4gICAgY29uc3QgdmFsdWUgPSByYW5nZS5tYXAoZGF0ZSA9PiBkYXRlLmdldEhvdXJzKCkpO1xuICAgIGRpc2FibGVkSG91cnMgPSBkaXNhYmxlZEhvdXJzLmNvbmNhdChuZXdBcnJheSh2YWx1ZVswXSwgdmFsdWVbMV0pKTtcbiAgfSk7XG4gIGlmIChkaXNhYmxlZEhvdXJzLmxlbmd0aCkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMjQ7IGkrKykge1xuICAgICAgaG91cnNbaV0gPSBkaXNhYmxlZEhvdXJzLmluZGV4T2YoaSkgPT09IC0xO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDI0OyBpKyspIHtcbiAgICAgIGhvdXJzW2ldID0gZmFsc2U7XG4gICAgfVxuICB9XG4gIHJldHVybiBob3Vycztcbn07XG5leHBvcnRzLmdldFJhbmdlSG91cnMgPSBnZXRSYW5nZUhvdXJzO1xuY29uc3QgZ2V0UHJldk1vbnRoTGFzdERheXMgPSAoZGF0ZSwgYW1vdW50KSA9PiB7XG4gIGlmIChhbW91bnQgPD0gMCkgcmV0dXJuIFtdO1xuICBjb25zdCB0ZW1wID0gbmV3IERhdGUoZGF0ZS5nZXRUaW1lKCkpO1xuICB0ZW1wLnNldERhdGUoMCk7XG4gIGNvbnN0IGxhc3REYXkgPSB0ZW1wLmdldERhdGUoKTtcbiAgcmV0dXJuIHJhbmdlKGFtb3VudCkubWFwKChfLCBpbmRleCkgPT4gbGFzdERheSAtIChhbW91bnQgLSBpbmRleCAtIDEpKTtcbn07XG5leHBvcnRzLmdldFByZXZNb250aExhc3REYXlzID0gZ2V0UHJldk1vbnRoTGFzdERheXM7XG5jb25zdCBnZXRNb250aERheXMgPSBkYXRlID0+IHtcbiAgY29uc3QgdGVtcCA9IG5ldyBEYXRlKGRhdGUuZ2V0RnVsbFllYXIoKSwgZGF0ZS5nZXRNb250aCgpICsgMSwgMCk7XG4gIGNvbnN0IGRheXMgPSB0ZW1wLmdldERhdGUoKTtcbiAgcmV0dXJuIHJhbmdlKGRheXMpLm1hcCgoXywgaW5kZXgpID0+IGluZGV4ICsgMSk7XG59O1xuZXhwb3J0cy5nZXRNb250aERheXMgPSBnZXRNb250aERheXM7XG5mdW5jdGlvbiBzZXRSYW5nZURhdGEoYXJyLCBzdGFydCwgZW5kLCB2YWx1ZSkge1xuICBmb3IgKGxldCBpID0gc3RhcnQ7IGkgPCBlbmQ7IGkrKykge1xuICAgIGFycltpXSA9IHZhbHVlO1xuICB9XG59XG5jb25zdCBnZXRSYW5nZU1pbnV0ZXMgPSBmdW5jdGlvbiAocmFuZ2VzLCBob3VyKSB7XG4gIGNvbnN0IG1pbnV0ZXMgPSBuZXcgQXJyYXkoNjApO1xuICBpZiAocmFuZ2VzLmxlbmd0aCA+IDApIHtcbiAgICByYW5nZXMuZm9yRWFjaChyYW5nZSA9PiB7XG4gICAgICBjb25zdCBzdGFydCA9IHJhbmdlWzBdO1xuICAgICAgY29uc3QgZW5kID0gcmFuZ2VbMV07XG4gICAgICBjb25zdCBzdGFydEhvdXIgPSBzdGFydC5nZXRIb3VycygpO1xuICAgICAgY29uc3Qgc3RhcnRNaW51dGUgPSBzdGFydC5nZXRNaW51dGVzKCk7XG4gICAgICBjb25zdCBlbmRIb3VyID0gZW5kLmdldEhvdXJzKCk7XG4gICAgICBjb25zdCBlbmRNaW51dGUgPSBlbmQuZ2V0TWludXRlcygpO1xuICAgICAgaWYgKHN0YXJ0SG91ciA9PT0gaG91ciAmJiBlbmRIb3VyICE9PSBob3VyKSB7XG4gICAgICAgIHNldFJhbmdlRGF0YShtaW51dGVzLCBzdGFydE1pbnV0ZSwgNjAsIHRydWUpO1xuICAgICAgfSBlbHNlIGlmIChzdGFydEhvdXIgPT09IGhvdXIgJiYgZW5kSG91ciA9PT0gaG91cikge1xuICAgICAgICBzZXRSYW5nZURhdGEobWludXRlcywgc3RhcnRNaW51dGUsIGVuZE1pbnV0ZSArIDEsIHRydWUpO1xuICAgICAgfSBlbHNlIGlmIChzdGFydEhvdXIgIT09IGhvdXIgJiYgZW5kSG91ciA9PT0gaG91cikge1xuICAgICAgICBzZXRSYW5nZURhdGEobWludXRlcywgMCwgZW5kTWludXRlICsgMSwgdHJ1ZSk7XG4gICAgICB9IGVsc2UgaWYgKHN0YXJ0SG91ciA8IGhvdXIgJiYgZW5kSG91ciA+IGhvdXIpIHtcbiAgICAgICAgc2V0UmFuZ2VEYXRhKG1pbnV0ZXMsIDAsIDYwLCB0cnVlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBzZXRSYW5nZURhdGEobWludXRlcywgMCwgNjAsIHRydWUpO1xuICB9XG4gIHJldHVybiBtaW51dGVzO1xufTtcbmV4cG9ydHMuZ2V0UmFuZ2VNaW51dGVzID0gZ2V0UmFuZ2VNaW51dGVzO1xuY29uc3QgcmFuZ2UgPSBmdW5jdGlvbiAobikge1xuICAvLyBzZWUgaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMzc0NjcyNS9jcmVhdGUtYS1qYXZhc2NyaXB0LWFycmF5LWNvbnRhaW5pbmctMS1uXG4gIHJldHVybiBBcnJheS5hcHBseShudWxsLCB7XG4gICAgbGVuZ3RoOiBuXG4gIH0pLm1hcCgoXywgbikgPT4gbik7XG59O1xuZXhwb3J0cy5yYW5nZSA9IHJhbmdlO1xuY29uc3QgbW9kaWZ5RGF0ZSA9IGZ1bmN0aW9uIChkYXRlLCB5LCBtLCBkKSB7XG4gIHJldHVybiBuZXcgRGF0ZSh5LCBtLCBkLCBkYXRlLmdldEhvdXJzKCksIGRhdGUuZ2V0TWludXRlcygpLCBkYXRlLmdldFNlY29uZHMoKSwgZGF0ZS5nZXRNaWxsaXNlY29uZHMoKSk7XG59O1xuZXhwb3J0cy5tb2RpZnlEYXRlID0gbW9kaWZ5RGF0ZTtcbmNvbnN0IG1vZGlmeVRpbWUgPSBmdW5jdGlvbiAoZGF0ZSwgaCwgbSwgcykge1xuICByZXR1cm4gbmV3IERhdGUoZGF0ZS5nZXRGdWxsWWVhcigpLCBkYXRlLmdldE1vbnRoKCksIGRhdGUuZ2V0RGF0ZSgpLCBoLCBtLCBzLCBkYXRlLmdldE1pbGxpc2Vjb25kcygpKTtcbn07XG5leHBvcnRzLm1vZGlmeVRpbWUgPSBtb2RpZnlUaW1lO1xuY29uc3QgbW9kaWZ5V2l0aFRpbWVTdHJpbmcgPSAoZGF0ZSwgdGltZSkgPT4ge1xuICBpZiAoZGF0ZSA9PSBudWxsIHx8ICF0aW1lKSB7XG4gICAgcmV0dXJuIGRhdGU7XG4gIH1cbiAgdGltZSA9IHBhcnNlRGF0ZSh0aW1lLCAnSEg6bW06c3MnKTtcbiAgcmV0dXJuIG1vZGlmeVRpbWUoZGF0ZSwgdGltZS5nZXRIb3VycygpLCB0aW1lLmdldE1pbnV0ZXMoKSwgdGltZS5nZXRTZWNvbmRzKCkpO1xufTtcbmV4cG9ydHMubW9kaWZ5V2l0aFRpbWVTdHJpbmcgPSBtb2RpZnlXaXRoVGltZVN0cmluZztcbmNvbnN0IGNsZWFyVGltZSA9IGZ1bmN0aW9uIChkYXRlKSB7XG4gIHJldHVybiBuZXcgRGF0ZShkYXRlLmdldEZ1bGxZZWFyKCksIGRhdGUuZ2V0TW9udGgoKSwgZGF0ZS5nZXREYXRlKCkpO1xufTtcbmV4cG9ydHMuY2xlYXJUaW1lID0gY2xlYXJUaW1lO1xuY29uc3QgY2xlYXJNaWxsaXNlY29uZHMgPSBmdW5jdGlvbiAoZGF0ZSkge1xuICByZXR1cm4gbmV3IERhdGUoZGF0ZS5nZXRGdWxsWWVhcigpLCBkYXRlLmdldE1vbnRoKCksIGRhdGUuZ2V0RGF0ZSgpLCBkYXRlLmdldEhvdXJzKCksIGRhdGUuZ2V0TWludXRlcygpLCBkYXRlLmdldFNlY29uZHMoKSwgMCk7XG59O1xuZXhwb3J0cy5jbGVhck1pbGxpc2Vjb25kcyA9IGNsZWFyTWlsbGlzZWNvbmRzO1xuY29uc3QgbGltaXRUaW1lUmFuZ2UgPSBmdW5jdGlvbiAoZGF0ZSwgcmFuZ2VzLCBmb3JtYXQpIHtcbiAgaWYgKGZvcm1hdCA9PT0gdm9pZCAwKSB7XG4gICAgZm9ybWF0ID0gJ0hIOm1tOnNzJztcbiAgfVxuICAvLyBUT0RPOiByZWZhY3RvcnkgYSBtb3JlIGVsZWdhbnQgc29sdXRpb25cbiAgaWYgKHJhbmdlcy5sZW5ndGggPT09IDApIHJldHVybiBkYXRlO1xuICBjb25zdCBub3JtYWxpemVEYXRlID0gZGF0ZSA9PiBfZGF0ZS5kZWZhdWx0LnBhcnNlKF9kYXRlLmRlZmF1bHQuZm9ybWF0KGRhdGUsIGZvcm1hdCksIGZvcm1hdCk7XG4gIGNvbnN0IG5kYXRlID0gbm9ybWFsaXplRGF0ZShkYXRlKTtcbiAgY29uc3QgbnJhbmdlcyA9IHJhbmdlcy5tYXAocmFuZ2UgPT4gcmFuZ2UubWFwKG5vcm1hbGl6ZURhdGUpKTtcbiAgaWYgKG5yYW5nZXMuc29tZShucmFuZ2UgPT4gbmRhdGUgPj0gbnJhbmdlWzBdICYmIG5kYXRlIDw9IG5yYW5nZVsxXSkpIHJldHVybiBkYXRlO1xuICBsZXQgbWluRGF0ZSA9IG5yYW5nZXNbMF1bMF07XG4gIGxldCBtYXhEYXRlID0gbnJhbmdlc1swXVswXTtcbiAgbnJhbmdlcy5mb3JFYWNoKG5yYW5nZSA9PiB7XG4gICAgbWluRGF0ZSA9IG5ldyBEYXRlKE1hdGgubWluKG5yYW5nZVswXSwgbWluRGF0ZSkpO1xuICAgIG1heERhdGUgPSBuZXcgRGF0ZShNYXRoLm1heChucmFuZ2VbMV0sIG1pbkRhdGUpKTtcbiAgfSk7XG4gIGNvbnN0IHJldCA9IG5kYXRlIDwgbWluRGF0ZSA/IG1pbkRhdGUgOiBtYXhEYXRlO1xuICAvLyBwcmVzZXJ2ZSBZZWFyL01vbnRoL0RhdGVcbiAgcmV0dXJuIG1vZGlmeURhdGUocmV0LCBkYXRlLmdldEZ1bGxZZWFyKCksIGRhdGUuZ2V0TW9udGgoKSwgZGF0ZS5nZXREYXRlKCkpO1xufTtcbmV4cG9ydHMubGltaXRUaW1lUmFuZ2UgPSBsaW1pdFRpbWVSYW5nZTtcbmNvbnN0IHRpbWVXaXRoaW5SYW5nZSA9IGZ1bmN0aW9uIChkYXRlLCBzZWxlY3RhYmxlUmFuZ2UsIGZvcm1hdCkge1xuICBjb25zdCBsaW1pdGVkRGF0ZSA9IGxpbWl0VGltZVJhbmdlKGRhdGUsIHNlbGVjdGFibGVSYW5nZSwgZm9ybWF0KTtcbiAgcmV0dXJuIGxpbWl0ZWREYXRlLmdldFRpbWUoKSA9PT0gZGF0ZS5nZXRUaW1lKCk7XG59O1xuZXhwb3J0cy50aW1lV2l0aGluUmFuZ2UgPSB0aW1lV2l0aGluUmFuZ2U7XG5jb25zdCBjaGFuZ2VZZWFyTW9udGhBbmRDbGFtcERhdGUgPSBmdW5jdGlvbiAoZGF0ZSwgeWVhciwgbW9udGgpIHtcbiAgLy8gY2xhbXAgZGF0ZSB0byB0aGUgbnVtYmVyIG9mIGRheXMgaW4gYHllYXJgLCBgbW9udGhgXG4gIC8vIGVnOiAoMjAxMC0xLTMxLCAyMDEwLCAyKSA9PiAyMDEwLTItMjhcbiAgY29uc3QgbW9udGhEYXRlID0gTWF0aC5taW4oZGF0ZS5nZXREYXRlKCksIGdldERheUNvdW50T2ZNb250aCh5ZWFyLCBtb250aCkpO1xuICByZXR1cm4gbW9kaWZ5RGF0ZShkYXRlLCB5ZWFyLCBtb250aCwgbW9udGhEYXRlKTtcbn07XG5leHBvcnRzLmNoYW5nZVllYXJNb250aEFuZENsYW1wRGF0ZSA9IGNoYW5nZVllYXJNb250aEFuZENsYW1wRGF0ZTtcbmNvbnN0IHByZXZNb250aCA9IGZ1bmN0aW9uIChkYXRlKSB7XG4gIGNvbnN0IHllYXIgPSBkYXRlLmdldEZ1bGxZZWFyKCk7XG4gIGNvbnN0IG1vbnRoID0gZGF0ZS5nZXRNb250aCgpO1xuICByZXR1cm4gbW9udGggPT09IDAgPyBjaGFuZ2VZZWFyTW9udGhBbmRDbGFtcERhdGUoZGF0ZSwgeWVhciAtIDEsIDExKSA6IGNoYW5nZVllYXJNb250aEFuZENsYW1wRGF0ZShkYXRlLCB5ZWFyLCBtb250aCAtIDEpO1xufTtcbmV4cG9ydHMucHJldk1vbnRoID0gcHJldk1vbnRoO1xuY29uc3QgbmV4dE1vbnRoID0gZnVuY3Rpb24gKGRhdGUpIHtcbiAgY29uc3QgeWVhciA9IGRhdGUuZ2V0RnVsbFllYXIoKTtcbiAgY29uc3QgbW9udGggPSBkYXRlLmdldE1vbnRoKCk7XG4gIHJldHVybiBtb250aCA9PT0gMTEgPyBjaGFuZ2VZZWFyTW9udGhBbmRDbGFtcERhdGUoZGF0ZSwgeWVhciArIDEsIDApIDogY2hhbmdlWWVhck1vbnRoQW5kQ2xhbXBEYXRlKGRhdGUsIHllYXIsIG1vbnRoICsgMSk7XG59O1xuZXhwb3J0cy5uZXh0TW9udGggPSBuZXh0TW9udGg7XG5jb25zdCBwcmV2WWVhciA9IGZ1bmN0aW9uIChkYXRlLCBhbW91bnQpIHtcbiAgaWYgKGFtb3VudCA9PT0gdm9pZCAwKSB7XG4gICAgYW1vdW50ID0gMTtcbiAgfVxuICBjb25zdCB5ZWFyID0gZGF0ZS5nZXRGdWxsWWVhcigpO1xuICBjb25zdCBtb250aCA9IGRhdGUuZ2V0TW9udGgoKTtcbiAgcmV0dXJuIGNoYW5nZVllYXJNb250aEFuZENsYW1wRGF0ZShkYXRlLCB5ZWFyIC0gYW1vdW50LCBtb250aCk7XG59O1xuZXhwb3J0cy5wcmV2WWVhciA9IHByZXZZZWFyO1xuY29uc3QgbmV4dFllYXIgPSBmdW5jdGlvbiAoZGF0ZSwgYW1vdW50KSB7XG4gIGlmIChhbW91bnQgPT09IHZvaWQgMCkge1xuICAgIGFtb3VudCA9IDE7XG4gIH1cbiAgY29uc3QgeWVhciA9IGRhdGUuZ2V0RnVsbFllYXIoKTtcbiAgY29uc3QgbW9udGggPSBkYXRlLmdldE1vbnRoKCk7XG4gIHJldHVybiBjaGFuZ2VZZWFyTW9udGhBbmRDbGFtcERhdGUoZGF0ZSwgeWVhciArIGFtb3VudCwgbW9udGgpO1xufTtcbmV4cG9ydHMubmV4dFllYXIgPSBuZXh0WWVhcjtcbmNvbnN0IGV4dHJhY3REYXRlRm9ybWF0ID0gZnVuY3Rpb24gKGZvcm1hdCkge1xuICByZXR1cm4gZm9ybWF0LnJlcGxhY2UoL1xcVz9tezEsMn18XFxXP1paL2csICcnKS5yZXBsYWNlKC9cXFc/aHsxLDJ9fFxcVz9zezEsM318XFxXP2EvZ2ksICcnKS50cmltKCk7XG59O1xuZXhwb3J0cy5leHRyYWN0RGF0ZUZvcm1hdCA9IGV4dHJhY3REYXRlRm9ybWF0O1xuY29uc3QgZXh0cmFjdFRpbWVGb3JtYXQgPSBmdW5jdGlvbiAoZm9ybWF0KSB7XG4gIHJldHVybiBmb3JtYXQucmVwbGFjZSgvXFxXP0R7MSwyfXxcXFc/RG98XFxXP2R7MSw0fXxcXFc/TXsxLDR9fFxcVz95ezIsNH0vZywgJycpLnRyaW0oKTtcbn07XG5leHBvcnRzLmV4dHJhY3RUaW1lRm9ybWF0ID0gZXh0cmFjdFRpbWVGb3JtYXQ7XG5jb25zdCB2YWxpZGF0ZVJhbmdlSW5PbmVNb250aCA9IGZ1bmN0aW9uIChzdGFydCwgZW5kKSB7XG4gIHJldHVybiBzdGFydC5nZXRNb250aCgpID09PSBlbmQuZ2V0TW9udGgoKSAmJiBzdGFydC5nZXRGdWxsWWVhcigpID09PSBlbmQuZ2V0RnVsbFllYXIoKTtcbn07XG5leHBvcnRzLnZhbGlkYXRlUmFuZ2VJbk9uZU1vbnRoID0gdmFsaWRhdGVSYW5nZUluT25lTW9udGg7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qIE1vZGlmaWVkIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL3RheWxvcmhha2VzL2ZlY2hhXG4gKlxuICogVGhlIE1JVCBMaWNlbnNlIChNSVQpXG4gKlxuICogQ29weXJpZ2h0IChjKSAyMDE1IFRheWxvciBIYWtlc1xuICpcbiAqIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhIGNvcHlcbiAqIG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlIFwiU29mdHdhcmVcIiksIHRvIGRlYWxcbiAqIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHNcbiAqIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGxcbiAqIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpc1xuICogZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcbiAqXG4gKiAgICAgVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW4gYWxsXG4gKiBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuICpcbiAqICAgICBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SXG4gKiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcbiAqICAgICBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEVcbiAqIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVJcbiAqIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sXG4gKiAgICAgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEVcbiAqIFNPRlRXQVJFLlxuICovXG5cbi8qZXNsaW50LWRpc2FibGUqL1xuLy8g5oqKIFlZWVktTU0tREQg5pS55oiQ5LqGIHl5eXktTU0tZGRcbihmdW5jdGlvbiAobWFpbikge1xuICAndXNlIHN0cmljdCc7XG5cbiAgLyoqXG4gICAqIFBhcnNlIG9yIGZvcm1hdCBkYXRlc1xuICAgKiBAY2xhc3MgZmVjaGFcbiAgICovXG4gIHZhciBmZWNoYSA9IHt9O1xuICB2YXIgdG9rZW4gPSAvZHsxLDR9fE17MSw0fXx5eSg/Onl5KT98U3sxLDN9fERvfFpafChbSGhNc0RtXSlcXDE/fFthQV18XCJbXlwiXSpcInwnW14nXSonL2c7XG4gIHZhciB0d29EaWdpdHMgPSAnXFxcXGRcXFxcZD8nO1xuICB2YXIgdGhyZWVEaWdpdHMgPSAnXFxcXGR7M30nO1xuICB2YXIgZm91ckRpZ2l0cyA9ICdcXFxcZHs0fSc7XG4gIHZhciB3b3JkID0gJ1teXFxcXHNdKyc7XG4gIHZhciBsaXRlcmFsID0gL1xcWyhbXl0qPylcXF0vZ207XG4gIHZhciBub29wID0gZnVuY3Rpb24gKCkge307XG4gIGZ1bmN0aW9uIHJlZ2V4RXNjYXBlKHN0cikge1xuICAgIHJldHVybiBzdHIucmVwbGFjZSgvW3xcXFxceygpW14kKyo/Li1dL2csICdcXFxcJCYnKTtcbiAgfVxuICBmdW5jdGlvbiBzaG9ydGVuKGFyciwgc0xlbikge1xuICAgIHZhciBuZXdBcnIgPSBbXTtcbiAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gYXJyLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBuZXdBcnIucHVzaChhcnJbaV0uc3Vic3RyKDAsIHNMZW4pKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ld0FycjtcbiAgfVxuICBmdW5jdGlvbiBtb250aFVwZGF0ZShhcnJOYW1lKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCB2LCBpMThuKSB7XG4gICAgICB2YXIgaW5kZXggPSBpMThuW2Fyck5hbWVdLmluZGV4T2Yodi5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHYuc3Vic3RyKDEpLnRvTG93ZXJDYXNlKCkpO1xuICAgICAgaWYgKH5pbmRleCkge1xuICAgICAgICBkLm1vbnRoID0gaW5kZXg7XG4gICAgICB9XG4gICAgfTtcbiAgfVxuICBmdW5jdGlvbiBwYWQodmFsLCBsZW4pIHtcbiAgICB2YWwgPSBTdHJpbmcodmFsKTtcbiAgICBsZW4gPSBsZW4gfHwgMjtcbiAgICB3aGlsZSAodmFsLmxlbmd0aCA8IGxlbikge1xuICAgICAgdmFsID0gJzAnICsgdmFsO1xuICAgIH1cbiAgICByZXR1cm4gdmFsO1xuICB9XG4gIHZhciBkYXlOYW1lcyA9IFsnU3VuZGF5JywgJ01vbmRheScsICdUdWVzZGF5JywgJ1dlZG5lc2RheScsICdUaHVyc2RheScsICdGcmlkYXknLCAnU2F0dXJkYXknXTtcbiAgdmFyIG1vbnRoTmFtZXMgPSBbJ0phbnVhcnknLCAnRmVicnVhcnknLCAnTWFyY2gnLCAnQXByaWwnLCAnTWF5JywgJ0p1bmUnLCAnSnVseScsICdBdWd1c3QnLCAnU2VwdGVtYmVyJywgJ09jdG9iZXInLCAnTm92ZW1iZXInLCAnRGVjZW1iZXInXTtcbiAgdmFyIG1vbnRoTmFtZXNTaG9ydCA9IHNob3J0ZW4obW9udGhOYW1lcywgMyk7XG4gIHZhciBkYXlOYW1lc1Nob3J0ID0gc2hvcnRlbihkYXlOYW1lcywgMyk7XG4gIGZlY2hhLmkxOG4gPSB7XG4gICAgZGF5TmFtZXNTaG9ydDogZGF5TmFtZXNTaG9ydCxcbiAgICBkYXlOYW1lczogZGF5TmFtZXMsXG4gICAgbW9udGhOYW1lc1Nob3J0OiBtb250aE5hbWVzU2hvcnQsXG4gICAgbW9udGhOYW1lczogbW9udGhOYW1lcyxcbiAgICBhbVBtOiBbJ2FtJywgJ3BtJ10sXG4gICAgRG9GbjogZnVuY3Rpb24gRG9GbihEKSB7XG4gICAgICByZXR1cm4gRCArIFsndGgnLCAnc3QnLCAnbmQnLCAncmQnXVtEICUgMTAgPiAzID8gMCA6IChEIC0gRCAlIDEwICE9PSAxMCkgKiBEICUgMTBdO1xuICAgIH1cbiAgfTtcbiAgdmFyIGZvcm1hdEZsYWdzID0ge1xuICAgIEQ6IGZ1bmN0aW9uIChkYXRlT2JqKSB7XG4gICAgICByZXR1cm4gZGF0ZU9iai5nZXREYXkoKTtcbiAgICB9LFxuICAgIEREOiBmdW5jdGlvbiAoZGF0ZU9iaikge1xuICAgICAgcmV0dXJuIHBhZChkYXRlT2JqLmdldERheSgpKTtcbiAgICB9LFxuICAgIERvOiBmdW5jdGlvbiAoZGF0ZU9iaiwgaTE4bikge1xuICAgICAgcmV0dXJuIGkxOG4uRG9GbihkYXRlT2JqLmdldERhdGUoKSk7XG4gICAgfSxcbiAgICBkOiBmdW5jdGlvbiAoZGF0ZU9iaikge1xuICAgICAgcmV0dXJuIGRhdGVPYmouZ2V0RGF0ZSgpO1xuICAgIH0sXG4gICAgZGQ6IGZ1bmN0aW9uIChkYXRlT2JqKSB7XG4gICAgICByZXR1cm4gcGFkKGRhdGVPYmouZ2V0RGF0ZSgpKTtcbiAgICB9LFxuICAgIGRkZDogZnVuY3Rpb24gKGRhdGVPYmosIGkxOG4pIHtcbiAgICAgIHJldHVybiBpMThuLmRheU5hbWVzU2hvcnRbZGF0ZU9iai5nZXREYXkoKV07XG4gICAgfSxcbiAgICBkZGRkOiBmdW5jdGlvbiAoZGF0ZU9iaiwgaTE4bikge1xuICAgICAgcmV0dXJuIGkxOG4uZGF5TmFtZXNbZGF0ZU9iai5nZXREYXkoKV07XG4gICAgfSxcbiAgICBNOiBmdW5jdGlvbiAoZGF0ZU9iaikge1xuICAgICAgcmV0dXJuIGRhdGVPYmouZ2V0TW9udGgoKSArIDE7XG4gICAgfSxcbiAgICBNTTogZnVuY3Rpb24gKGRhdGVPYmopIHtcbiAgICAgIHJldHVybiBwYWQoZGF0ZU9iai5nZXRNb250aCgpICsgMSk7XG4gICAgfSxcbiAgICBNTU06IGZ1bmN0aW9uIChkYXRlT2JqLCBpMThuKSB7XG4gICAgICByZXR1cm4gaTE4bi5tb250aE5hbWVzU2hvcnRbZGF0ZU9iai5nZXRNb250aCgpXTtcbiAgICB9LFxuICAgIE1NTU06IGZ1bmN0aW9uIChkYXRlT2JqLCBpMThuKSB7XG4gICAgICByZXR1cm4gaTE4bi5tb250aE5hbWVzW2RhdGVPYmouZ2V0TW9udGgoKV07XG4gICAgfSxcbiAgICB5eTogZnVuY3Rpb24gKGRhdGVPYmopIHtcbiAgICAgIHJldHVybiBwYWQoU3RyaW5nKGRhdGVPYmouZ2V0RnVsbFllYXIoKSksIDQpLnN1YnN0cigyKTtcbiAgICB9LFxuICAgIHl5eXk6IGZ1bmN0aW9uIChkYXRlT2JqKSB7XG4gICAgICByZXR1cm4gcGFkKGRhdGVPYmouZ2V0RnVsbFllYXIoKSwgNCk7XG4gICAgfSxcbiAgICBoOiBmdW5jdGlvbiAoZGF0ZU9iaikge1xuICAgICAgcmV0dXJuIGRhdGVPYmouZ2V0SG91cnMoKSAlIDEyIHx8IDEyO1xuICAgIH0sXG4gICAgaGg6IGZ1bmN0aW9uIChkYXRlT2JqKSB7XG4gICAgICByZXR1cm4gcGFkKGRhdGVPYmouZ2V0SG91cnMoKSAlIDEyIHx8IDEyKTtcbiAgICB9LFxuICAgIEg6IGZ1bmN0aW9uIChkYXRlT2JqKSB7XG4gICAgICByZXR1cm4gZGF0ZU9iai5nZXRIb3VycygpO1xuICAgIH0sXG4gICAgSEg6IGZ1bmN0aW9uIChkYXRlT2JqKSB7XG4gICAgICByZXR1cm4gcGFkKGRhdGVPYmouZ2V0SG91cnMoKSk7XG4gICAgfSxcbiAgICBtOiBmdW5jdGlvbiAoZGF0ZU9iaikge1xuICAgICAgcmV0dXJuIGRhdGVPYmouZ2V0TWludXRlcygpO1xuICAgIH0sXG4gICAgbW06IGZ1bmN0aW9uIChkYXRlT2JqKSB7XG4gICAgICByZXR1cm4gcGFkKGRhdGVPYmouZ2V0TWludXRlcygpKTtcbiAgICB9LFxuICAgIHM6IGZ1bmN0aW9uIChkYXRlT2JqKSB7XG4gICAgICByZXR1cm4gZGF0ZU9iai5nZXRTZWNvbmRzKCk7XG4gICAgfSxcbiAgICBzczogZnVuY3Rpb24gKGRhdGVPYmopIHtcbiAgICAgIHJldHVybiBwYWQoZGF0ZU9iai5nZXRTZWNvbmRzKCkpO1xuICAgIH0sXG4gICAgUzogZnVuY3Rpb24gKGRhdGVPYmopIHtcbiAgICAgIHJldHVybiBNYXRoLnJvdW5kKGRhdGVPYmouZ2V0TWlsbGlzZWNvbmRzKCkgLyAxMDApO1xuICAgIH0sXG4gICAgU1M6IGZ1bmN0aW9uIChkYXRlT2JqKSB7XG4gICAgICByZXR1cm4gcGFkKE1hdGgucm91bmQoZGF0ZU9iai5nZXRNaWxsaXNlY29uZHMoKSAvIDEwKSwgMik7XG4gICAgfSxcbiAgICBTU1M6IGZ1bmN0aW9uIChkYXRlT2JqKSB7XG4gICAgICByZXR1cm4gcGFkKGRhdGVPYmouZ2V0TWlsbGlzZWNvbmRzKCksIDMpO1xuICAgIH0sXG4gICAgYTogZnVuY3Rpb24gKGRhdGVPYmosIGkxOG4pIHtcbiAgICAgIHJldHVybiBkYXRlT2JqLmdldEhvdXJzKCkgPCAxMiA/IGkxOG4uYW1QbVswXSA6IGkxOG4uYW1QbVsxXTtcbiAgICB9LFxuICAgIEE6IGZ1bmN0aW9uIChkYXRlT2JqLCBpMThuKSB7XG4gICAgICByZXR1cm4gZGF0ZU9iai5nZXRIb3VycygpIDwgMTIgPyBpMThuLmFtUG1bMF0udG9VcHBlckNhc2UoKSA6IGkxOG4uYW1QbVsxXS50b1VwcGVyQ2FzZSgpO1xuICAgIH0sXG4gICAgWlo6IGZ1bmN0aW9uIChkYXRlT2JqKSB7XG4gICAgICB2YXIgbyA9IGRhdGVPYmouZ2V0VGltZXpvbmVPZmZzZXQoKTtcbiAgICAgIHJldHVybiAobyA+IDAgPyAnLScgOiAnKycpICsgcGFkKE1hdGguZmxvb3IoTWF0aC5hYnMobykgLyA2MCkgKiAxMDAgKyBNYXRoLmFicyhvKSAlIDYwLCA0KTtcbiAgICB9XG4gIH07XG4gIHZhciBwYXJzZUZsYWdzID0ge1xuICAgIGQ6IFt0d29EaWdpdHMsIGZ1bmN0aW9uIChkLCB2KSB7XG4gICAgICBkLmRheSA9IHY7XG4gICAgfV0sXG4gICAgRG86IFt0d29EaWdpdHMgKyB3b3JkLCBmdW5jdGlvbiAoZCwgdikge1xuICAgICAgZC5kYXkgPSBwYXJzZUludCh2LCAxMCk7XG4gICAgfV0sXG4gICAgTTogW3R3b0RpZ2l0cywgZnVuY3Rpb24gKGQsIHYpIHtcbiAgICAgIGQubW9udGggPSB2IC0gMTtcbiAgICB9XSxcbiAgICB5eTogW3R3b0RpZ2l0cywgZnVuY3Rpb24gKGQsIHYpIHtcbiAgICAgIHZhciBkYSA9IG5ldyBEYXRlKCksXG4gICAgICAgIGNlbnQgPSArKCcnICsgZGEuZ2V0RnVsbFllYXIoKSkuc3Vic3RyKDAsIDIpO1xuICAgICAgZC55ZWFyID0gJycgKyAodiA+IDY4ID8gY2VudCAtIDEgOiBjZW50KSArIHY7XG4gICAgfV0sXG4gICAgaDogW3R3b0RpZ2l0cywgZnVuY3Rpb24gKGQsIHYpIHtcbiAgICAgIGQuaG91ciA9IHY7XG4gICAgfV0sXG4gICAgbTogW3R3b0RpZ2l0cywgZnVuY3Rpb24gKGQsIHYpIHtcbiAgICAgIGQubWludXRlID0gdjtcbiAgICB9XSxcbiAgICBzOiBbdHdvRGlnaXRzLCBmdW5jdGlvbiAoZCwgdikge1xuICAgICAgZC5zZWNvbmQgPSB2O1xuICAgIH1dLFxuICAgIHl5eXk6IFtmb3VyRGlnaXRzLCBmdW5jdGlvbiAoZCwgdikge1xuICAgICAgZC55ZWFyID0gdjtcbiAgICB9XSxcbiAgICBTOiBbJ1xcXFxkJywgZnVuY3Rpb24gKGQsIHYpIHtcbiAgICAgIGQubWlsbGlzZWNvbmQgPSB2ICogMTAwO1xuICAgIH1dLFxuICAgIFNTOiBbJ1xcXFxkezJ9JywgZnVuY3Rpb24gKGQsIHYpIHtcbiAgICAgIGQubWlsbGlzZWNvbmQgPSB2ICogMTA7XG4gICAgfV0sXG4gICAgU1NTOiBbdGhyZWVEaWdpdHMsIGZ1bmN0aW9uIChkLCB2KSB7XG4gICAgICBkLm1pbGxpc2Vjb25kID0gdjtcbiAgICB9XSxcbiAgICBEOiBbdHdvRGlnaXRzLCBub29wXSxcbiAgICBkZGQ6IFt3b3JkLCBub29wXSxcbiAgICBNTU06IFt3b3JkLCBtb250aFVwZGF0ZSgnbW9udGhOYW1lc1Nob3J0JyldLFxuICAgIE1NTU06IFt3b3JkLCBtb250aFVwZGF0ZSgnbW9udGhOYW1lcycpXSxcbiAgICBhOiBbd29yZCwgZnVuY3Rpb24gKGQsIHYsIGkxOG4pIHtcbiAgICAgIHZhciB2YWwgPSB2LnRvTG93ZXJDYXNlKCk7XG4gICAgICBpZiAodmFsID09PSBpMThuLmFtUG1bMF0pIHtcbiAgICAgICAgZC5pc1BtID0gZmFsc2U7XG4gICAgICB9IGVsc2UgaWYgKHZhbCA9PT0gaTE4bi5hbVBtWzFdKSB7XG4gICAgICAgIGQuaXNQbSA9IHRydWU7XG4gICAgICB9XG4gICAgfV0sXG4gICAgWlo6IFsnW15cXFxcc10qP1tcXFxcK1xcXFwtXVxcXFxkXFxcXGQ6P1xcXFxkXFxcXGR8W15cXFxcc10qP1onLCBmdW5jdGlvbiAoZCwgdikge1xuICAgICAgdmFyIHBhcnRzID0gKHYgKyAnJykubWF0Y2goLyhbKy1dfFxcZFxcZCkvZ2kpLFxuICAgICAgICBtaW51dGVzO1xuICAgICAgaWYgKHBhcnRzKSB7XG4gICAgICAgIG1pbnV0ZXMgPSArKHBhcnRzWzFdICogNjApICsgcGFyc2VJbnQocGFydHNbMl0sIDEwKTtcbiAgICAgICAgZC50aW1lem9uZU9mZnNldCA9IHBhcnRzWzBdID09PSAnKycgPyBtaW51dGVzIDogLW1pbnV0ZXM7XG4gICAgICB9XG4gICAgfV1cbiAgfTtcbiAgcGFyc2VGbGFncy5kZCA9IHBhcnNlRmxhZ3MuZDtcbiAgcGFyc2VGbGFncy5kZGRkID0gcGFyc2VGbGFncy5kZGQ7XG4gIHBhcnNlRmxhZ3MuREQgPSBwYXJzZUZsYWdzLkQ7XG4gIHBhcnNlRmxhZ3MubW0gPSBwYXJzZUZsYWdzLm07XG4gIHBhcnNlRmxhZ3MuaGggPSBwYXJzZUZsYWdzLkggPSBwYXJzZUZsYWdzLkhIID0gcGFyc2VGbGFncy5oO1xuICBwYXJzZUZsYWdzLk1NID0gcGFyc2VGbGFncy5NO1xuICBwYXJzZUZsYWdzLnNzID0gcGFyc2VGbGFncy5zO1xuICBwYXJzZUZsYWdzLkEgPSBwYXJzZUZsYWdzLmE7XG5cbiAgLy8gU29tZSBjb21tb24gZm9ybWF0IHN0cmluZ3NcbiAgZmVjaGEubWFza3MgPSB7XG4gICAgZGVmYXVsdDogJ2RkZCBNTU0gZGQgeXl5eSBISDptbTpzcycsXG4gICAgc2hvcnREYXRlOiAnTS9EL3l5JyxcbiAgICBtZWRpdW1EYXRlOiAnTU1NIGQsIHl5eXknLFxuICAgIGxvbmdEYXRlOiAnTU1NTSBkLCB5eXl5JyxcbiAgICBmdWxsRGF0ZTogJ2RkZGQsIE1NTU0gZCwgeXl5eScsXG4gICAgc2hvcnRUaW1lOiAnSEg6bW0nLFxuICAgIG1lZGl1bVRpbWU6ICdISDptbTpzcycsXG4gICAgbG9uZ1RpbWU6ICdISDptbTpzcy5TU1MnXG4gIH07XG5cbiAgLyoqKlxuICAgKiBGb3JtYXQgYSBkYXRlXG4gICAqIEBtZXRob2QgZm9ybWF0XG4gICAqIEBwYXJhbSB7RGF0ZXxudW1iZXJ9IGRhdGVPYmpcbiAgICogQHBhcmFtIHtzdHJpbmd9IG1hc2sgRm9ybWF0IG9mIHRoZSBkYXRlLCBpLmUuICdtbS1kZC15eScgb3IgJ3Nob3J0RGF0ZSdcbiAgICovXG4gIGZlY2hhLmZvcm1hdCA9IGZ1bmN0aW9uIChkYXRlT2JqLCBtYXNrLCBpMThuU2V0dGluZ3MpIHtcbiAgICB2YXIgaTE4biA9IGkxOG5TZXR0aW5ncyB8fCBmZWNoYS5pMThuO1xuICAgIGlmICh0eXBlb2YgZGF0ZU9iaiA9PT0gJ251bWJlcicpIHtcbiAgICAgIGRhdGVPYmogPSBuZXcgRGF0ZShkYXRlT2JqKTtcbiAgICB9XG4gICAgaWYgKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChkYXRlT2JqKSAhPT0gJ1tvYmplY3QgRGF0ZV0nIHx8IGlzTmFOKGRhdGVPYmouZ2V0VGltZSgpKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIERhdGUgaW4gZmVjaGEuZm9ybWF0Jyk7XG4gICAgfVxuICAgIG1hc2sgPSBmZWNoYS5tYXNrc1ttYXNrXSB8fCBtYXNrIHx8IGZlY2hhLm1hc2tzWydkZWZhdWx0J107XG4gICAgdmFyIGxpdGVyYWxzID0gW107XG5cbiAgICAvLyBNYWtlIGxpdGVyYWxzIGluYWN0aXZlIGJ5IHJlcGxhY2luZyB0aGVtIHdpdGggPz9cbiAgICBtYXNrID0gbWFzay5yZXBsYWNlKGxpdGVyYWwsIGZ1bmN0aW9uICgkMCwgJDEpIHtcbiAgICAgIGxpdGVyYWxzLnB1c2goJDEpO1xuICAgICAgcmV0dXJuICdAQEAnO1xuICAgIH0pO1xuICAgIC8vIEFwcGx5IGZvcm1hdHRpbmcgcnVsZXNcbiAgICBtYXNrID0gbWFzay5yZXBsYWNlKHRva2VuLCBmdW5jdGlvbiAoJDApIHtcbiAgICAgIHJldHVybiAkMCBpbiBmb3JtYXRGbGFncyA/IGZvcm1hdEZsYWdzWyQwXShkYXRlT2JqLCBpMThuKSA6ICQwLnNsaWNlKDEsICQwLmxlbmd0aCAtIDEpO1xuICAgIH0pO1xuICAgIC8vIElubGluZSBsaXRlcmFsIHZhbHVlcyBiYWNrIGludG8gdGhlIGZvcm1hdHRlZCB2YWx1ZVxuICAgIHJldHVybiBtYXNrLnJlcGxhY2UoL0BAQC9nLCBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gbGl0ZXJhbHMuc2hpZnQoKTtcbiAgICB9KTtcbiAgfTtcblxuICAvKipcbiAgICogUGFyc2UgYSBkYXRlIHN0cmluZyBpbnRvIGFuIG9iamVjdCwgY2hhbmdlcyAtIGludG8gL1xuICAgKiBAbWV0aG9kIHBhcnNlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBkYXRlU3RyIERhdGUgc3RyaW5nXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBmb3JtYXQgRGF0ZSBwYXJzZSBmb3JtYXRcbiAgICogQHJldHVybnMge0RhdGV8Ym9vbGVhbn1cbiAgICovXG4gIGZlY2hhLnBhcnNlID0gZnVuY3Rpb24gKGRhdGVTdHIsIGZvcm1hdCwgaTE4blNldHRpbmdzKSB7XG4gICAgdmFyIGkxOG4gPSBpMThuU2V0dGluZ3MgfHwgZmVjaGEuaTE4bjtcbiAgICBpZiAodHlwZW9mIGZvcm1hdCAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBmb3JtYXQgaW4gZmVjaGEucGFyc2UnKTtcbiAgICB9XG4gICAgZm9ybWF0ID0gZmVjaGEubWFza3NbZm9ybWF0XSB8fCBmb3JtYXQ7XG5cbiAgICAvLyBBdm9pZCByZWd1bGFyIGV4cHJlc3Npb24gZGVuaWFsIG9mIHNlcnZpY2UsIGZhaWwgZWFybHkgZm9yIHJlYWxseSBsb25nIHN0cmluZ3NcbiAgICAvLyBodHRwczovL3d3dy5vd2FzcC5vcmcvaW5kZXgucGhwL1JlZ3VsYXJfZXhwcmVzc2lvbl9EZW5pYWxfb2ZfU2VydmljZV8tX1JlRG9TXG4gICAgaWYgKGRhdGVTdHIubGVuZ3RoID4gMTAwMCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHZhciBkYXRlSW5mbyA9IHt9O1xuICAgIHZhciBwYXJzZUluZm8gPSBbXTtcbiAgICB2YXIgbGl0ZXJhbHMgPSBbXTtcbiAgICBmb3JtYXQgPSBmb3JtYXQucmVwbGFjZShsaXRlcmFsLCBmdW5jdGlvbiAoJDAsICQxKSB7XG4gICAgICBsaXRlcmFscy5wdXNoKCQxKTtcbiAgICAgIHJldHVybiAnQEBAJztcbiAgICB9KTtcbiAgICB2YXIgbmV3Rm9ybWF0ID0gcmVnZXhFc2NhcGUoZm9ybWF0KS5yZXBsYWNlKHRva2VuLCBmdW5jdGlvbiAoJDApIHtcbiAgICAgIGlmIChwYXJzZUZsYWdzWyQwXSkge1xuICAgICAgICB2YXIgaW5mbyA9IHBhcnNlRmxhZ3NbJDBdO1xuICAgICAgICBwYXJzZUluZm8ucHVzaChpbmZvWzFdKTtcbiAgICAgICAgcmV0dXJuICcoJyArIGluZm9bMF0gKyAnKSc7XG4gICAgICB9XG4gICAgICByZXR1cm4gJDA7XG4gICAgfSk7XG4gICAgbmV3Rm9ybWF0ID0gbmV3Rm9ybWF0LnJlcGxhY2UoL0BAQC9nLCBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gbGl0ZXJhbHMuc2hpZnQoKTtcbiAgICB9KTtcbiAgICB2YXIgbWF0Y2hlcyA9IGRhdGVTdHIubWF0Y2gobmV3IFJlZ0V4cChuZXdGb3JtYXQsICdpJykpO1xuICAgIGlmICghbWF0Y2hlcykge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGZvciAodmFyIGkgPSAxOyBpIDwgbWF0Y2hlcy5sZW5ndGg7IGkrKykge1xuICAgICAgcGFyc2VJbmZvW2kgLSAxXShkYXRlSW5mbywgbWF0Y2hlc1tpXSwgaTE4bik7XG4gICAgfVxuICAgIHZhciB0b2RheSA9IG5ldyBEYXRlKCk7XG4gICAgaWYgKGRhdGVJbmZvLmlzUG0gPT09IHRydWUgJiYgZGF0ZUluZm8uaG91ciAhPSBudWxsICYmICtkYXRlSW5mby5ob3VyICE9PSAxMikge1xuICAgICAgZGF0ZUluZm8uaG91ciA9ICtkYXRlSW5mby5ob3VyICsgMTI7XG4gICAgfSBlbHNlIGlmIChkYXRlSW5mby5pc1BtID09PSBmYWxzZSAmJiArZGF0ZUluZm8uaG91ciA9PT0gMTIpIHtcbiAgICAgIGRhdGVJbmZvLmhvdXIgPSAwO1xuICAgIH1cbiAgICB2YXIgZGF0ZTtcbiAgICBpZiAoZGF0ZUluZm8udGltZXpvbmVPZmZzZXQgIT0gbnVsbCkge1xuICAgICAgZGF0ZUluZm8ubWludXRlID0gKyhkYXRlSW5mby5taW51dGUgfHwgMCkgLSArZGF0ZUluZm8udGltZXpvbmVPZmZzZXQ7XG4gICAgICBkYXRlID0gbmV3IERhdGUoRGF0ZS5VVEMoZGF0ZUluZm8ueWVhciB8fCB0b2RheS5nZXRGdWxsWWVhcigpLCBkYXRlSW5mby5tb250aCB8fCAwLCBkYXRlSW5mby5kYXkgfHwgMSwgZGF0ZUluZm8uaG91ciB8fCAwLCBkYXRlSW5mby5taW51dGUgfHwgMCwgZGF0ZUluZm8uc2Vjb25kIHx8IDAsIGRhdGVJbmZvLm1pbGxpc2Vjb25kIHx8IDApKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZGF0ZSA9IG5ldyBEYXRlKGRhdGVJbmZvLnllYXIgfHwgdG9kYXkuZ2V0RnVsbFllYXIoKSwgZGF0ZUluZm8ubW9udGggfHwgMCwgZGF0ZUluZm8uZGF5IHx8IDEsIGRhdGVJbmZvLmhvdXIgfHwgMCwgZGF0ZUluZm8ubWludXRlIHx8IDAsIGRhdGVJbmZvLnNlY29uZCB8fCAwLCBkYXRlSW5mby5taWxsaXNlY29uZCB8fCAwKTtcbiAgICB9XG4gICAgcmV0dXJuIGRhdGU7XG4gIH07XG5cbiAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgaWYgKHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnICYmIG1vZHVsZS5leHBvcnRzKSB7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBmZWNoYTtcbiAgfSBlbHNlIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcbiAgICBkZWZpbmUoZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIGZlY2hhO1xuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIG1haW4uZmVjaGEgPSBmZWNoYTtcbiAgfVxufSkodm9pZCAwKTsiLCI8dGVtcGxhdGU+XHJcblx0PGRpdiBjbGFzcz1cImNvZy1waWNrZXIgY29nLWlucHV0XCIgOmNsYXNzPVwieydpcy1yZWFkLW9ubHknOiByZWFkb25seSB9XCIgQGNsaWNrPVwiaGFuZGxlT3V0ZXJDbGlja1wiPlxyXG5cdFx0PHRlbXBsYXRlIHYtaWY9XCJyZWFkb25seVwiPnt7IHRleHRWYWx1ZSB8fCBcIiZuYnNwO1wiIH19PC90ZW1wbGF0ZT5cclxuXHRcdDxjLXBpY2tlci1uYXRpdmUgdi1lbHNlLWlmPVwiY2hhbWVsZW9uIHx8IG1vYmlsZVwiIDpwbGFjZWhvbGRlcj1cInBsYWNlaG9sZGVyXCIgOnNob3ctcGxhY2Vob2xkZXI9XCIhY2hhbWVsZW9uICYmICF2YWx1ZVwiPlxyXG5cdFx0XHQ8aW5wdXRcclxuXHRcdFx0XHQ6aWQ9XCInY29nLScraWRcIlxyXG5cdFx0XHRcdHJlZj1cImlucHV0XCJcclxuXHRcdFx0XHR2LWJpbmQ9XCIkYXR0cnNcIlxyXG5cdFx0XHRcdDp2YWx1ZT1cIm5hdGl2ZVRleHRWYWx1ZVwiXHJcblx0XHRcdFx0dHlwZT1cImRhdGVcIlxyXG5cdFx0XHRcdGNsYXNzPVwiZWwtaW5wdXRfX2lubmVyXCJcclxuXHRcdFx0XHQ6bWluPVwiJGZvcm1hdChtaW4sICd5eXl5LU1NLWRkJylcIlxyXG5cdFx0XHRcdDptYXg9XCIkZm9ybWF0KG1heCwgJ3l5eXktTU0tZGQnKVwiXHJcblx0XHRcdFx0QGZvY3VzPVwiaGFuZGxlRm9jdXNcIlxyXG5cdFx0XHRcdEBibHVyPVwiaGFuZGxlQmx1clwiXHJcblx0XHRcdFx0QGNoYW5nZT1cImhhbmRsZU5hdGl2ZUNoYW5nZVwiXHJcblx0XHRcdC8+XHJcblx0XHRcdDx0ZW1wbGF0ZSB2LWlmPVwibW9iaWxlXCIgI2ljb24+XHJcblx0XHRcdFx0PGktY2FsZW5kYXIgOmNsYXNzPVwieydjb2ctb2Zmc2NyZWVuJzogZGF0ZVRpbWVJY29uSXNIaWRkZW59XCIgLz5cclxuXHRcdFx0PC90ZW1wbGF0ZT5cclxuXHRcdDwvYy1waWNrZXItbmF0aXZlPlxyXG5cdFx0PGMtZGF0ZS1waWNrZXJcclxuXHRcdFx0di1lbHNlXHJcblx0XHRcdDppZD1cIidjb2ctJytpZFwiXHJcblx0XHRcdHJlZj1cInBpY2tlclwiXHJcblx0XHRcdDp2YWx1ZT1cImRhdGVWYWx1ZVwiXHJcblx0XHRcdDp1bnBhcnNlZC12YWx1ZT1cInVucGFyc2VkVmFsdWVcIlxyXG5cdFx0XHR2LWJpbmQ9XCIkYXR0cnNcIlxyXG5cdFx0XHQ6Zm9ybWF0PVwiZWxlbWVudEZvcm1hdFwiXHJcblx0XHRcdDptb2RlbC1mb3JtYXQ9XCJtb2RlbEZvcm1hdFwiXHJcblx0XHRcdDpwbGFjZWhvbGRlcj1cInBsYWNlaG9sZGVyXCJcclxuXHRcdFx0OnBvcHBlci1jbGFzcz1cIidjb2ctY29nbml0byBjb2ctJyArIHNjb3BlICsgJyBjb2ctY29nbml0by0tJyArIChjaGFtZWxlb24gPyAnY2hhbWVsZW9uJyA6ICdzdHlsZWQnKSArICcgY29nLWRhdGUtcGlja2VyJyArIChmbGFncy5wcm90ZWN0Q3NzID8gJyBjb2ctY29nbml0by0tcHJvdGVjdC1jc3MnIDogJycpXCJcclxuXHRcdFx0OmZvcm1hdC1kYXRlPVwiKGRhdGUsIGZvcm1hdCkgPT4gJGZvcm1hdChkYXRlLCBmb3JtYXQpXCJcclxuXHRcdFx0OnBhcnNlLWRhdGU9XCIodGV4dCwgZm9ybWF0KSA9PiAkcGFyc2UoRGF0ZSwgdGV4dCwgZm9ybWF0KVwiXHJcblx0XHRcdDpkZWZhdWx0LXZhbHVlPVwiZGVmYXVsdFZhbHVlXCJcclxuXHRcdFx0Om1pbmltdW09XCJub3JtYWxpemVkTWluXCJcclxuXHRcdFx0Om1heGltdW09XCJub3JtYWxpemVkTWF4XCJcclxuXHRcdFx0OnBpY2tlci1vcHRpb25zPVwie2ZpcnN0RGF5T2ZXZWVrOiAkY3VsdHVyZS5kYXRlVGltZUZvcm1hdC5GaXJzdERheU9mV2Vla31cIlxyXG5cdFx0XHRAY2xpY2s9XCJoYW5kbGVDbGlja1wiXHJcblx0XHRcdEBmb2N1cz1cImhhbmRsZUZvY3VzXCJcclxuXHRcdFx0QGJsdXI9XCJoYW5kbGVCbHVyXCJcclxuXHRcdFx0QGlucHV0PVwiaGFuZGxlSW5wdXRcIlxyXG5cdFx0XHRAY2hhbmdlPVwiaGFuZGxlQ2hhbmdlXCJcclxuXHRcdFx0QHZpc2libGUtY2hhbmdlPVwiaGFuZGxlUGlja2VyVmlzaWJsZUNoYW5nZVwiXHJcblx0XHRcdEBwaWNrZXJQb3NpdGlvbj1cImhhbmRsZVByZUZvY3VzXCJcclxuXHRcdD5cclxuXHRcdFx0PHRlbXBsYXRlICNzdWZmaXg+XHJcblx0XHRcdFx0PHNwYW4gQGNsaWNrPVwiaGFuZGxlSWNvbkNsaWNrXCIgQG1vdXNlZG93bj1cImhhbmRsZUljb25Nb3VzZWRvd25cIj5cclxuXHRcdFx0XHRcdDxpLWNhbGVuZGFyIC8+XHJcblx0XHRcdFx0PC9zcGFuPlxyXG5cdFx0XHQ8L3RlbXBsYXRlPlxyXG5cdFx0PC9jLWRhdGUtcGlja2VyPlxyXG5cdDwvZGl2PlxyXG48L3RlbXBsYXRlPlxyXG5cclxuPHNjcmlwdD5cclxuXHRpbXBvcnQgJ3NyYy9zdHlsZS9fcG9wcGVyLnNjc3MnO1xyXG5cdGltcG9ydCAnc3JjL3N0eWxlL19waWNrZXItcGFuZWwuc2Nzcyc7XHJcblx0aW1wb3J0ICdzcmMvc3R5bGUvX2lucHV0LWljb24uc2Nzcyc7XHJcblx0aW1wb3J0ICdzcmMvc3R5bGUvX3Njcm9sbGJhci5zY3NzJztcclxuXHRpbXBvcnQgJ3NyYy9zdHlsZS9fbW90aW9uLnNjc3MnO1xyXG5cclxuXHRpbXBvcnQgQ0RhdGVQaWNrZXIgZnJvbSAnLi9EYXRlUGlja2VyJztcclxuXHRpbXBvcnQgQ1BpY2tlck5hdGl2ZSBmcm9tICdzcmMvY29tcG9uZW50cy9QaWNrZXJOYXRpdmUudnVlJztcclxuXHRpbXBvcnQgZm9jdXMgZnJvbSAnc3JjL21peGlucy9mb2N1cyc7XHJcblx0aW1wb3J0IElDYWxlbmRhciBmcm9tICdzcmMvYXNzZXRzL2NhbGVuZGFyLnN2Zyc7XHJcblx0aW1wb3J0IHsgY29udmVydFRvRWxlbWVudERhdGVGb3JtYXQgfSBmcm9tICdzcmMvbG9jYWxpemF0aW9uL2VsZW1lbnQtZm9ybWF0LXRyYW5zbGF0aW9uJztcclxuXHRpbXBvcnQgeyBub3JtYWxpemUgfSBmcm9tICdAY29nbml0b2Zvcm1zL21vZGVsLmpzJztcclxuXHRpbXBvcnQgeyBlbnN1cmVNaW5IZWlnaHQgfSBmcm9tICcuL2Zvcm0tcmVzaXppbmcnO1xyXG5cdGltcG9ydCB7IGdldERldmljZVR5cGUgfSBmcm9tICdAY29nbml0b2Zvcm1zL3V0aWxzL3VzZXItYWdlbnQnO1xyXG5cdGltcG9ydCBzaG91bGRIaWRlRGF0ZVRpbWVJY29uIGZyb20gJ3NyYy91dGlsL3Nob3VsZEhpZGVEYXRlVGltZUljb24nO1xyXG5cclxuXHRjb25zdCBEQVRFX1BJQ0tFUl9IRUlHSFQgPSAzNTA7XHJcblx0ZXhwb3J0IGRlZmF1bHQge1xyXG5cdFx0bmFtZTogJ0NEYXRlJyxcclxuXHRcdGNvbXBvbmVudHM6IHsgSUNhbGVuZGFyLCBDUGlja2VyTmF0aXZlLCAnYy1kYXRlLXBpY2tlcic6IENEYXRlUGlja2VyIH0sXHJcblx0XHRtaXhpbnM6IFtmb2N1c10sXHJcblx0XHRpbmplY3Q6IHtcclxuXHRcdFx0Zm9ybUV2ZW50czoge30sICRmb3JtYXQ6IHt9LCAkcGFyc2U6IHt9LCAkZXhwYW5kRGF0ZUZvcm1hdDoge30sICRjdWx0dXJlOiB7fSxcclxuXHRcdFx0ZmxhZ3M6IHsgZGVmYXVsdDogKCkgPT4gKHt9KSB9XHJcblx0XHR9LFxyXG5cdFx0aW5oZXJpdEF0dHJzOiBmYWxzZSxcclxuXHRcdG1vZGVsOiB7XHJcblx0XHRcdHByb3A6ICd2YWx1ZScsXHJcblx0XHRcdGV2ZW50OiAnY2hhbmdlJ1xyXG5cdFx0fSxcclxuXHRcdHByb3BzOiB7XHJcblx0XHRcdHZhbHVlOiB7IHR5cGU6IFN0cmluZywgZGVmYXVsdDogbnVsbCB9LFxyXG5cdFx0XHRmb3JtYXQ6IHsgdHlwZTogU3RyaW5nLCBkZWZhdWx0OiAnZCcgfSxcclxuXHRcdFx0cGxhY2Vob2xkZXI6IHsgdHlwZTogU3RyaW5nLCBkZWZhdWx0OiBudWxsIH0sXHJcblx0XHRcdHJlYWRvbmx5OiBCb29sZWFuLFxyXG5cdFx0XHRjaGFtZWxlb246IEJvb2xlYW4sXHJcblx0XHRcdG1vYmlsZTogQm9vbGVhbixcclxuXHRcdFx0aWQ6IHsgdHlwZTogU3RyaW5nLCBkZWZhdWx0OiBudWxsIH0sXHJcblx0XHRcdHNjb3BlOiB7IHR5cGU6IFN0cmluZywgZGVmYXVsdDogJzAnIH0sXHJcblx0XHRcdG1pbjogeyB0eXBlOiBEYXRlLCBkZWZhdWx0OiBudWxsIH0sXHJcblx0XHRcdG1heDogeyB0eXBlOiBEYXRlLCBkZWZhdWx0OiBudWxsIH1cclxuXHRcdH0sXHJcblx0XHRkYXRhKCkge1xyXG5cdFx0XHRyZXR1cm4ge1xyXG5cdFx0XHRcdGRhdGVWYWx1ZTogbnVsbCxcclxuXHRcdFx0XHR0ZXh0VmFsdWU6IHRoaXMudmFsdWUsXHJcblx0XHRcdFx0dW5wYXJzZWRWYWx1ZTogdGhpcy52YWx1ZSxcclxuXHRcdFx0XHRuYXRpdmVUZXh0VmFsdWU6ICcnLFxyXG5cdFx0XHRcdGlzQ2xvc2luZzogZmFsc2UsXHJcblx0XHRcdFx0aXNSZWNlbnRJT1M6IGdldERldmljZVR5cGUod2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQpID09PSAnbWFjLWRlc2t0b3AnICYmICdvbnRvdWNoc3RhcnQnIGluIHdpbmRvdyxcclxuXHRcdFx0XHRkYXRlVGltZUljb25Jc0hpZGRlbjogZmFsc2VcclxuXHRcdFx0fTtcclxuXHRcdH0sXHJcblx0XHRjb21wdXRlZDoge1xyXG5cdFx0XHRlbGVtZW50Rm9ybWF0OiBmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRyZXR1cm4gY29udmVydFRvRWxlbWVudERhdGVGb3JtYXQodGhpcy5tb2RlbEZvcm1hdCk7XHJcblx0XHRcdH0sXHJcblx0XHRcdG1vZGVsRm9ybWF0OiBmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRyZXR1cm4gdGhpcy4kZXhwYW5kRGF0ZUZvcm1hdCh0aGlzLmZvcm1hdCk7XHJcblx0XHRcdH0sXHJcblx0XHRcdG5vcm1hbGl6ZWRNaW46IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdHJldHVybiB0aGlzLm1pbiA/IG5vcm1hbGl6ZSh0aGlzLm1pbiwgJ2QnKSA6IG51bGw7XHJcblx0XHRcdH0sXHJcblx0XHRcdG5vcm1hbGl6ZWRNYXg6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdHJldHVybiB0aGlzLm1heCA/IG5vcm1hbGl6ZSh0aGlzLm1heCwgJ2QnKSA6IG51bGw7XHJcblx0XHRcdH0sXHJcblx0XHRcdGRlZmF1bHRWYWx1ZTogZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0aWYgKHRoaXMubWluIHx8IHRoaXMubWF4KSB7XHJcblx0XHRcdFx0XHRjb25zdCB0b2RheSA9IG5vcm1hbGl6ZShuZXcgRGF0ZSgpLCAnZCcpO1xyXG5cclxuXHRcdFx0XHRcdC8vIElmIHRoZSBtYXggZGF0ZSBpcyBiZWZvcmUgdG9kYXkgKHdoaWNoIG1lYW5zIHRoYXQgdG9kYXkgaXMgbm90IGEgdmFsaWQgZGF0ZSB0byBzZWxlY3QpLFxyXG5cdFx0XHRcdFx0Ly8gdGhlbiB1c2UgdGhlIG1heCBkYXRlIGFzIHRoZSBkZWZhdWx0IGluc3RlYWQgb2YgdG9kYXlcclxuXHRcdFx0XHRcdGlmICh0b2RheSA+IHRoaXMubm9ybWFsaXplZE1heClcclxuXHRcdFx0XHRcdFx0cmV0dXJuIHRoaXMubm9ybWFsaXplZE1heDtcclxuXHJcblx0XHRcdFx0XHQvLyBJZiB0aGUgbWluIGRhdGUgaXMgYWZ0ZXIgdG9kYXkgKHdoaWNoIG1lYW5zIHRoYXQgdG9kYXkgaXMgbm90IGEgdmFsaWQgZGF0ZSB0byBzZWxlY3QpLFxyXG5cdFx0XHRcdFx0Ly8gdGhlbiB1c2UgdGhlIG1pbiBkYXRlIGFzIHRoZSBkZWZhdWx0IGluc3RlYWQgb2YgdG9kYXlcclxuXHRcdFx0XHRcdGlmICh0b2RheSA8IHRoaXMubm9ybWFsaXplZE1pbilcclxuXHRcdFx0XHRcdFx0cmV0dXJuIHRoaXMubm9ybWFsaXplZE1pbjtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHRcdH1cclxuXHRcdH0sXHJcblx0XHR3YXRjaDoge1xyXG5cdFx0XHR2YWx1ZToge1xyXG5cdFx0XHRcdGltbWVkaWF0ZTogdHJ1ZSxcclxuXHRcdFx0XHRoYW5kbGVyKG5ld1ZhbHVlKSB7XHJcblx0XHRcdFx0XHR0aGlzLmRhdGVWYWx1ZSA9IG5ld1ZhbHVlID8gdGhpcy4kcGFyc2UoRGF0ZSwgbmV3VmFsdWUsIHRoaXMubW9kZWxGb3JtYXQpIDogbnVsbDtcclxuXHRcdFx0XHRcdHRoaXMudGV4dFZhbHVlID0gbmV3VmFsdWUgfHwgJyc7XHJcblx0XHRcdFx0XHR0aGlzLnVucGFyc2VkVmFsdWUgPSB0aGlzLmRhdGVWYWx1ZSA/IG51bGwgOiBuZXdWYWx1ZTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0sXHJcblx0XHRcdGRhdGVWYWx1ZToge1xyXG5cdFx0XHRcdGltbWVkaWF0ZTogdHJ1ZSxcclxuXHRcdFx0XHRoYW5kbGVyKGRhdGVWYWx1ZSkge1xyXG5cdFx0XHRcdFx0dGhpcy5uYXRpdmVUZXh0VmFsdWUgPSBkYXRlVmFsdWUgPyB0aGlzLiRmb3JtYXQoZGF0ZVZhbHVlLCAneXl5eS1NTS1kZCcpIDogJyc7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9LFxyXG5cdFx0YmVmb3JlRGVzdHJveSgpIHtcclxuXHRcdFx0d2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMuaGFuZGxlUmVzaXplKTtcclxuXHRcdH0sXHJcblx0XHRtb3VudGVkKCkge1xyXG5cdFx0XHQvLyBXaGVuIHNlbGVjdGluZyBhIGRhdGUgaW4gYSB0YWJsZSwgdGhlIGRhdGUgaWNvbiBjYW4gb3ZlcmxhcCB0aGUgdGV4dCAoIzEyMzE1KVxyXG5cdFx0XHRjb25zdCBkYXRlRmllbGRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgndGQuY29nLWRhdGUnKTtcclxuXHRcdFx0ZGF0ZUZpZWxkcy5mb3JFYWNoKGRhdGUgPT4ge1xyXG5cdFx0XHRcdGlmIChkYXRlLm9mZnNldFdpZHRoIDw9IDEwMCkge1xyXG5cdFx0XHRcdFx0Y29uc3QgY2FsSWNvbiA9IEFycmF5LmZyb20oZGF0ZS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdjb2ctaS1jYWxlbmRhcicpKTtcclxuXHRcdFx0XHRcdGNhbEljb24uZm9yRWFjaChpY29uID0+IHtcclxuXHRcdFx0XHRcdFx0aWNvbi5jbGFzc0xpc3QuYWRkKCdpcy1oaWRkZW4nKTtcclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHRjb25zdCBpbnB1dCA9IHRoaXMuJGVsLnF1ZXJ5U2VsZWN0b3IoJy5jb2ctZGF0ZS0tZGF0ZSBpbnB1dFt0eXBlPVwidGV4dFwiXScpO1xyXG5cdFx0XHRpZiAoaW5wdXQgJiYgdGhpcy5pc1JlY2VudElPUykge1xyXG5cdFx0XHRcdGlucHV0LnNldEF0dHJpYnV0ZSgncmVhZG9ubHknLCAncmVhZG9ubHknKTtcclxuXHRcdFx0XHRpbnB1dC5zZXRBdHRyaWJ1dGUoJ2FyaWEtcmVhZG9ubHknLCAnZmFsc2UnKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0dGhpcy5kYXRlVGltZUljb25Jc0hpZGRlbiA9IHNob3VsZEhpZGVEYXRlVGltZUljb24odGhpcy5tb2JpbGUsIHRoaXMubmF0aXZlVGV4dFZhbHVlLCB0aGlzLiRyZWZzLmlucHV0KTtcclxuXHRcdFx0d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMuaGFuZGxlUmVzaXplKTtcclxuXHRcdH0sXHJcblx0XHRtZXRob2RzOiB7XHJcblx0XHRcdGhhbmRsZVByZUZvY3VzKHBpY2tlclBvc2l0aW9uKSB7XHJcblx0XHRcdFx0aWYgKHRoaXMuZm9ybUV2ZW50cykge1xyXG5cdFx0XHRcdFx0Y29uc3QgZm9ybUhlaWdodCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQ7XHJcblx0XHRcdFx0XHRjb25zdCBwaWNrZXJCb3R0b21Cb3VuZHMgPSBwaWNrZXJQb3NpdGlvbi5ib3R0b20gKyBEQVRFX1BJQ0tFUl9IRUlHSFQ7XHJcblx0XHRcdFx0XHQvLyBJZiB0aGVyZSdzIG5vIHJvb20gb24gdG9wIG5vciBib3R0b20gb2YgdGhlIGZvcm0gZm9yIHRoaWUgcGlja2VyXHJcblx0XHRcdFx0XHRpZiAocGlja2VyUG9zaXRpb24udG9wIDwgREFURV9QSUNLRVJfSEVJR0hUICYmIHBpY2tlckJvdHRvbUJvdW5kcyA+IGZvcm1IZWlnaHQpIHtcclxuXHRcdFx0XHRcdFx0Ly8gTWFrZSB0aGUgZm9ybSBiaWcgZW5vdWdoIHRvIGFjY29taWRhdGUgdGhlIHBpY2tlciBvbiB0aGUgYm90dG9tXHJcblx0XHRcdFx0XHRcdGNvbnN0IG1pbkhlaWdodCA9IHBpY2tlckJvdHRvbUJvdW5kcztcclxuXHRcdFx0XHRcdFx0ZW5zdXJlTWluSGVpZ2h0KHRoaXMuZm9ybUV2ZW50cywgbWluSGVpZ2h0KTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH0sXHJcblx0XHRcdGhhbmRsZU91dGVyQ2xpY2soZXZ0KSB7XHJcblx0XHRcdFx0Ly8gU2luY2UgdGhlIHBpY2tlciB3b24ndCBhdXRvbWF0aWNhbGx5IGV4cGFuZCB3aGVuIGZvY3Vzc2VkLCB0aGVuIGhhbmRsZSBvcGVuL2Nsb3NlIHdoZW4gdGhlIGVkaXRvci9waWNrZXIgaXMgY2xpY2tlZCBieSBtb3VzZVxyXG5cdFx0XHRcdGNvbnN0IHBpY2tlciA9IHRoaXMuJHJlZnMucGlja2VyO1xyXG5cdFx0XHRcdGlmIChwaWNrZXIpIHtcclxuXHRcdFx0XHRcdHRoaXMuaGFuZGxlQ2xpY2soZXZ0KTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0sXHJcblx0XHRcdGhhbmRsZUZvY3VzKGV2KSB7XHJcblx0XHRcdFx0dGhpcy5hZGRDbGFzc09uRm9jdXMoKTtcclxuXHRcdFx0XHR0aGlzLiRlbWl0KCdmb2N1cycsIGV2KTtcclxuXHRcdFx0XHRjb25zdCBpbnB1dCA9IHRoaXMuJGVsLnF1ZXJ5U2VsZWN0b3IoJy5jb2ctZGF0ZS0tZGF0ZSBpbnB1dFt0eXBlPVwidGV4dFwiXScpO1xyXG5cdFx0XHRcdGlmIChpbnB1dCAmJiB0aGlzLmlzUmVjZW50SU9TKSB7XHJcblx0XHRcdFx0XHRpbnB1dC5zZXRBdHRyaWJ1dGUoJ3JlYWRvbmx5JywgJ3JlYWRvbmx5Jyk7XHJcblx0XHRcdFx0XHRyZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCk9PntcclxuXHRcdFx0XHRcdFx0aW5wdXQucmVtb3ZlQXR0cmlidXRlKCdyZWFkb25seScpO1xyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9LFxyXG5cdFx0XHRoYW5kbGVCbHVyKGV2KSB7XHJcblx0XHRcdFx0Ly8gSWdub3JlIHRoZSBibHVyIGV2ZW50IGlmIHRoZSBwaWNrZXIgaXMgZ29pbmcgdG8gaW1tZWRpYXRlbHkgcmVzdG9yZSBmb2N1cyB0byB0aGUgaW5wdXQgKGV4OiBoaXR0aW5nIEVzY2FwZSBvciBBbHQrVXApXHJcblx0XHRcdFx0Y29uc3QgcGlja2VyID0gdGhpcy4kcmVmcy5waWNrZXI7XHJcblx0XHRcdFx0Y29uc3QgaW5wdXQgPSB0aGlzLiRlbC5xdWVyeVNlbGVjdG9yKCcuY29nLWRhdGUtLWRhdGUgaW5wdXRbdHlwZT1cInRleHRcIl0nKTtcclxuXHRcdFx0XHRpZiAocGlja2VyICYmIHBpY2tlci53aWxsUmVzdG9yZUZvY3VzKSB7XHJcblx0XHRcdFx0XHRpZiAoaW5wdXQgJiYgdGhpcy5pc1JlY2VudElPUylcclxuXHRcdFx0XHRcdFx0aW5wdXQucmVtb3ZlQXR0cmlidXRlKCdyZWFkb25seScpO1xyXG5cdFx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0aWYgKGlucHV0ICYmIHRoaXMuaXNSZWNlbnRJT1MpXHJcblx0XHRcdFx0XHRpbnB1dC5zZXRBdHRyaWJ1dGUoJ3JlYWRvbmx5JywgJ3JlYWRvbmx5Jyk7XHJcblxyXG5cdFx0XHRcdC8vIFR1cm4gb2ZmIHRoZSBmb2N1c2VkIHN0YXRlIGFuZCByYWlzZSBhIGJsdXIgZXZlbnRcclxuXHRcdFx0XHR0aGlzLnJlbW92ZUNsYXNzT25CbHVyKCk7XHJcblx0XHRcdFx0dGhpcy4kZW1pdCgnYmx1cicsIGV2KTtcclxuXHRcdFx0fSxcclxuXHRcdFx0aGFuZGxlQ2xpY2soZXZ0KSB7XHJcblx0XHRcdFx0Y29uc3QgcGlja2VyID0gdGhpcy4kcmVmcy5waWNrZXI7XHJcblx0XHRcdFx0cGlja2VyLmhhbmRsZUZvY3VzKGV2dCk7XHJcblx0XHRcdFx0ZXZ0LnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cdFx0XHR9LFxyXG5cdFx0XHRoYW5kbGVJY29uQ2xpY2soZXZ0KSB7XHJcblx0XHRcdFx0Y29uc3QgcGlja2VyID0gdGhpcy4kcmVmcy5waWNrZXI7XHJcblx0XHRcdFx0aWYgKCFwaWNrZXIucGlja2VyVmlzaWJsZSkge1xyXG5cdFx0XHRcdFx0cGlja2VyLiRlbC5xdWVyeVNlbGVjdG9yKCdpbnB1dCcpLmZvY3VzKCk7XHJcblx0XHRcdFx0XHRwaWNrZXIuaGFuZGxlRm9jdXMoZXZ0KTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0ZWxzZSB7XHJcblx0XHRcdFx0XHRwaWNrZXIuc29mdENsb3NlKCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHRcdFx0fSxcclxuXHRcdFx0aGFuZGxlSWNvbk1vdXNlZG93bihldnQpIHtcclxuXHRcdFx0XHQvLyBwcmV2ZW50IGJsdXJyaW5nIG9mIHRoZSBkYXRlIGZpZWxkIHdoZW4gY2xpY2tpbmcgdGhlIGljb25cclxuXHRcdFx0XHRldnQucHJldmVudERlZmF1bHQoKTtcclxuXHRcdFx0fSxcclxuXHRcdFx0aGFuZGxlSW5wdXQodmFsdWUsIHVucGFyc2VkVmFsdWUpIHtcclxuXHRcdFx0XHRpZiAodmFsdWUgJiYgdW5wYXJzZWRWYWx1ZSlcclxuXHRcdFx0XHRcdHVucGFyc2VkVmFsdWUgPSBudWxsO1xyXG5cclxuXHRcdFx0XHRpZiAodGhpcy4kcmVmcy5waWNrZXIgJiYgdGhpcy4kcmVmcy5waWNrZXIudXNlcklucHV0ID09PSBudWxsKSB7XHJcblx0XHRcdFx0XHRjb25zdCB0ZXh0VmFsdWUgPSB1bnBhcnNlZFZhbHVlIHx8ICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnID8gdmFsdWUgOiB2YWx1ZSBpbnN0YW5jZW9mIERhdGUgPyB0aGlzLiRmb3JtYXQodmFsdWUsIHRoaXMubW9kZWxGb3JtYXQpIDogJycpO1xyXG5cdFx0XHRcdFx0Y29uc3QgZGF0ZVZhbHVlID0gdW5wYXJzZWRWYWx1ZSA/IG51bGwgOiB0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnID8gdGhpcy4kcGFyc2UoRGF0ZSwgdmFsdWUsIHRoaXMubW9kZWxGb3JtYXQpIDogdmFsdWUgfHwgbnVsbDtcclxuXHRcdFx0XHRcdHRoaXMudGV4dFZhbHVlID0gdGV4dFZhbHVlO1xyXG5cdFx0XHRcdFx0dGhpcy5kYXRlVmFsdWUgPSBkYXRlVmFsdWU7XHJcblx0XHRcdFx0XHRpZiAodW5wYXJzZWRWYWx1ZSkge1xyXG5cdFx0XHRcdFx0XHR0aGlzLiRlbWl0KCdjaGFuZ2UnLCB1bnBhcnNlZFZhbHVlKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdGVsc2UgaWYgKHRleHRWYWx1ZSkge1xyXG5cdFx0XHRcdFx0XHR0aGlzLiRlbWl0KCdjaGFuZ2UnLCB0ZXh0VmFsdWUpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0ZWxzZSB7XHJcblx0XHRcdFx0XHRcdHRoaXMuJGVtaXQoJ2NoYW5nZScsIG51bGwpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSxcclxuXHRcdFx0aGFuZGxlQ2hhbmdlKHZhbHVlLCB1bnBhcnNlZFZhbHVlKSB7XHJcblx0XHRcdFx0Y29uc3QgdGV4dFZhbHVlID0gdW5wYXJzZWRWYWx1ZSB8fCAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJyA/IHZhbHVlIDogdmFsdWUgaW5zdGFuY2VvZiBEYXRlID8gdGhpcy4kZm9ybWF0KHZhbHVlLCB0aGlzLm1vZGVsRm9ybWF0KSA6ICcnKTtcclxuXHRcdFx0XHRjb25zdCBkYXRlVmFsdWUgPSB1bnBhcnNlZFZhbHVlID8gbnVsbCA6IHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycgPyB0aGlzLiRwYXJzZShEYXRlLCB2YWx1ZSwgdGhpcy5tb2RlbEZvcm1hdCkgOiB2YWx1ZSB8fCBudWxsO1xyXG5cdFx0XHRcdHRoaXMudGV4dFZhbHVlID0gdGV4dFZhbHVlO1xyXG5cdFx0XHRcdHRoaXMuZGF0ZVZhbHVlID0gZGF0ZVZhbHVlO1xyXG5cdFx0XHRcdGlmICh1bnBhcnNlZFZhbHVlKSB7XHJcblx0XHRcdFx0XHR0aGlzLiRlbWl0KCdjaGFuZ2UnLCB1bnBhcnNlZFZhbHVlKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0ZWxzZSBpZiAodmFsdWUpIHtcclxuXHRcdFx0XHRcdHRoaXMuJGVtaXQoJ2NoYW5nZScsIHRleHRWYWx1ZSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGVsc2Uge1xyXG5cdFx0XHRcdFx0dGhpcy4kZW1pdCgnY2hhbmdlJywgbnVsbCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9LFxyXG5cdFx0XHRoYW5kbGVOYXRpdmVDaGFuZ2UoZXYpIHtcclxuXHRcdFx0XHRjb25zdCBkYXRlVmFsdWUgPSBldi50YXJnZXQudmFsdWUgPyB0aGlzLiRwYXJzZShEYXRlLCBldi50YXJnZXQudmFsdWUsICd5eXl5LU1NLWRkJykgOiBudWxsO1xyXG5cdFx0XHRcdGNvbnN0IHRleHRWYWx1ZSA9IGRhdGVWYWx1ZSA/IHRoaXMuJGZvcm1hdChkYXRlVmFsdWUsIHRoaXMubW9kZWxGb3JtYXQpIDogbnVsbDtcclxuXHJcblx0XHRcdFx0dGhpcy5uYXRpdmVUZXh0VmFsdWUgPSBldi50YXJnZXQudmFsdWU7XHJcblx0XHRcdFx0dGhpcy50ZXh0VmFsdWUgPSB0ZXh0VmFsdWU7XHJcblx0XHRcdFx0dGhpcy5kYXRlVmFsdWUgPSBkYXRlVmFsdWU7XHJcblx0XHRcdFx0dGhpcy4kZW1pdCgnY2hhbmdlJywgdGV4dFZhbHVlKTtcclxuXHRcdFx0XHR0aGlzLmRhdGVUaW1lSWNvbklzSGlkZGVuID0gc2hvdWxkSGlkZURhdGVUaW1lSWNvbih0aGlzLm1vYmlsZSwgdGhpcy5uYXRpdmVUZXh0VmFsdWUsIHRoaXMuJHJlZnMuaW5wdXQpO1xyXG5cdFx0XHR9LFxyXG5cdFx0XHRoYW5kbGVQaWNrZXJWaXNpYmxlQ2hhbmdlKHZpc2libGUpIHtcclxuXHRcdFx0XHRpZiAoIXZpc2libGUpIHtcclxuXHRcdFx0XHRcdGVuc3VyZU1pbkhlaWdodCh0aGlzLmZvcm1FdmVudHMsIDApO1xyXG5cdFx0XHRcdFx0Ly8gV2hlbiB0aGUgcGlja2VyIGlzIGNsb3NlZCwgcmVzZXQgaXQgc28gdGhhdCBpdCBnb2VzIGJhY2sgdG8gaXRzIGRlZmF1bHQgc3RhdGUvbG9jYXRpb25cclxuXHRcdFx0XHRcdC8vIFVzZSBhIGBzZXRUaW1lb3V0YCBzbyB0aGF0IHRoZXJlIGlzbid0IGEgbm90aWNlYWJsZSB0cmFuc2l0aW9uIGFzIHRoZSBwaWNrZXIgaXMgY2xvc2luZ1xyXG5cdFx0XHRcdFx0c2V0VGltZW91dCgoKSA9PiB7XHJcblx0XHRcdFx0XHRcdGlmICh0aGlzLiRyZWZzLnBpY2tlciAmJiB0aGlzLiRyZWZzLnBpY2tlci5waWNrZXIpXHJcblx0XHRcdFx0XHRcdFx0dGhpcy4kcmVmcy5waWNrZXIucGlja2VyLnJlc2V0RGF0ZSgpO1xyXG5cdFx0XHRcdFx0fSwgMTAwKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0ZWxzZSBpZiAodGhpcy5taW4gJiYgbmV3IERhdGUodGhpcy5taW4pID4gbmV3IERhdGUoKSlcclxuXHRcdFx0XHRcdHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKT0+e1xyXG5cdFx0XHRcdFx0XHR0aGlzLiRyZWZzLnBpY2tlci5waWNrZXIuZGF0ZSA9IHRoaXMubWluO1xyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdH0sXHJcblx0XHRcdGhhbmRsZVJlc2l6ZSgpIHtcclxuXHRcdFx0XHR0aGlzLmRhdGVUaW1lSWNvbklzSGlkZGVuID0gc2hvdWxkSGlkZURhdGVUaW1lSWNvbih0aGlzLm1vYmlsZSwgdGhpcy5uYXRpdmVUZXh0VmFsdWUsIHRoaXMuJHJlZnMuaW5wdXQpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fTtcclxuPC9zY3JpcHQ+XHJcblxyXG48c3R5bGUgbGFuZz1cInNjc3NcIj5cclxuI3skc3BlY2lmaWNpdHktYmFzZX0ge1xyXG5cclxuXHQuY29nLWRhdGUgLmNvZy1pLWNhbGVuZGFyIHtcclxuXHJcblx0XHRnIHtcclxuXHRcdFx0c3Ryb2tlLXdpZHRoOiBjYWxjKHZhcigtLWljb24td2VpZ2h0KSAqIDEuMXB4KTtcclxuXHRcdH1cclxuXHJcblx0XHQmX19ydWxlIHtcclxuXHRcdFx0b3BhY2l0eTogLjU7XHJcblx0XHRcdHN0cm9rZS13aWR0aDogdmFyKC0taWNvbi13ZWlnaHQpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0LmNvZy1kYXRlLXBpY2tlciB7XHJcblx0XHRtYXgtd2lkdGg6IDM2MHB4O1xyXG5cdFx0dGV4dC1hbGlnbjogY2VudGVyO1xyXG5cclxuXHRcdC5lbC1waWNrZXItcGFuZWxfX2NvbnRlbnQge1xyXG5cdFx0XHRtYXgtd2lkdGg6IDM0MHB4O1xyXG5cdFx0fVxyXG5cclxuXHRcdGEge1xyXG5cdFx0XHR0ZXh0LWRlY29yYXRpb246IG5vbmU7XHJcblx0XHR9XHJcblxyXG5cdFx0dGFibGUge1xyXG5cdFx0XHR3aWR0aDogMTAwJTtcclxuXHRcdFx0dGFibGUtbGF5b3V0OiBmaXhlZDtcclxuXHRcdH1cclxuXHJcblx0XHQuZWwtZGF0ZS1waWNrZXIge1xyXG5cclxuXHRcdFx0Jl9fZWRpdG9yLXdyYXAge1xyXG5cdFx0XHRcdGRpc3BsYXk6IHRhYmxlLWNlbGw7XHJcblx0XHRcdFx0cG9zaXRpb246IHJlbGF0aXZlO1xyXG5cdFx0XHRcdHBhZGRpbmc6IDAgNXB4O1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQmX19oZWFkZXIge1xyXG5cdFx0XHRcdGRpc3BsYXk6IGZsZXg7XHJcblx0XHRcdFx0YWxpZ24taXRlbXM6IGNlbnRlcjtcclxuXHRcdFx0XHRqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XHJcblx0XHRcdFx0bWFyZ2luOiAxMnB4IDE1cHg7XHJcblxyXG5cdFx0XHRcdGJ1dHRvbiB7XHJcblx0XHRcdFx0XHRwb3NpdGlvbjogcmVsYXRpdmU7XHJcblx0XHRcdFx0XHRib3JkZXI6IDFweCBzb2xpZCB0cmFuc3BhcmVudDtcclxuXHRcdFx0XHRcdGJvcmRlci1yYWRpdXM6IDUwJTtcclxuXHRcdFx0XHRcdG1hcmdpbi1yaWdodDogNHB4O1xyXG5cdFx0XHRcdFx0bWFyZ2luLWxlZnQ6IDRweDtcclxuXHRcdFx0XHRcdG91dGxpbmU6IDA7XHJcblxyXG5cdFx0XHRcdFx0Jjpmb2N1cyB7XHJcblx0XHRcdFx0XHRcdGJvcmRlci1jb2xvcjogdmFyKC0taGlnaGxpZ2h0KTtcclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHQmOjpiZWZvcmUsXHJcblx0XHRcdFx0XHQmW2NsYXNzKj0nZWwtaWNvbi1kJ106OmFmdGVyIHtcclxuXHRcdFx0XHRcdFx0ZGlzcGxheTogYmxvY2s7XHJcblx0XHRcdFx0XHRcdHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuXHRcdFx0XHRcdFx0dG9wOiAxNSU7XHJcblx0XHRcdFx0XHRcdHdpZHRoOiA2MCU7XHJcblx0XHRcdFx0XHRcdGhlaWdodDogNjAlO1xyXG5cdFx0XHRcdFx0XHRib3JkZXI6IGNhbGModmFyKC0taWNvbi13ZWlnaHQpICogM3B4KSBzb2xpZCB2YXIoLS1jb2xvcik7XHJcblx0XHRcdFx0XHRcdHRyYW5zZm9ybTogcm90YXRlKDQ1ZGVnKSBzY2FsZSguNik7XHJcblx0XHRcdFx0XHRcdGNvbnRlbnQ6ICcnO1xyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdCYuaXMtZGlzYWJsZWQ6OmJlZm9yZSxcclxuXHRcdFx0XHRcdCYuaXMtZGlzYWJsZWQ6OmFmdGVyIHtcclxuXHRcdFx0XHRcdFx0b3BhY2l0eTogLjM7XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0JltjbGFzcyo9J2VsLWljb24tZCddOjpiZWZvcmUge1xyXG5cdFx0XHRcdFx0XHRtYXJnaW4tbGVmdDogY2FsYyh2YXIoLS1pY29uLXdlaWdodCkgKiAtMXB4IC0gMnB4KTtcclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHQmW2NsYXNzKj0nZWwtaWNvbi1kJ106OmFmdGVyIHtcclxuXHRcdFx0XHRcdFx0bWFyZ2luLWxlZnQ6IGNhbGModmFyKC0taWNvbi13ZWlnaHQpICogMXB4ICsgMnB4KTtcclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHQmOm5vdCguaXMtZGlzYWJsZWQpOmhvdmVyIHtcclxuXHJcblx0XHRcdFx0XHRcdCY6OmJlZm9yZSxcclxuXHRcdFx0XHRcdFx0Jjo6YWZ0ZXIge1xyXG5cdFx0XHRcdFx0XHRcdGJvcmRlci1jb2xvcjogdmFyKC0taGlnaGxpZ2h0KTtcclxuXHRcdFx0XHRcdFx0XHRvcGFjaXR5OiAxO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHQuZWwtaWNvbi1hcnJvdy1sZWZ0IHtcclxuXHRcdFx0XHRcdG1hcmdpbi1yaWdodDogYXV0bztcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdC5lbC1pY29uLWFycm93LXJpZ2h0IHtcclxuXHRcdFx0XHRcdG1hcmdpbi1sZWZ0OiBhdXRvO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0LmVsLWljb24tZC1hcnJvdy1yaWdodCB7XHJcblx0XHRcdFx0XHRvcmRlcjogMTAwO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0LmVsLWRhdGUtcGlja2VyX19wcmV2LWJ0bjo6YmVmb3JlLFxyXG5cdFx0XHRcdC5lbC1pY29uLWQtYXJyb3ctbGVmdC5lbC1pY29uLWQtYXJyb3ctbGVmdDo6YWZ0ZXIge1xyXG5cdFx0XHRcdFx0bGVmdDogMjAlO1xyXG5cdFx0XHRcdFx0Ym9yZGVyLXRvcDogMDtcclxuXHRcdFx0XHRcdGJvcmRlci1yaWdodDogMDtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdC5lbC1kYXRlLXBpY2tlcl9fbmV4dC1idG46OmJlZm9yZSxcclxuXHRcdFx0XHQuZWwtaWNvbi1kLWFycm93LXJpZ2h0LmVsLWljb24tZC1hcnJvdy1yaWdodDo6YWZ0ZXIge1xyXG5cdFx0XHRcdFx0bGVmdDogNSU7XHJcblx0XHRcdFx0XHRib3JkZXItYm90dG9tOiAwO1xyXG5cdFx0XHRcdFx0Ym9yZGVyLWxlZnQ6IDA7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHQuZWwtcGlja2VyLXBhbmVsX19pY29uLWJ0bi5pcy1kaXNhYmxlZCB7XHJcblx0XHRcdFx0XHRjdXJzb3I6IG5vdC1hbGxvd2VkO1xyXG5cdFx0XHRcdFx0Y29sb3I6IGhzbGEodmFyKC0tYmFja2dyb3VuZC1oc2wpLCAxKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdCZfX2hlYWRlci1sYWJlbCB7XHJcblx0XHRcdFx0cGFkZGluZzogMCA1cHg7XHJcblx0XHRcdFx0Y3Vyc29yOiBwb2ludGVyO1xyXG5cdFx0XHRcdGZvbnQtd2VpZ2h0OiA1MDA7XHJcblx0XHRcdFx0bGluZS1oZWlnaHQ6IDIycHg7XHJcblxyXG5cdFx0XHRcdCY6aG92ZXIsXHJcblx0XHRcdFx0Ji5hY3RpdmUge1xyXG5cdFx0XHRcdFx0Y29sb3I6IHZhcigtLWhpZ2hsaWdodCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQmX19wcmV2LWJ0biB7XHJcblx0XHRcdFx0ZmxvYXQ6IGxlZnQ7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdCZfX25leHQtYnRuIHtcclxuXHRcdFx0XHRmbG9hdDogcmlnaHQ7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHQuZWwtbW9udGgtdGFibGUsXHJcblx0XHQuZWwteWVhci10YWJsZSB7XHJcblx0XHRcdG1hcmdpbjogLTFweDtcclxuXHRcdFx0Ym9yZGVyLWNvbGxhcHNlOiBjb2xsYXBzZTtcclxuXHJcblx0XHRcdHRkIHtcclxuXHRcdFx0XHRwYWRkaW5nOiAyMHB4IDNweDtcclxuXHRcdFx0XHRjdXJzb3I6IHBvaW50ZXI7XHJcblxyXG5cdFx0XHRcdCYuaXMtZGlzYWJsZWQgLmVsLWRhdGUtcGlja2VyX19jZWxsIHtcclxuXHRcdFx0XHRcdGN1cnNvcjogbm90LWFsbG93ZWQ7XHJcblx0XHRcdFx0XHQvKiBzdHlsZWxpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY29sb3ItZnVuY3Rpb24tbm90YXRpb24gKi9cclxuXHRcdFx0XHRcdGNvbG9yOiBoc2xhKHZhcigtLWJhY2tncm91bmQtaHNsKSk7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHQuZWwtZGF0ZS1waWNrZXJfX2NlbGwge1xyXG5cdFx0XHRcdFx0ZGlzcGxheTogYmxvY2s7XHJcblx0XHRcdFx0XHR3aWR0aDogM2VtO1xyXG5cdFx0XHRcdFx0bWFyZ2luOiAwIGF1dG87XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0LmVsLWRhdGUtdGFibGUge1xyXG5cclxuXHRcdFx0dGQge1xyXG5cdFx0XHRcdHBvc2l0aW9uOiByZWxhdGl2ZTtcclxuXHRcdFx0XHR3aWR0aDogMzJweDtcclxuXHRcdFx0XHRoZWlnaHQ6IDMwcHg7XHJcblx0XHRcdFx0Ym94LXNpemluZzogYm9yZGVyLWJveDtcclxuXHRcdFx0XHRwYWRkaW5nOiA0cHggMDtcclxuXHRcdFx0XHRjdXJzb3I6IHBvaW50ZXI7XHJcblx0XHRcdFx0dGV4dC1hbGlnbjogY2VudGVyO1xyXG5cclxuXHRcdFx0XHRkaXYge1xyXG5cdFx0XHRcdFx0aGVpZ2h0OiAzMHB4O1xyXG5cdFx0XHRcdFx0Ym94LXNpemluZzogYm9yZGVyLWJveDtcclxuXHRcdFx0XHRcdHBhZGRpbmc6IDNweCAwO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0dGgge1xyXG5cdFx0XHRcdGJvcmRlci1ib3R0b206IHZhcigtLWJvcmRlci13aWR0aCkgdmFyKC0taW5wdXRfX2JvcmRlci1zdHlsZSkgaHNsYSh2YXIoLS1iYWNrZ3JvdW5kLWhzbCksIC4zNSk7XHJcblx0XHRcdFx0b3ZlcmZsb3c6IGhpZGRlbjtcclxuXHRcdFx0XHRwYWRkaW5nOiA1cHg7XHJcblx0XHRcdFx0Zm9udC13ZWlnaHQ6IDQwMDtcclxuXHRcdFx0XHR3b3JkLXdyYXA6IGluaXRpYWw7XHJcblx0XHRcdFx0b3ZlcmZsb3ctd3JhcDogaW5pdGlhbDtcclxuXHRcdFx0XHR0ZXh0LW92ZXJmbG93OiBlbGxpcHNpcztcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0LmVsLWRhdGUtcGlja2VyX19jZWxsIHtcclxuXHRcdFx0XHRwb3NpdGlvbjogYWJzb2x1dGU7XHJcblx0XHRcdFx0bGVmdDogNTAlO1xyXG5cdFx0XHRcdHdpZHRoOiAxLjhlbTtcclxuXHRcdFx0XHRoZWlnaHQ6IDEuOGVtO1xyXG5cdFx0XHRcdGJvcmRlci1yYWRpdXM6IDUwJTtcclxuXHRcdFx0XHRtYXJnaW46IDAgYXV0bztcclxuXHRcdFx0XHR0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoLTUwJSk7XHJcblx0XHRcdFx0bGluZS1oZWlnaHQ6IDEuOGVtO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0LmlzLWN1cnJlbnQge1xyXG5cdFx0XHRwb3NpdGlvbjogcmVsYXRpdmU7XHJcblxyXG5cdFx0XHQuZWwtZGF0ZS1waWNrZXJfX2NlbGwge1xyXG5cdFx0XHRcdGNvbG9yOiB2YXIoLS1oaWdobGlnaHQpO1xyXG5cdFx0XHRcdGZvbnQtd2VpZ2h0OiBib2xkO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0LmlzLXNlbGVjdGFibGU6aG92ZXIge1xyXG5cdFx0XHRjb2xvcjogdmFyKC0taGlnaGxpZ2h0KTtcclxuXHRcdH1cclxuXHJcblx0XHQuaXMtc2VsZWN0ZWQ6bm90KC5pcy1kaXNhYmxlZCkge1xyXG5cclxuXHRcdFx0LmVsLWRhdGUtcGlja2VyX19jZWxsIHtcclxuXHRcdFx0XHRkaXNwbGF5OiBibG9jaztcclxuXHRcdFx0XHRiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1oaWdobGlnaHQpO1xyXG5cclxuXHRcdFx0XHQvLyBHaXZlIHNvbWUgZXh0cmEgc3BhY2UgYXJvdW5kIG51bWJlcnMsIGl0IGlzIGVzcGVjaWFsbHkgdGlnaHQgd2l0aCBiaWcgZm9udCBzaXplcy5cclxuXHRcdFx0XHRib3gtc2hhZG93OiAwIDAgMCAzcHggdmFyKC0taGlnaGxpZ2h0KTtcclxuXHRcdFx0XHRjb2xvcjogdmFyKC0taGlnaGxpZ2h0LXJldmVyc2UpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0LmlzLW11dGVkLFxyXG5cdFx0LmlzLWRpc2FibGVkIHtcclxuXHRcdFx0Y29sb3I6IGhzbGEodmFyKC0tYmFja2dyb3VuZC1oc2wpLCAuNik7XHJcblx0XHR9XHJcblxyXG5cdFx0LmlzLW11dGVkLmlzLWRpc2FibGVkIHtcclxuXHRcdFx0Y29sb3I6IGhzbGEodmFyKC0tYmFja2dyb3VuZC1oc2wpLCAuMik7XHJcblx0XHR9XHJcblxyXG5cdFx0LmlzLWRpc2FibGVkIHtcclxuXHRcdFx0YmFja2dyb3VuZC1jb2xvcjogJGJnQ29sb3I7XHJcblx0XHRcdGN1cnNvcjogbm90LWFsbG93ZWQ7XHJcblx0XHR9XHJcblx0fVxyXG59XHJcbjwvc3R5bGU+XHJcbiIsImV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vY3NzLWxvYWRlckAzLjIuMF93ZWJwYWNrQDQuNDYuMC9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzXCIpKGZhbHNlKTtcbi8vIE1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiaHRtbCAuY29nLWNvZ25pdG8uZWwtcGlja2VyLXBhbmVsLCA6cm9vdDpyb290OnJvb3Q6cm9vdDpyb290IC5jb2ctY29nbml0by5lbC1waWNrZXItcGFuZWwge1xcbiAgbWFyZ2luOiA1cHggMDtcXG4gIGxpbmUtaGVpZ2h0OiAzMHB4O1xcbiAgdHJhbnNpdGlvbjogdHJhbnNmb3JtIGNhbGModmFyKC0tc3BlZWQpIC8gNCksIG9wYWNpdHkgY2FsYyh2YXIoLS1zcGVlZCkgLyA0KTtcXG59XFxuaHRtbCAuY29nLWNvZ25pdG8gLmVsLXBpY2tlci1wYW5lbF9fYm9keTo6YWZ0ZXIsIGh0bWwgLmNvZy1jb2duaXRvIC5lbC1waWNrZXItcGFuZWxfX2JvZHktd3JhcHBlcjo6YWZ0ZXIsIDpyb290OnJvb3Q6cm9vdDpyb290OnJvb3QgLmNvZy1jb2duaXRvIC5lbC1waWNrZXItcGFuZWxfX2JvZHk6OmFmdGVyLCA6cm9vdDpyb290OnJvb3Q6cm9vdDpyb290IC5jb2ctY29nbml0byAuZWwtcGlja2VyLXBhbmVsX19ib2R5LXdyYXBwZXI6OmFmdGVyIHtcXG4gIGRpc3BsYXk6IHRhYmxlO1xcbiAgY2xlYXI6IGJvdGg7XFxuICBjb250ZW50OiBcXFwiXFxcIjtcXG59XFxuaHRtbCAuY29nLWNvZ25pdG8gLmVsLXBpY2tlci1wYW5lbF9fY29udGVudCwgOnJvb3Q6cm9vdDpyb290OnJvb3Q6cm9vdCAuY29nLWNvZ25pdG8gLmVsLXBpY2tlci1wYW5lbF9fY29udGVudCB7XFxuICBwb3NpdGlvbjogcmVsYXRpdmU7XFxuICBtYXJnaW46IDE1cHg7XFxufVxcbmh0bWwgLmNvZy1jb2duaXRvIC5lbC1waWNrZXItcGFuZWxfX2ljb24tYnRuLCA6cm9vdDpyb290OnJvb3Q6cm9vdDpyb290IC5jb2ctY29nbml0byAuZWwtcGlja2VyLXBhbmVsX19pY29uLWJ0biB7XFxuICB3aWR0aDogMS41ZW07XFxuICBoZWlnaHQ6IDEuNWVtO1xcbiAgbWFyZ2luLXRvcDogMC4yNWVtO1xcbiAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7XFxuICBib3JkZXI6IDA7XFxuICBwYWRkaW5nOiAwO1xcbiAgZm9udC1zaXplOiBpbmhlcml0O1xcbn1cXG5odG1sIC5jb2ctY29nbml0byAuZWwtcGlja2VyLXBhbmVsX19pY29uLWJ0biAuaXMtZGlzYWJsZWQsIDpyb290OnJvb3Q6cm9vdDpyb290OnJvb3QgLmNvZy1jb2duaXRvIC5lbC1waWNrZXItcGFuZWxfX2ljb24tYnRuIC5pcy1kaXNhYmxlZCB7XFxuICBjdXJzb3I6IG5vdC1hbGxvd2VkO1xcbiAgb3BhY2l0eTogMC42O1xcbn1cXG5odG1sIC5jb2ctY29nbml0byAuZWwtcGlja2VyLXBhbmVsX19pY29uLWJ0bl9fbGluay1idG4sIDpyb290OnJvb3Q6cm9vdDpyb290OnJvb3QgLmNvZy1jb2duaXRvIC5lbC1waWNrZXItcGFuZWxfX2ljb24tYnRuX19saW5rLWJ0biB7XFxuICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlO1xcbn1cIiwgXCJcIl0pO1xuIiwiZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9jc3MtbG9hZGVyQDMuMi4wX3dlYnBhY2tANC40Ni4wL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanNcIikoZmFsc2UpO1xuLy8gTW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCJodG1sIC5jb2ctZGF0ZSAuY29nLWktY2FsZW5kYXIgZywgOnJvb3Q6cm9vdDpyb290OnJvb3Q6cm9vdCAuY29nLWRhdGUgLmNvZy1pLWNhbGVuZGFyIGcge1xcbiAgc3Ryb2tlLXdpZHRoOiBjYWxjKHZhcigtLWljb24td2VpZ2h0KSAqIDEuMXB4KTtcXG59XFxuaHRtbCAuY29nLWRhdGUgLmNvZy1pLWNhbGVuZGFyX19ydWxlLCA6cm9vdDpyb290OnJvb3Q6cm9vdDpyb290IC5jb2ctZGF0ZSAuY29nLWktY2FsZW5kYXJfX3J1bGUge1xcbiAgb3BhY2l0eTogMC41O1xcbiAgc3Ryb2tlLXdpZHRoOiB2YXIoLS1pY29uLXdlaWdodCk7XFxufVxcbmh0bWwgLmNvZy1kYXRlLXBpY2tlciwgOnJvb3Q6cm9vdDpyb290OnJvb3Q6cm9vdCAuY29nLWRhdGUtcGlja2VyIHtcXG4gIG1heC13aWR0aDogMzYwcHg7XFxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxufVxcbmh0bWwgLmNvZy1kYXRlLXBpY2tlciAuZWwtcGlja2VyLXBhbmVsX19jb250ZW50LCA6cm9vdDpyb290OnJvb3Q6cm9vdDpyb290IC5jb2ctZGF0ZS1waWNrZXIgLmVsLXBpY2tlci1wYW5lbF9fY29udGVudCB7XFxuICBtYXgtd2lkdGg6IDM0MHB4O1xcbn1cXG5odG1sIC5jb2ctZGF0ZS1waWNrZXIgYSwgOnJvb3Q6cm9vdDpyb290OnJvb3Q6cm9vdCAuY29nLWRhdGUtcGlja2VyIGEge1xcbiAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xcbn1cXG5odG1sIC5jb2ctZGF0ZS1waWNrZXIgdGFibGUsIDpyb290OnJvb3Q6cm9vdDpyb290OnJvb3QgLmNvZy1kYXRlLXBpY2tlciB0YWJsZSB7XFxuICB3aWR0aDogMTAwJTtcXG4gIHRhYmxlLWxheW91dDogZml4ZWQ7XFxufVxcbmh0bWwgLmNvZy1kYXRlLXBpY2tlciAuZWwtZGF0ZS1waWNrZXJfX2VkaXRvci13cmFwLCA6cm9vdDpyb290OnJvb3Q6cm9vdDpyb290IC5jb2ctZGF0ZS1waWNrZXIgLmVsLWRhdGUtcGlja2VyX19lZGl0b3Itd3JhcCB7XFxuICBkaXNwbGF5OiB0YWJsZS1jZWxsO1xcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcbiAgcGFkZGluZzogMCA1cHg7XFxufVxcbmh0bWwgLmNvZy1kYXRlLXBpY2tlciAuZWwtZGF0ZS1waWNrZXJfX2hlYWRlciwgOnJvb3Q6cm9vdDpyb290OnJvb3Q6cm9vdCAuY29nLWRhdGUtcGlja2VyIC5lbC1kYXRlLXBpY2tlcl9faGVhZGVyIHtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICBhbGlnbi1pdGVtczogY2VudGVyO1xcbiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xcbiAgbWFyZ2luOiAxMnB4IDE1cHg7XFxufVxcbmh0bWwgLmNvZy1kYXRlLXBpY2tlciAuZWwtZGF0ZS1waWNrZXJfX2hlYWRlciBidXR0b24sIDpyb290OnJvb3Q6cm9vdDpyb290OnJvb3QgLmNvZy1kYXRlLXBpY2tlciAuZWwtZGF0ZS1waWNrZXJfX2hlYWRlciBidXR0b24ge1xcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcbiAgYm9yZGVyOiAxcHggc29saWQgdHJhbnNwYXJlbnQ7XFxuICBib3JkZXItcmFkaXVzOiA1MCU7XFxuICBtYXJnaW4tcmlnaHQ6IDRweDtcXG4gIG1hcmdpbi1sZWZ0OiA0cHg7XFxuICBvdXRsaW5lOiAwO1xcbn1cXG5odG1sIC5jb2ctZGF0ZS1waWNrZXIgLmVsLWRhdGUtcGlja2VyX19oZWFkZXIgYnV0dG9uOmZvY3VzLCA6cm9vdDpyb290OnJvb3Q6cm9vdDpyb290IC5jb2ctZGF0ZS1waWNrZXIgLmVsLWRhdGUtcGlja2VyX19oZWFkZXIgYnV0dG9uOmZvY3VzIHtcXG4gIGJvcmRlci1jb2xvcjogdmFyKC0taGlnaGxpZ2h0KTtcXG59XFxuaHRtbCAuY29nLWRhdGUtcGlja2VyIC5lbC1kYXRlLXBpY2tlcl9faGVhZGVyIGJ1dHRvbjo6YmVmb3JlLCBodG1sIC5jb2ctZGF0ZS1waWNrZXIgLmVsLWRhdGUtcGlja2VyX19oZWFkZXIgYnV0dG9uW2NsYXNzKj1lbC1pY29uLWRdOjphZnRlciwgOnJvb3Q6cm9vdDpyb290OnJvb3Q6cm9vdCAuY29nLWRhdGUtcGlja2VyIC5lbC1kYXRlLXBpY2tlcl9faGVhZGVyIGJ1dHRvbjo6YmVmb3JlLCA6cm9vdDpyb290OnJvb3Q6cm9vdDpyb290IC5jb2ctZGF0ZS1waWNrZXIgLmVsLWRhdGUtcGlja2VyX19oZWFkZXIgYnV0dG9uW2NsYXNzKj1lbC1pY29uLWRdOjphZnRlciB7XFxuICBkaXNwbGF5OiBibG9jaztcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIHRvcDogMTUlO1xcbiAgd2lkdGg6IDYwJTtcXG4gIGhlaWdodDogNjAlO1xcbiAgYm9yZGVyOiBjYWxjKHZhcigtLWljb24td2VpZ2h0KSAqIDNweCkgc29saWQgdmFyKC0tY29sb3IpO1xcbiAgdHJhbnNmb3JtOiByb3RhdGUoNDVkZWcpIHNjYWxlKDAuNik7XFxuICBjb250ZW50OiBcXFwiXFxcIjtcXG59XFxuaHRtbCAuY29nLWRhdGUtcGlja2VyIC5lbC1kYXRlLXBpY2tlcl9faGVhZGVyIGJ1dHRvbi5pcy1kaXNhYmxlZDo6YmVmb3JlLCBodG1sIC5jb2ctZGF0ZS1waWNrZXIgLmVsLWRhdGUtcGlja2VyX19oZWFkZXIgYnV0dG9uLmlzLWRpc2FibGVkOjphZnRlciwgOnJvb3Q6cm9vdDpyb290OnJvb3Q6cm9vdCAuY29nLWRhdGUtcGlja2VyIC5lbC1kYXRlLXBpY2tlcl9faGVhZGVyIGJ1dHRvbi5pcy1kaXNhYmxlZDo6YmVmb3JlLCA6cm9vdDpyb290OnJvb3Q6cm9vdDpyb290IC5jb2ctZGF0ZS1waWNrZXIgLmVsLWRhdGUtcGlja2VyX19oZWFkZXIgYnV0dG9uLmlzLWRpc2FibGVkOjphZnRlciB7XFxuICBvcGFjaXR5OiAwLjM7XFxufVxcbmh0bWwgLmNvZy1kYXRlLXBpY2tlciAuZWwtZGF0ZS1waWNrZXJfX2hlYWRlciBidXR0b25bY2xhc3MqPWVsLWljb24tZF06OmJlZm9yZSwgOnJvb3Q6cm9vdDpyb290OnJvb3Q6cm9vdCAuY29nLWRhdGUtcGlja2VyIC5lbC1kYXRlLXBpY2tlcl9faGVhZGVyIGJ1dHRvbltjbGFzcyo9ZWwtaWNvbi1kXTo6YmVmb3JlIHtcXG4gIG1hcmdpbi1sZWZ0OiBjYWxjKHZhcigtLWljb24td2VpZ2h0KSAqIC0xcHggLSAycHgpO1xcbn1cXG5odG1sIC5jb2ctZGF0ZS1waWNrZXIgLmVsLWRhdGUtcGlja2VyX19oZWFkZXIgYnV0dG9uW2NsYXNzKj1lbC1pY29uLWRdOjphZnRlciwgOnJvb3Q6cm9vdDpyb290OnJvb3Q6cm9vdCAuY29nLWRhdGUtcGlja2VyIC5lbC1kYXRlLXBpY2tlcl9faGVhZGVyIGJ1dHRvbltjbGFzcyo9ZWwtaWNvbi1kXTo6YWZ0ZXIge1xcbiAgbWFyZ2luLWxlZnQ6IGNhbGModmFyKC0taWNvbi13ZWlnaHQpICogMXB4ICsgMnB4KTtcXG59XFxuaHRtbCAuY29nLWRhdGUtcGlja2VyIC5lbC1kYXRlLXBpY2tlcl9faGVhZGVyIGJ1dHRvbjpub3QoLmlzLWRpc2FibGVkKTpob3Zlcjo6YmVmb3JlLCBodG1sIC5jb2ctZGF0ZS1waWNrZXIgLmVsLWRhdGUtcGlja2VyX19oZWFkZXIgYnV0dG9uOm5vdCguaXMtZGlzYWJsZWQpOmhvdmVyOjphZnRlciwgOnJvb3Q6cm9vdDpyb290OnJvb3Q6cm9vdCAuY29nLWRhdGUtcGlja2VyIC5lbC1kYXRlLXBpY2tlcl9faGVhZGVyIGJ1dHRvbjpub3QoLmlzLWRpc2FibGVkKTpob3Zlcjo6YmVmb3JlLCA6cm9vdDpyb290OnJvb3Q6cm9vdDpyb290IC5jb2ctZGF0ZS1waWNrZXIgLmVsLWRhdGUtcGlja2VyX19oZWFkZXIgYnV0dG9uOm5vdCguaXMtZGlzYWJsZWQpOmhvdmVyOjphZnRlciB7XFxuICBib3JkZXItY29sb3I6IHZhcigtLWhpZ2hsaWdodCk7XFxuICBvcGFjaXR5OiAxO1xcbn1cXG5odG1sIC5jb2ctZGF0ZS1waWNrZXIgLmVsLWRhdGUtcGlja2VyX19oZWFkZXIgLmVsLWljb24tYXJyb3ctbGVmdCwgOnJvb3Q6cm9vdDpyb290OnJvb3Q6cm9vdCAuY29nLWRhdGUtcGlja2VyIC5lbC1kYXRlLXBpY2tlcl9faGVhZGVyIC5lbC1pY29uLWFycm93LWxlZnQge1xcbiAgbWFyZ2luLXJpZ2h0OiBhdXRvO1xcbn1cXG5odG1sIC5jb2ctZGF0ZS1waWNrZXIgLmVsLWRhdGUtcGlja2VyX19oZWFkZXIgLmVsLWljb24tYXJyb3ctcmlnaHQsIDpyb290OnJvb3Q6cm9vdDpyb290OnJvb3QgLmNvZy1kYXRlLXBpY2tlciAuZWwtZGF0ZS1waWNrZXJfX2hlYWRlciAuZWwtaWNvbi1hcnJvdy1yaWdodCB7XFxuICBtYXJnaW4tbGVmdDogYXV0bztcXG59XFxuaHRtbCAuY29nLWRhdGUtcGlja2VyIC5lbC1kYXRlLXBpY2tlcl9faGVhZGVyIC5lbC1pY29uLWQtYXJyb3ctcmlnaHQsIDpyb290OnJvb3Q6cm9vdDpyb290OnJvb3QgLmNvZy1kYXRlLXBpY2tlciAuZWwtZGF0ZS1waWNrZXJfX2hlYWRlciAuZWwtaWNvbi1kLWFycm93LXJpZ2h0IHtcXG4gIG9yZGVyOiAxMDA7XFxufVxcbmh0bWwgLmNvZy1kYXRlLXBpY2tlciAuZWwtZGF0ZS1waWNrZXJfX2hlYWRlciAuZWwtZGF0ZS1waWNrZXJfX3ByZXYtYnRuOjpiZWZvcmUsXFxuaHRtbCAuY29nLWRhdGUtcGlja2VyIC5lbC1kYXRlLXBpY2tlcl9faGVhZGVyIC5lbC1pY29uLWQtYXJyb3ctbGVmdC5lbC1pY29uLWQtYXJyb3ctbGVmdDo6YWZ0ZXIsIDpyb290OnJvb3Q6cm9vdDpyb290OnJvb3QgLmNvZy1kYXRlLXBpY2tlciAuZWwtZGF0ZS1waWNrZXJfX2hlYWRlciAuZWwtZGF0ZS1waWNrZXJfX3ByZXYtYnRuOjpiZWZvcmUsXFxuOnJvb3Q6cm9vdDpyb290OnJvb3Q6cm9vdCAuY29nLWRhdGUtcGlja2VyIC5lbC1kYXRlLXBpY2tlcl9faGVhZGVyIC5lbC1pY29uLWQtYXJyb3ctbGVmdC5lbC1pY29uLWQtYXJyb3ctbGVmdDo6YWZ0ZXIge1xcbiAgbGVmdDogMjAlO1xcbiAgYm9yZGVyLXRvcDogMDtcXG4gIGJvcmRlci1yaWdodDogMDtcXG59XFxuaHRtbCAuY29nLWRhdGUtcGlja2VyIC5lbC1kYXRlLXBpY2tlcl9faGVhZGVyIC5lbC1kYXRlLXBpY2tlcl9fbmV4dC1idG46OmJlZm9yZSxcXG5odG1sIC5jb2ctZGF0ZS1waWNrZXIgLmVsLWRhdGUtcGlja2VyX19oZWFkZXIgLmVsLWljb24tZC1hcnJvdy1yaWdodC5lbC1pY29uLWQtYXJyb3ctcmlnaHQ6OmFmdGVyLCA6cm9vdDpyb290OnJvb3Q6cm9vdDpyb290IC5jb2ctZGF0ZS1waWNrZXIgLmVsLWRhdGUtcGlja2VyX19oZWFkZXIgLmVsLWRhdGUtcGlja2VyX19uZXh0LWJ0bjo6YmVmb3JlLFxcbjpyb290OnJvb3Q6cm9vdDpyb290OnJvb3QgLmNvZy1kYXRlLXBpY2tlciAuZWwtZGF0ZS1waWNrZXJfX2hlYWRlciAuZWwtaWNvbi1kLWFycm93LXJpZ2h0LmVsLWljb24tZC1hcnJvdy1yaWdodDo6YWZ0ZXIge1xcbiAgbGVmdDogNSU7XFxuICBib3JkZXItYm90dG9tOiAwO1xcbiAgYm9yZGVyLWxlZnQ6IDA7XFxufVxcbmh0bWwgLmNvZy1kYXRlLXBpY2tlciAuZWwtZGF0ZS1waWNrZXJfX2hlYWRlciAuZWwtcGlja2VyLXBhbmVsX19pY29uLWJ0bi5pcy1kaXNhYmxlZCwgOnJvb3Q6cm9vdDpyb290OnJvb3Q6cm9vdCAuY29nLWRhdGUtcGlja2VyIC5lbC1kYXRlLXBpY2tlcl9faGVhZGVyIC5lbC1waWNrZXItcGFuZWxfX2ljb24tYnRuLmlzLWRpc2FibGVkIHtcXG4gIGN1cnNvcjogbm90LWFsbG93ZWQ7XFxuICBjb2xvcjogaHNsYSh2YXIoLS1iYWNrZ3JvdW5kLWhzbCksIDEpO1xcbn1cXG5odG1sIC5jb2ctZGF0ZS1waWNrZXIgLmVsLWRhdGUtcGlja2VyX19oZWFkZXItbGFiZWwsIDpyb290OnJvb3Q6cm9vdDpyb290OnJvb3QgLmNvZy1kYXRlLXBpY2tlciAuZWwtZGF0ZS1waWNrZXJfX2hlYWRlci1sYWJlbCB7XFxuICBwYWRkaW5nOiAwIDVweDtcXG4gIGN1cnNvcjogcG9pbnRlcjtcXG4gIGZvbnQtd2VpZ2h0OiA1MDA7XFxuICBsaW5lLWhlaWdodDogMjJweDtcXG59XFxuaHRtbCAuY29nLWRhdGUtcGlja2VyIC5lbC1kYXRlLXBpY2tlcl9faGVhZGVyLWxhYmVsOmhvdmVyLCBodG1sIC5jb2ctZGF0ZS1waWNrZXIgLmVsLWRhdGUtcGlja2VyX19oZWFkZXItbGFiZWwuYWN0aXZlLCA6cm9vdDpyb290OnJvb3Q6cm9vdDpyb290IC5jb2ctZGF0ZS1waWNrZXIgLmVsLWRhdGUtcGlja2VyX19oZWFkZXItbGFiZWw6aG92ZXIsIDpyb290OnJvb3Q6cm9vdDpyb290OnJvb3QgLmNvZy1kYXRlLXBpY2tlciAuZWwtZGF0ZS1waWNrZXJfX2hlYWRlci1sYWJlbC5hY3RpdmUge1xcbiAgY29sb3I6IHZhcigtLWhpZ2hsaWdodCk7XFxufVxcbmh0bWwgLmNvZy1kYXRlLXBpY2tlciAuZWwtZGF0ZS1waWNrZXJfX3ByZXYtYnRuLCA6cm9vdDpyb290OnJvb3Q6cm9vdDpyb290IC5jb2ctZGF0ZS1waWNrZXIgLmVsLWRhdGUtcGlja2VyX19wcmV2LWJ0biB7XFxuICBmbG9hdDogbGVmdDtcXG59XFxuaHRtbCAuY29nLWRhdGUtcGlja2VyIC5lbC1kYXRlLXBpY2tlcl9fbmV4dC1idG4sIDpyb290OnJvb3Q6cm9vdDpyb290OnJvb3QgLmNvZy1kYXRlLXBpY2tlciAuZWwtZGF0ZS1waWNrZXJfX25leHQtYnRuIHtcXG4gIGZsb2F0OiByaWdodDtcXG59XFxuaHRtbCAuY29nLWRhdGUtcGlja2VyIC5lbC1tb250aC10YWJsZSxcXG5odG1sIC5jb2ctZGF0ZS1waWNrZXIgLmVsLXllYXItdGFibGUsIDpyb290OnJvb3Q6cm9vdDpyb290OnJvb3QgLmNvZy1kYXRlLXBpY2tlciAuZWwtbW9udGgtdGFibGUsXFxuOnJvb3Q6cm9vdDpyb290OnJvb3Q6cm9vdCAuY29nLWRhdGUtcGlja2VyIC5lbC15ZWFyLXRhYmxlIHtcXG4gIG1hcmdpbjogLTFweDtcXG4gIGJvcmRlci1jb2xsYXBzZTogY29sbGFwc2U7XFxufVxcbmh0bWwgLmNvZy1kYXRlLXBpY2tlciAuZWwtbW9udGgtdGFibGUgdGQsXFxuaHRtbCAuY29nLWRhdGUtcGlja2VyIC5lbC15ZWFyLXRhYmxlIHRkLCA6cm9vdDpyb290OnJvb3Q6cm9vdDpyb290IC5jb2ctZGF0ZS1waWNrZXIgLmVsLW1vbnRoLXRhYmxlIHRkLFxcbjpyb290OnJvb3Q6cm9vdDpyb290OnJvb3QgLmNvZy1kYXRlLXBpY2tlciAuZWwteWVhci10YWJsZSB0ZCB7XFxuICBwYWRkaW5nOiAyMHB4IDNweDtcXG4gIGN1cnNvcjogcG9pbnRlcjtcXG59XFxuaHRtbCAuY29nLWRhdGUtcGlja2VyIC5lbC1tb250aC10YWJsZSB0ZC5pcy1kaXNhYmxlZCAuZWwtZGF0ZS1waWNrZXJfX2NlbGwsXFxuaHRtbCAuY29nLWRhdGUtcGlja2VyIC5lbC15ZWFyLXRhYmxlIHRkLmlzLWRpc2FibGVkIC5lbC1kYXRlLXBpY2tlcl9fY2VsbCwgOnJvb3Q6cm9vdDpyb290OnJvb3Q6cm9vdCAuY29nLWRhdGUtcGlja2VyIC5lbC1tb250aC10YWJsZSB0ZC5pcy1kaXNhYmxlZCAuZWwtZGF0ZS1waWNrZXJfX2NlbGwsXFxuOnJvb3Q6cm9vdDpyb290OnJvb3Q6cm9vdCAuY29nLWRhdGUtcGlja2VyIC5lbC15ZWFyLXRhYmxlIHRkLmlzLWRpc2FibGVkIC5lbC1kYXRlLXBpY2tlcl9fY2VsbCB7XFxuICBjdXJzb3I6IG5vdC1hbGxvd2VkO1xcbiAgLyogc3R5bGVsaW50LWRpc2FibGUtbmV4dC1saW5lIGNvbG9yLWZ1bmN0aW9uLW5vdGF0aW9uICovXFxuICBjb2xvcjogaHNsYSh2YXIoLS1iYWNrZ3JvdW5kLWhzbCkpO1xcbn1cXG5odG1sIC5jb2ctZGF0ZS1waWNrZXIgLmVsLW1vbnRoLXRhYmxlIHRkIC5lbC1kYXRlLXBpY2tlcl9fY2VsbCxcXG5odG1sIC5jb2ctZGF0ZS1waWNrZXIgLmVsLXllYXItdGFibGUgdGQgLmVsLWRhdGUtcGlja2VyX19jZWxsLCA6cm9vdDpyb290OnJvb3Q6cm9vdDpyb290IC5jb2ctZGF0ZS1waWNrZXIgLmVsLW1vbnRoLXRhYmxlIHRkIC5lbC1kYXRlLXBpY2tlcl9fY2VsbCxcXG46cm9vdDpyb290OnJvb3Q6cm9vdDpyb290IC5jb2ctZGF0ZS1waWNrZXIgLmVsLXllYXItdGFibGUgdGQgLmVsLWRhdGUtcGlja2VyX19jZWxsIHtcXG4gIGRpc3BsYXk6IGJsb2NrO1xcbiAgd2lkdGg6IDNlbTtcXG4gIG1hcmdpbjogMCBhdXRvO1xcbn1cXG5odG1sIC5jb2ctZGF0ZS1waWNrZXIgLmVsLWRhdGUtdGFibGUgdGQsIDpyb290OnJvb3Q6cm9vdDpyb290OnJvb3QgLmNvZy1kYXRlLXBpY2tlciAuZWwtZGF0ZS10YWJsZSB0ZCB7XFxuICBwb3NpdGlvbjogcmVsYXRpdmU7XFxuICB3aWR0aDogMzJweDtcXG4gIGhlaWdodDogMzBweDtcXG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxuICBwYWRkaW5nOiA0cHggMDtcXG4gIGN1cnNvcjogcG9pbnRlcjtcXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcXG59XFxuaHRtbCAuY29nLWRhdGUtcGlja2VyIC5lbC1kYXRlLXRhYmxlIHRkIGRpdiwgOnJvb3Q6cm9vdDpyb290OnJvb3Q6cm9vdCAuY29nLWRhdGUtcGlja2VyIC5lbC1kYXRlLXRhYmxlIHRkIGRpdiB7XFxuICBoZWlnaHQ6IDMwcHg7XFxuICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xcbiAgcGFkZGluZzogM3B4IDA7XFxufVxcbmh0bWwgLmNvZy1kYXRlLXBpY2tlciAuZWwtZGF0ZS10YWJsZSB0aCwgOnJvb3Q6cm9vdDpyb290OnJvb3Q6cm9vdCAuY29nLWRhdGUtcGlja2VyIC5lbC1kYXRlLXRhYmxlIHRoIHtcXG4gIGJvcmRlci1ib3R0b206IHZhcigtLWJvcmRlci13aWR0aCkgdmFyKC0taW5wdXRfX2JvcmRlci1zdHlsZSkgaHNsYSh2YXIoLS1iYWNrZ3JvdW5kLWhzbCksIDAuMzUpO1xcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcXG4gIHBhZGRpbmc6IDVweDtcXG4gIGZvbnQtd2VpZ2h0OiA0MDA7XFxuICB3b3JkLXdyYXA6IGluaXRpYWw7XFxuICBvdmVyZmxvdy13cmFwOiBpbml0aWFsO1xcbiAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7XFxufVxcbmh0bWwgLmNvZy1kYXRlLXBpY2tlciAuZWwtZGF0ZS10YWJsZSAuZWwtZGF0ZS1waWNrZXJfX2NlbGwsIDpyb290OnJvb3Q6cm9vdDpyb290OnJvb3QgLmNvZy1kYXRlLXBpY2tlciAuZWwtZGF0ZS10YWJsZSAuZWwtZGF0ZS1waWNrZXJfX2NlbGwge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgbGVmdDogNTAlO1xcbiAgd2lkdGg6IDEuOGVtO1xcbiAgaGVpZ2h0OiAxLjhlbTtcXG4gIGJvcmRlci1yYWRpdXM6IDUwJTtcXG4gIG1hcmdpbjogMCBhdXRvO1xcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKC01MCUpO1xcbiAgbGluZS1oZWlnaHQ6IDEuOGVtO1xcbn1cXG5odG1sIC5jb2ctZGF0ZS1waWNrZXIgLmlzLWN1cnJlbnQsIDpyb290OnJvb3Q6cm9vdDpyb290OnJvb3QgLmNvZy1kYXRlLXBpY2tlciAuaXMtY3VycmVudCB7XFxuICBwb3NpdGlvbjogcmVsYXRpdmU7XFxufVxcbmh0bWwgLmNvZy1kYXRlLXBpY2tlciAuaXMtY3VycmVudCAuZWwtZGF0ZS1waWNrZXJfX2NlbGwsIDpyb290OnJvb3Q6cm9vdDpyb290OnJvb3QgLmNvZy1kYXRlLXBpY2tlciAuaXMtY3VycmVudCAuZWwtZGF0ZS1waWNrZXJfX2NlbGwge1xcbiAgY29sb3I6IHZhcigtLWhpZ2hsaWdodCk7XFxuICBmb250LXdlaWdodDogYm9sZDtcXG59XFxuaHRtbCAuY29nLWRhdGUtcGlja2VyIC5pcy1zZWxlY3RhYmxlOmhvdmVyLCA6cm9vdDpyb290OnJvb3Q6cm9vdDpyb290IC5jb2ctZGF0ZS1waWNrZXIgLmlzLXNlbGVjdGFibGU6aG92ZXIge1xcbiAgY29sb3I6IHZhcigtLWhpZ2hsaWdodCk7XFxufVxcbmh0bWwgLmNvZy1kYXRlLXBpY2tlciAuaXMtc2VsZWN0ZWQ6bm90KC5pcy1kaXNhYmxlZCkgLmVsLWRhdGUtcGlja2VyX19jZWxsLCA6cm9vdDpyb290OnJvb3Q6cm9vdDpyb290IC5jb2ctZGF0ZS1waWNrZXIgLmlzLXNlbGVjdGVkOm5vdCguaXMtZGlzYWJsZWQpIC5lbC1kYXRlLXBpY2tlcl9fY2VsbCB7XFxuICBkaXNwbGF5OiBibG9jaztcXG4gIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWhpZ2hsaWdodCk7XFxuICBib3gtc2hhZG93OiAwIDAgMCAzcHggdmFyKC0taGlnaGxpZ2h0KTtcXG4gIGNvbG9yOiB2YXIoLS1oaWdobGlnaHQtcmV2ZXJzZSk7XFxufVxcbmh0bWwgLmNvZy1kYXRlLXBpY2tlciAuaXMtbXV0ZWQsXFxuaHRtbCAuY29nLWRhdGUtcGlja2VyIC5pcy1kaXNhYmxlZCwgOnJvb3Q6cm9vdDpyb290OnJvb3Q6cm9vdCAuY29nLWRhdGUtcGlja2VyIC5pcy1tdXRlZCxcXG46cm9vdDpyb290OnJvb3Q6cm9vdDpyb290IC5jb2ctZGF0ZS1waWNrZXIgLmlzLWRpc2FibGVkIHtcXG4gIGNvbG9yOiBoc2xhKHZhcigtLWJhY2tncm91bmQtaHNsKSwgMC42KTtcXG59XFxuaHRtbCAuY29nLWRhdGUtcGlja2VyIC5pcy1tdXRlZC5pcy1kaXNhYmxlZCwgOnJvb3Q6cm9vdDpyb290OnJvb3Q6cm9vdCAuY29nLWRhdGUtcGlja2VyIC5pcy1tdXRlZC5pcy1kaXNhYmxlZCB7XFxuICBjb2xvcjogaHNsYSh2YXIoLS1iYWNrZ3JvdW5kLWhzbCksIDAuMik7XFxufVxcbmh0bWwgLmNvZy1kYXRlLXBpY2tlciAuaXMtZGlzYWJsZWQsIDpyb290OnJvb3Q6cm9vdDpyb290OnJvb3QgLmNvZy1kYXRlLXBpY2tlciAuaXMtZGlzYWJsZWQge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogaHNsYSh2YXIoLS1iYWNrZ3JvdW5kLWhzbCksIDAuMTIpO1xcbiAgY3Vyc29yOiBub3QtYWxsb3dlZDtcXG59XCIsIFwiXCJdKTtcbiIsImltcG9ydCBhcGkgZnJvbSBcIiEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vc3R5bGUtbG9hZGVyQDIuMC4wX3dlYnBhY2tANC40Ni4wL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qc1wiO1xuICAgICAgICAgICAgaW1wb3J0IGNvbnRlbnQgZnJvbSBcIiEhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2Nzcy1sb2FkZXJAMy4yLjBfd2VicGFja0A0LjQ2LjAvbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3Z1ZS1sb2FkZXJAMTUuMTAuMF9jc3MtbG9hZGVyQDMuMi4wX2xvZGFzaEA0LjE3LjIxX3Z1ZS10ZW1wbGF0ZS1jb21waWxlckAyLjcuMTVfd2VicGFja0A0LjQ2LjAvbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2xvYWRlcnMvc3R5bGVQb3N0TG9hZGVyLmpzIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9zYXNzLWxvYWRlckAxMC4xLjFfc2Fzc0AxLjQ0LjBfd2VicGFja0A0LjQ2LjAvbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9zYXNzLXJlc291cmNlcy1sb2FkZXJAMi4wLjEvbm9kZV9tb2R1bGVzL3Nhc3MtcmVzb3VyY2VzLWxvYWRlci9saWIvbG9hZGVyLmpzPz9yZWYtLTUtb25lT2YtMS0zIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS92dWUtbG9hZGVyQDE1LjEwLjBfY3NzLWxvYWRlckAzLjIuMF9sb2Rhc2hANC4xNy4yMV92dWUtdGVtcGxhdGUtY29tcGlsZXJAMi43LjE1X3dlYnBhY2tANC40Ni4wL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vRGF0ZS52dWU/dnVlJnR5cGU9c3R5bGUmaW5kZXg9MCZpZD00MGYyMTRkZSZsYW5nPXNjc3MmXCI7XG5cbnZhciBvcHRpb25zID0ge1wiYXR0cmlidXRlc1wiOntcImNsYXNzXCI6XCJjb2ctc3R5bGVcIn19O1xuXG5vcHRpb25zLmluc2VydCA9IFwiaGVhZFwiO1xub3B0aW9ucy5zaW5nbGV0b24gPSBmYWxzZTtcblxudmFyIHVwZGF0ZSA9IGFwaShjb250ZW50LCBvcHRpb25zKTtcblxuXG5pZiAobW9kdWxlLmhvdCkge1xuICBpZiAoIWNvbnRlbnQubG9jYWxzIHx8IG1vZHVsZS5ob3QuaW52YWxpZGF0ZSkge1xuICAgIHZhciBpc0VxdWFsTG9jYWxzID0gZnVuY3Rpb24gaXNFcXVhbExvY2FscyhhLCBiLCBpc05hbWVkRXhwb3J0KSB7XG4gIGlmICghYSAmJiBiIHx8IGEgJiYgIWIpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICB2YXIgcDtcblxuICBmb3IgKHAgaW4gYSkge1xuICAgIGlmIChpc05hbWVkRXhwb3J0ICYmIHAgPT09ICdkZWZhdWx0Jykge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnRpbnVlXG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICBpZiAoYVtwXSAhPT0gYltwXSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIGZvciAocCBpbiBiKSB7XG4gICAgaWYgKGlzTmFtZWRFeHBvcnQgJiYgcCA9PT0gJ2RlZmF1bHQnKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29udGludWVcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIGlmICghYVtwXSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufTtcbiAgICB2YXIgb2xkTG9jYWxzID0gY29udGVudC5sb2NhbHM7XG5cbiAgICBtb2R1bGUuaG90LmFjY2VwdChcbiAgICAgIFwiISEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vY3NzLWxvYWRlckAzLjIuMF93ZWJwYWNrQDQuNDYuMC9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vdnVlLWxvYWRlckAxNS4xMC4wX2Nzcy1sb2FkZXJAMy4yLjBfbG9kYXNoQDQuMTcuMjFfdnVlLXRlbXBsYXRlLWNvbXBpbGVyQDIuNy4xNV93ZWJwYWNrQDQuNDYuMC9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvbG9hZGVycy9zdHlsZVBvc3RMb2FkZXIuanMhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3Nhc3MtbG9hZGVyQDEwLjEuMV9zYXNzQDEuNDQuMF93ZWJwYWNrQDQuNDYuMC9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvZGlzdC9janMuanMhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3Nhc3MtcmVzb3VyY2VzLWxvYWRlckAyLjAuMS9ub2RlX21vZHVsZXMvc2Fzcy1yZXNvdXJjZXMtbG9hZGVyL2xpYi9sb2FkZXIuanM/P3JlZi0tNS1vbmVPZi0xLTMhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3Z1ZS1sb2FkZXJAMTUuMTAuMF9jc3MtbG9hZGVyQDMuMi4wX2xvZGFzaEA0LjE3LjIxX3Z1ZS10ZW1wbGF0ZS1jb21waWxlckAyLjcuMTVfd2VicGFja0A0LjQ2LjAvbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9EYXRlLnZ1ZT92dWUmdHlwZT1zdHlsZSZpbmRleD0wJmlkPTQwZjIxNGRlJmxhbmc9c2NzcyZcIixcbiAgICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCFpc0VxdWFsTG9jYWxzKG9sZExvY2FscywgY29udGVudC5sb2NhbHMsIHVuZGVmaW5lZCkpIHtcbiAgICAgICAgICAgICAgICBtb2R1bGUuaG90LmludmFsaWRhdGUoKTtcblxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIG9sZExvY2FscyA9IGNvbnRlbnQubG9jYWxzO1xuXG4gICAgICAgICAgICAgIHVwZGF0ZShjb250ZW50KTtcbiAgICAgIH1cbiAgICApXG4gIH1cblxuICBtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7XG4gICAgdXBkYXRlKCk7XG4gIH0pO1xufVxuXG5leHBvcnQgZGVmYXVsdCBjb250ZW50LmxvY2FscyB8fCB7fTsiLCJ2YXIgcmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuICB2YXIgX3ZtID0gdGhpcyxcbiAgICBfYyA9IF92bS5fc2VsZi5fY1xuICByZXR1cm4gX2MoXG4gICAgXCJkaXZcIixcbiAgICB7XG4gICAgICBzdGF0aWNDbGFzczogXCJjb2ctcGlja2VyIGNvZy1pbnB1dFwiLFxuICAgICAgY2xhc3M6IHsgXCJpcy1yZWFkLW9ubHlcIjogX3ZtLnJlYWRvbmx5IH0sXG4gICAgICBvbjogeyBjbGljazogX3ZtLmhhbmRsZU91dGVyQ2xpY2sgfVxuICAgIH0sXG4gICAgW1xuICAgICAgX3ZtLnJlYWRvbmx5XG4gICAgICAgID8gW192bS5fdihfdm0uX3MoX3ZtLnRleHRWYWx1ZSB8fCBcIsKgXCIpKV1cbiAgICAgICAgOiBfdm0uY2hhbWVsZW9uIHx8IF92bS5tb2JpbGVcbiAgICAgICAgPyBfYyhcbiAgICAgICAgICAgIFwiYy1waWNrZXItbmF0aXZlXCIsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI6IF92bS5wbGFjZWhvbGRlcixcbiAgICAgICAgICAgICAgICBcInNob3ctcGxhY2Vob2xkZXJcIjogIV92bS5jaGFtZWxlb24gJiYgIV92bS52YWx1ZVxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBzY29wZWRTbG90czogX3ZtLl91KFxuICAgICAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICAgIF92bS5tb2JpbGVcbiAgICAgICAgICAgICAgICAgICAgPyB7XG4gICAgICAgICAgICAgICAgICAgICAgICBrZXk6IFwiaWNvblwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgZm46IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jKFwiaS1jYWxlbmRhclwiLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImNvZy1vZmZzY3JlZW5cIjogX3ZtLmRhdGVUaW1lSWNvbklzSGlkZGVuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3h5OiB0cnVlXG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICA6IG51bGxcbiAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgdHJ1ZVxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgW1xuICAgICAgICAgICAgICBfYyhcbiAgICAgICAgICAgICAgICBcImlucHV0XCIsXG4gICAgICAgICAgICAgICAgX3ZtLl9iKFxuICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICByZWY6IFwiaW5wdXRcIixcbiAgICAgICAgICAgICAgICAgICAgc3RhdGljQ2xhc3M6IFwiZWwtaW5wdXRfX2lubmVyXCIsXG4gICAgICAgICAgICAgICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgaWQ6IFwiY29nLVwiICsgX3ZtLmlkLFxuICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiZGF0ZVwiLFxuICAgICAgICAgICAgICAgICAgICAgIG1pbjogX3ZtLiRmb3JtYXQoX3ZtLm1pbiwgXCJ5eXl5LU1NLWRkXCIpLFxuICAgICAgICAgICAgICAgICAgICAgIG1heDogX3ZtLiRmb3JtYXQoX3ZtLm1heCwgXCJ5eXl5LU1NLWRkXCIpXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGRvbVByb3BzOiB7IHZhbHVlOiBfdm0ubmF0aXZlVGV4dFZhbHVlIH0sXG4gICAgICAgICAgICAgICAgICAgIG9uOiB7XG4gICAgICAgICAgICAgICAgICAgICAgZm9jdXM6IF92bS5oYW5kbGVGb2N1cyxcbiAgICAgICAgICAgICAgICAgICAgICBibHVyOiBfdm0uaGFuZGxlQmx1cixcbiAgICAgICAgICAgICAgICAgICAgICBjaGFuZ2U6IF92bS5oYW5kbGVOYXRpdmVDaGFuZ2VcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgIFwiaW5wdXRcIixcbiAgICAgICAgICAgICAgICAgIF92bS4kYXR0cnMsXG4gICAgICAgICAgICAgICAgICBmYWxzZVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgXVxuICAgICAgICAgIClcbiAgICAgICAgOiBfYyhcbiAgICAgICAgICAgIFwiYy1kYXRlLXBpY2tlclwiLFxuICAgICAgICAgICAgX3ZtLl9iKFxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmVmOiBcInBpY2tlclwiLFxuICAgICAgICAgICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgICAgICAgICBpZDogXCJjb2ctXCIgKyBfdm0uaWQsXG4gICAgICAgICAgICAgICAgICB2YWx1ZTogX3ZtLmRhdGVWYWx1ZSxcbiAgICAgICAgICAgICAgICAgIFwidW5wYXJzZWQtdmFsdWVcIjogX3ZtLnVucGFyc2VkVmFsdWUsXG4gICAgICAgICAgICAgICAgICBmb3JtYXQ6IF92bS5lbGVtZW50Rm9ybWF0LFxuICAgICAgICAgICAgICAgICAgXCJtb2RlbC1mb3JtYXRcIjogX3ZtLm1vZGVsRm9ybWF0LFxuICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI6IF92bS5wbGFjZWhvbGRlcixcbiAgICAgICAgICAgICAgICAgIFwicG9wcGVyLWNsYXNzXCI6XG4gICAgICAgICAgICAgICAgICAgIFwiY29nLWNvZ25pdG8gY29nLVwiICtcbiAgICAgICAgICAgICAgICAgICAgX3ZtLnNjb3BlICtcbiAgICAgICAgICAgICAgICAgICAgXCIgY29nLWNvZ25pdG8tLVwiICtcbiAgICAgICAgICAgICAgICAgICAgKF92bS5jaGFtZWxlb24gPyBcImNoYW1lbGVvblwiIDogXCJzdHlsZWRcIikgK1xuICAgICAgICAgICAgICAgICAgICBcIiBjb2ctZGF0ZS1waWNrZXJcIiArXG4gICAgICAgICAgICAgICAgICAgIChfdm0uZmxhZ3MucHJvdGVjdENzcyA/IFwiIGNvZy1jb2duaXRvLS1wcm90ZWN0LWNzc1wiIDogXCJcIiksXG4gICAgICAgICAgICAgICAgICBcImZvcm1hdC1kYXRlXCI6IChkYXRlLCBmb3JtYXQpID0+IF92bS4kZm9ybWF0KGRhdGUsIGZvcm1hdCksXG4gICAgICAgICAgICAgICAgICBcInBhcnNlLWRhdGVcIjogKHRleHQsIGZvcm1hdCkgPT5cbiAgICAgICAgICAgICAgICAgICAgX3ZtLiRwYXJzZShEYXRlLCB0ZXh0LCBmb3JtYXQpLFxuICAgICAgICAgICAgICAgICAgXCJkZWZhdWx0LXZhbHVlXCI6IF92bS5kZWZhdWx0VmFsdWUsXG4gICAgICAgICAgICAgICAgICBtaW5pbXVtOiBfdm0ubm9ybWFsaXplZE1pbixcbiAgICAgICAgICAgICAgICAgIG1heGltdW06IF92bS5ub3JtYWxpemVkTWF4LFxuICAgICAgICAgICAgICAgICAgXCJwaWNrZXItb3B0aW9uc1wiOiB7XG4gICAgICAgICAgICAgICAgICAgIGZpcnN0RGF5T2ZXZWVrOiBfdm0uJGN1bHR1cmUuZGF0ZVRpbWVGb3JtYXQuRmlyc3REYXlPZldlZWtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG9uOiB7XG4gICAgICAgICAgICAgICAgICBjbGljazogX3ZtLmhhbmRsZUNsaWNrLFxuICAgICAgICAgICAgICAgICAgZm9jdXM6IF92bS5oYW5kbGVGb2N1cyxcbiAgICAgICAgICAgICAgICAgIGJsdXI6IF92bS5oYW5kbGVCbHVyLFxuICAgICAgICAgICAgICAgICAgaW5wdXQ6IF92bS5oYW5kbGVJbnB1dCxcbiAgICAgICAgICAgICAgICAgIGNoYW5nZTogX3ZtLmhhbmRsZUNoYW5nZSxcbiAgICAgICAgICAgICAgICAgIFwidmlzaWJsZS1jaGFuZ2VcIjogX3ZtLmhhbmRsZVBpY2tlclZpc2libGVDaGFuZ2UsXG4gICAgICAgICAgICAgICAgICBwaWNrZXJQb3NpdGlvbjogX3ZtLmhhbmRsZVByZUZvY3VzXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBzY29wZWRTbG90czogX3ZtLl91KFtcbiAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAga2V5OiBcInN1ZmZpeFwiLFxuICAgICAgICAgICAgICAgICAgICBmbjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9jKFxuICAgICAgICAgICAgICAgICAgICAgICAgICBcInNwYW5cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGljazogX3ZtLmhhbmRsZUljb25DbGljayxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vdXNlZG93bjogX3ZtLmhhbmRsZUljb25Nb3VzZWRvd25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgIFtfYyhcImktY2FsZW5kYXJcIildLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAxXG4gICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBwcm94eTogdHJ1ZVxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIF0pXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIFwiYy1kYXRlLXBpY2tlclwiLFxuICAgICAgICAgICAgICBfdm0uJGF0dHJzLFxuICAgICAgICAgICAgICBmYWxzZVxuICAgICAgICAgICAgKVxuICAgICAgICAgIClcbiAgICBdLFxuICAgIDJcbiAgKVxufVxudmFyIHN0YXRpY1JlbmRlckZucyA9IFtdXG5yZW5kZXIuX3dpdGhTdHJpcHBlZCA9IHRydWVcblxuZXhwb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfSIsIlxuICAgICAgZXhwb3J0IGRlZmF1bHQge1xuICAgICAgICBmdW5jdGlvbmFsOiB0cnVlLFxuICAgICAgICByZW5kZXIoX2gsIF92bSkge1xuICAgICAgICAgIGNvbnN0IHsgX2MsIF92LCBkYXRhLCBjaGlsZHJlbiA9IFtdIH0gPSBfdm07XG5cbiAgICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICBjbGFzczogY2xhc3NOYW1lcyxcbiAgICAgICAgICAgIHN0YXRpY0NsYXNzLFxuICAgICAgICAgICAgc3R5bGUsXG4gICAgICAgICAgICBzdGF0aWNTdHlsZSxcbiAgICAgICAgICAgIGF0dHJzID0ge30sXG4gICAgICAgICAgICAuLi5yZXN0XG4gICAgICAgICAgfSA9IGRhdGE7XG5cbiAgICAgICAgICByZXR1cm4gX2MoXG4gICAgICAgICAgICAnc3ZnJyxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgY2xhc3M6IFtcImNvZy1pY29uIGNvZy1pLWNhbGVuZGFyXCIsY2xhc3NOYW1lcyxzdGF0aWNDbGFzc10sXG4gICAgICAgICAgICAgIHN0eWxlOiBbc3R5bGUsc3RhdGljU3R5bGVdLFxuICAgICAgICAgICAgICBhdHRyczogT2JqZWN0LmFzc2lnbih7XCJ2aWV3Qm94XCI6XCIwIDAgMTggMThcIixcImZvY3VzYWJsZVwiOlwiZmFsc2VcIixcImNsYXNzXCI6XCJjb2ctaWNvbiBjb2ctaS1jYWxlbmRhclwifSwgYXR0cnMpLFxuICAgICAgICAgICAgICAuLi5yZXN0LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNoaWxkcmVuLmNvbmNhdChbX2MoJ2RlZnMnKSxfYygnZycsW19jKCdwYXRoJyx7YXR0cnM6e1wiZFwiOlwiTTIuNSAzLjVoMTN2MTJoLTEzelwifX0pLF9jKCdwYXRoJyx7c3RhdGljQ2xhc3M6XCJjb2ctaS1jYWxlbmRhcl9fcnVsZVwiLGF0dHJzOntcImRcIjpcIk00LjAyIDcuNWg5Ljg4XCJ9fSksX2MoJ3BhdGgnLHthdHRyczp7XCJkXCI6XCJNNS41IDVWMS41TTEyLjUgNVYxLjVcIn19KV0pXSlcbiAgICAgICAgICApXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAiLCJpbXBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IGZyb20gXCIuL0RhdGUudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPTQwZjIxNGRlJlwiXG5pbXBvcnQgc2NyaXB0IGZyb20gXCIuL0RhdGUudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJlwiXG5leHBvcnQgKiBmcm9tIFwiLi9EYXRlLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyZcIlxuaW1wb3J0IHN0eWxlMCBmcm9tIFwiLi9EYXRlLnZ1ZT92dWUmdHlwZT1zdHlsZSZpbmRleD0wJmlkPTQwZjIxNGRlJmxhbmc9c2NzcyZcIlxuXG5cbi8qIG5vcm1hbGl6ZSBjb21wb25lbnQgKi9cbmltcG9ydCBub3JtYWxpemVyIGZyb20gXCIhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3Z1ZS1sb2FkZXJAMTUuMTAuMF9jc3MtbG9hZGVyQDMuMi4wX2xvZGFzaEA0LjE3LjIxX3Z1ZS10ZW1wbGF0ZS1jb21waWxlckAyLjcuMTVfd2VicGFja0A0LjQ2LjAvbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3J1bnRpbWUvY29tcG9uZW50Tm9ybWFsaXplci5qc1wiXG52YXIgY29tcG9uZW50ID0gbm9ybWFsaXplcihcbiAgc2NyaXB0LFxuICByZW5kZXIsXG4gIHN0YXRpY1JlbmRlckZucyxcbiAgZmFsc2UsXG4gIG51bGwsXG4gIG51bGwsXG4gIG51bGxcbiAgXG4pXG5cbi8qIGhvdCByZWxvYWQgKi9cbmlmIChtb2R1bGUuaG90KSB7XG4gIHZhciBhcGkgPSByZXF1aXJlKFwiQzpcXFxcVXNlcnNcXFxcVHlsZXJUcm90dGVyXFxcXHJlcG9zXFxcXENvZ25pdG8gRm9ybXNcXFxcQ29nbml0by5XZWIuQ2xpZW50XFxcXG5vZGVfbW9kdWxlc1xcXFwucG5wbVxcXFx2dWUtaG90LXJlbG9hZC1hcGlAMi4zLjRcXFxcbm9kZV9tb2R1bGVzXFxcXHZ1ZS1ob3QtcmVsb2FkLWFwaVxcXFxkaXN0XFxcXGluZGV4LmpzXCIpXG4gIGFwaS5pbnN0YWxsKHJlcXVpcmUoJ3Z1ZScpKVxuICBpZiAoYXBpLmNvbXBhdGlibGUpIHtcbiAgICBtb2R1bGUuaG90LmFjY2VwdCgpXG4gICAgaWYgKCFhcGkuaXNSZWNvcmRlZCgnNDBmMjE0ZGUnKSkge1xuICAgICAgYXBpLmNyZWF0ZVJlY29yZCgnNDBmMjE0ZGUnLCBjb21wb25lbnQub3B0aW9ucylcbiAgICB9IGVsc2Uge1xuICAgICAgYXBpLnJlbG9hZCgnNDBmMjE0ZGUnLCBjb21wb25lbnQub3B0aW9ucylcbiAgICB9XG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoXCIuL0RhdGUudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPTQwZjIxNGRlJlwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICBhcGkucmVyZW5kZXIoJzQwZjIxNGRlJywge1xuICAgICAgICByZW5kZXI6IHJlbmRlcixcbiAgICAgICAgc3RhdGljUmVuZGVyRm5zOiBzdGF0aWNSZW5kZXJGbnNcbiAgICAgIH0pXG4gICAgfSlcbiAgfVxufVxuY29tcG9uZW50Lm9wdGlvbnMuX19maWxlID0gXCJzcmMvY29tcG9uZW50cy9EYXRlLnZ1ZVwiXG5leHBvcnQgZGVmYXVsdCBjb21wb25lbnQuZXhwb3J0cyIsImltcG9ydCBtb2QgZnJvbSBcIi0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2JhYmVsLWxvYWRlckA4LjAuNV9AYmFiZWwrY29yZUA3LjIyLjZfd2VicGFja0A0LjQ2LjAvbm9kZV9tb2R1bGVzL2JhYmVsLWxvYWRlci9saWIvaW5kZXguanM/P3JlZi0tMyEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vdnVlLWxvYWRlckAxNS4xMC4wX2Nzcy1sb2FkZXJAMy4yLjBfbG9kYXNoQDQuMTcuMjFfdnVlLXRlbXBsYXRlLWNvbXBpbGVyQDIuNy4xNV93ZWJwYWNrQDQuNDYuMC9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL0RhdGUudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJlwiOyBleHBvcnQgZGVmYXVsdCBtb2Q7IGV4cG9ydCAqIGZyb20gXCItIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9iYWJlbC1sb2FkZXJAOC4wLjVfQGJhYmVsK2NvcmVANy4yMi42X3dlYnBhY2tANC40Ni4wL25vZGVfbW9kdWxlcy9iYWJlbC1sb2FkZXIvbGliL2luZGV4LmpzPz9yZWYtLTMhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3Z1ZS1sb2FkZXJAMTUuMTAuMF9jc3MtbG9hZGVyQDMuMi4wX2xvZGFzaEA0LjE3LjIxX3Z1ZS10ZW1wbGF0ZS1jb21waWxlckAyLjcuMTVfd2VicGFja0A0LjQ2LjAvbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9EYXRlLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyZcIiIsImV4cG9ydCAqIGZyb20gXCItIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9zdHlsZS1sb2FkZXJAMi4wLjBfd2VicGFja0A0LjQ2LjAvbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS01LW9uZU9mLTEtMCEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vY3NzLWxvYWRlckAzLjIuMF93ZWJwYWNrQDQuNDYuMC9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vdnVlLWxvYWRlckAxNS4xMC4wX2Nzcy1sb2FkZXJAMy4yLjBfbG9kYXNoQDQuMTcuMjFfdnVlLXRlbXBsYXRlLWNvbXBpbGVyQDIuNy4xNV93ZWJwYWNrQDQuNDYuMC9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvbG9hZGVycy9zdHlsZVBvc3RMb2FkZXIuanMhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3Nhc3MtbG9hZGVyQDEwLjEuMV9zYXNzQDEuNDQuMF93ZWJwYWNrQDQuNDYuMC9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvZGlzdC9janMuanMhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3Nhc3MtcmVzb3VyY2VzLWxvYWRlckAyLjAuMS9ub2RlX21vZHVsZXMvc2Fzcy1yZXNvdXJjZXMtbG9hZGVyL2xpYi9sb2FkZXIuanM/P3JlZi0tNS1vbmVPZi0xLTMhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3Z1ZS1sb2FkZXJAMTUuMTAuMF9jc3MtbG9hZGVyQDMuMi4wX2xvZGFzaEA0LjE3LjIxX3Z1ZS10ZW1wbGF0ZS1jb21waWxlckAyLjcuMTVfd2VicGFja0A0LjQ2LjAvbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9EYXRlLnZ1ZT92dWUmdHlwZT1zdHlsZSZpbmRleD0wJmlkPTQwZjIxNGRlJmxhbmc9c2NzcyZcIiIsImV4cG9ydCAqIGZyb20gXCItIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS92dWUtbG9hZGVyQDE1LjEwLjBfY3NzLWxvYWRlckAzLjIuMF9sb2Rhc2hANC4xNy4yMV92dWUtdGVtcGxhdGUtY29tcGlsZXJAMi43LjE1X3dlYnBhY2tANC40Ni4wL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9sb2FkZXJzL3RlbXBsYXRlTG9hZGVyLmpzPz9yZWYtLTUhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3Z1ZS1sb2FkZXJAMTUuMTAuMF9jc3MtbG9hZGVyQDMuMi4wX2xvZGFzaEA0LjE3LjIxX3Z1ZS10ZW1wbGF0ZS1jb21waWxlckAyLjcuMTVfd2VicGFja0A0LjQ2LjAvbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9EYXRlLnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD00MGYyMTRkZSZcIiIsImltcG9ydCB0eXBlIHsgVnVlQ29uc3RydWN0b3IgfSBmcm9tICd2dWUnO1xyXG5pbXBvcnQgVnVlIGZyb20gJ3Z1ZSc7XHJcbmltcG9ydCB7IENvbXBvbmVudCwgUHJvcCwgV2F0Y2ggfSBmcm9tICd2dWUtcHJvcGVydHktZGVjb3JhdG9yJztcclxuaW1wb3J0IHsgRGF0ZVBpY2tlciB9IGZyb20gJ0Bjb2duaXRvZm9ybXMvZWxlbWVudC11aSc7XHJcbmltcG9ydCB0eXBlIHsgRGF0ZVBpY2tlclR5cGUgfSBmcm9tICdAY29nbml0b2Zvcm1zL2VsZW1lbnQtdWkvdHlwZXMvZGF0ZS1waWNrZXInO1xyXG5pbXBvcnQgeyBpc0NvbXBvbmVudCB9IGZyb20gJ3NyYy91dGlsL2RvbSc7XHJcblxyXG50eXBlIERhdGVQaWNrZXJJbnRlcm5hbHMgPSB7XHJcblx0dXNlcklucHV0OiBzdHJpbmc7XHJcblx0cGFyc2VkVmFsdWU6IERhdGU7XHJcblx0cmVhZG9ubHkgcGlja2VyOiBhbnk7XHJcblx0aXNWYWxpZFZhbHVlKHZhbHVlOiBhbnkpOiBib29sZWFuO1xyXG5cdHBpY2tlclZpc2libGU6IGJvb2xlYW47XHJcblx0Ymx1cigpOiB2b2lkO1xyXG5cdHJlYWRvbmx5IHJhbmdlZDogYm9vbGVhbjtcclxuXHRyZWFkb25seSByZWZJbnB1dDogSFRNTElucHV0RWxlbWVudFtdO1xyXG59O1xyXG5cclxuY29uc3QgRWxlbWVudERhdGVQaWNrZXJDb25zdHJ1Y3RvciA9IFZ1ZS5leHRlbmQoRGF0ZVBpY2tlcikgYXMgVnVlQ29uc3RydWN0b3I8RGF0ZVBpY2tlciAmIERhdGVQaWNrZXJJbnRlcm5hbHM+O1xyXG5cclxuY29uc3QgSEFWRV9UUklHR0VSX1RZUEVTID0gW1xyXG5cdCdkYXRlJyxcclxuXHQnZGF0ZXRpbWUnLFxyXG5cdCd0aW1lJyxcclxuXHQndGltZS1zZWxlY3QnLFxyXG5cdCd3ZWVrJyxcclxuXHQnbW9udGgnLFxyXG5cdCd5ZWFyJyxcclxuXHQnZGF0ZXJhbmdlJyxcclxuXHQnbW9udGhyYW5nZScsXHJcblx0J3RpbWVyYW5nZScsXHJcblx0J2RhdGV0aW1lcmFuZ2UnLFxyXG5cdCdkYXRlcydcclxuXTtcclxuXHJcbkBDb21wb25lbnQoe30pXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENEYXRlUGlja2VyIGV4dGVuZHMgRWxlbWVudERhdGVQaWNrZXJDb25zdHJ1Y3RvciB7XHJcblx0Ly8gLS0tLS0tLS0tLS0tLS0gUHJvcGVydGllcyAtLS0tLS0tLS0tLS0tLVxyXG5cdEBQcm9wKHsgZGVmYXVsdDogbnVsbCB9KVxyXG5cdG1vZGVsRm9ybWF0OiBzdHJpbmc7XHJcblxyXG5cdEBQcm9wKHsgcmVxdWlyZWQ6IHRydWUgfSlcclxuXHRmb3JtYXREYXRlOiAodmFsdWU6IERhdGUsIGZvcm1hdDogc3RyaW5nKSA9PiBzdHJpbmc7XHJcblxyXG5cdEBQcm9wKHsgcmVxdWlyZWQ6IHRydWUgfSlcclxuXHRwYXJzZURhdGU6ICh2YWx1ZTogc3RyaW5nLCBmb3JtYXQ6IHN0cmluZykgPT4gRGF0ZTtcclxuXHJcblx0QFByb3AoeyBkZWZhdWx0OiBudWxsIH0pXHJcblx0dW5wYXJzZWRWYWx1ZTogc3RyaW5nO1xyXG5cclxuXHQvLyAtLS0tLS0tLS0tLS0tLSBEYXRhIC0tLS0tLS0tLS0tLS0tXHJcblx0aXNGb2N1c2luZzogYm9vbGVhbiA9IGZhbHNlO1xyXG5cdHdpbGxSYWlzZUJsdXI6IGJvb2xlYW4gPSBmYWxzZTtcclxuXHR3aWxsUmVzdG9yZUZvY3VzOiBib29sZWFuID0gZmFsc2U7XHJcblx0d2lsbFJlc3RvcmVGb2N1c1RpbWVzdGFtcDogbnVtYmVyID0gMDtcclxuXHR0eXBlOiBEYXRlUGlja2VyVHlwZSA9ICdkYXRlJztcclxuXHRpbnRlcm5hbFZhbHVlOiBEYXRlID0gbnVsbDtcclxuXHRpbnRlcm5hbFVucGFyc2VkVmFsdWU6IHN0cmluZyA9IG51bGw7XHJcblx0c2V0U29mdENsb3NlT25QaWNrOiBib29sZWFuID0gZmFsc2U7XHJcblxyXG5cdC8vIC0tLS0tLS0tLS0tLS0tIExpZmVDeWNsZSBIb29rcyAtLS0tLS0tLS0tLS0tLVxyXG5cdGNyZWF0ZWQoKSB7XHJcblx0XHR0aGlzLmludGVybmFsVmFsdWUgPSB0aGlzLnZhbHVlIGFzIERhdGU7XHJcblx0XHR0aGlzLmludGVybmFsVW5wYXJzZWRWYWx1ZSA9IHRoaXMudW5wYXJzZWRWYWx1ZTtcclxuXHR9XHJcblxyXG5cdG1vdW50ZWQoKSB7XHJcblx0XHQvLyBSYWlzZSBhbiBldmVudCB3aGVuIHRoZSBpbnB1dCBpcyBibHVycmVkXHJcblx0XHRjb25zdCBpbnB1dCA9IHRoaXMuJHJlZnMucmVmZXJlbmNlO1xyXG5cdFx0aWYgKGlucHV0ICYmIGlzQ29tcG9uZW50KGlucHV0KSkge1xyXG5cdFx0XHQvLyBUT0RPOiBJcyB0aGlzIGtvc2hlciwgaWYgbm90IHdlIGNvdWxkIHVwZGF0ZSB0aGUgZGF0ZS1waWNrZXIgdG8gc3Vic2NyaWJlIHRvIHRoZSBpbnB1dCdzIGV2ZW50cyBpbiB0aGUgdGVtcGxhdGU/XHJcblx0XHRcdGlucHV0LiRvbignYmx1cicsIChldnQ6IEZvY3VzRXZlbnQpID0+IHRoaXMuaGFuZGxlSW5wdXRCbHVyKGV2dCkpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0Ly8gLS0tLS0tLS0tLS0tLS0gQ29tcHV0ZWQgLS0tLS0tLS0tLS0tLS1cclxuXHRnZXQgZGlzcGxheVZhbHVlKCk6IHN0cmluZyB7XHJcblx0XHRpZiAodGhpcy51c2VySW5wdXQpIHtcclxuXHRcdFx0cmV0dXJuIHRoaXMudXNlcklucHV0O1xyXG5cdFx0fVxyXG5cdFx0ZWxzZSBpZiAodGhpcy5pbnRlcm5hbFVucGFyc2VkVmFsdWUgIT09IG51bGwpIHtcclxuXHRcdFx0cmV0dXJuIHRoaXMuaW50ZXJuYWxVbnBhcnNlZFZhbHVlO1xyXG5cdFx0fVxyXG5cdFx0ZWxzZSBpZiAodGhpcy5pbnRlcm5hbFZhbHVlICE9IG51bGwpIHtcclxuXHRcdFx0cmV0dXJuIHRoaXMuZm9ybWF0RGF0ZSh0aGlzLmludGVybmFsVmFsdWUsIHRoaXMubW9kZWxGb3JtYXQpO1xyXG5cdFx0fVxyXG5cdFx0ZWxzZSBpZiAodGhpcy5wYXJzZWRWYWx1ZSAhPSBudWxsKSB7XHJcblx0XHRcdHJldHVybiB0aGlzLmZvcm1hdERhdGUodGhpcy5wYXJzZWRWYWx1ZSwgdGhpcy5tb2RlbEZvcm1hdCk7XHJcblx0XHR9XHJcblx0XHRlbHNlIHtcclxuXHRcdFx0cmV0dXJuICcnO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0Ly8gLS0tLS0tLS0tLS0tLS0gV2F0Y2hlcnMgLS0tLS0tLS0tLS0tLS1cclxuXHRAV2F0Y2goJ3ZhbHVlJywgeyBpbW1lZGlhdGU6IHRydWUgfSlcclxuXHRvblZhbHVlQ2hhbmdlZCh2YWx1ZTogRGF0ZSB8IHN0cmluZyB8IHN0cmluZ1tdIHwgRGF0ZVtdKSB7XHJcblx0XHR0aGlzLmludGVybmFsVmFsdWUgPSB2YWx1ZSBhcyBEYXRlO1xyXG5cdH1cclxuXHJcblx0QFdhdGNoKCd1bnBhcnNlZFZhbHVlJywgeyBpbW1lZGlhdGU6IHRydWUgfSlcclxuXHRvblVucGFyc2VkVmFsdWVDaGFuZ2VkKHVucGFyc2VkVmFsdWU6IHN0cmluZykge1xyXG5cdFx0dGhpcy5pbnRlcm5hbFVucGFyc2VkVmFsdWUgPSB1bnBhcnNlZFZhbHVlO1xyXG5cdH1cclxuXHJcblx0dG9nZ2xlUGlja2VyVmlzaWJsZShpc1Zpc2libGU6IGJvb2xlYW4pIHtcclxuXHRcdGlmICh0aGlzLiRlbCkge1xyXG5cdFx0XHRjb25zdCBib3VuZHMgPSB0aGlzLiRlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuXHRcdFx0dGhpcy4kZW1pdCgncGlja2VyUG9zaXRpb24nLCB7IHRvcDogTWF0aC5jZWlsKGJvdW5kcy50b3ApLCBib3R0b206IE1hdGguY2VpbChib3VuZHMuYm90dG9tKSB9KTtcclxuXHRcdH1cclxuXHRcdHRoaXMucGlja2VyVmlzaWJsZSA9IGlzVmlzaWJsZTtcclxuXHR9XHJcblxyXG5cdC8vIC0tLS0tLS0tLS0tLS0tIE1ldGhvZHMgLS0tLS0tLS0tLS0tLS1cclxuXHRwYXJzZVN0cmluZyh2YWx1ZTogc3RyaW5nKTogRGF0ZSB7XHJcblx0XHRyZXR1cm4gdGhpcy5wYXJzZURhdGUodmFsdWUsIHRoaXMubW9kZWxGb3JtYXQpIGFzIERhdGU7XHJcblx0fVxyXG5cclxuXHRmb3JtYXRUb1N0cmluZyh2YWx1ZTogRGF0ZSk6IHN0cmluZyB7XHJcblx0XHRyZXR1cm4gdGhpcy5mb3JtYXREYXRlKHZhbHVlLCB0aGlzLm1vZGVsRm9ybWF0KTtcclxuXHR9XHJcblxyXG5cdGhhbmRsZUlucHV0Qmx1cihldnQ6IEZvY3VzRXZlbnQpIHtcclxuXHRcdGlmICghdGhpcy5waWNrZXJWaXNpYmxlICYmICF0aGlzLndpbGxSYWlzZUJsdXIgJiYgIXRoaXMud2lsbFJlc3RvcmVGb2N1cykge1xyXG5cdFx0XHQvLyBIYW5kbGUgYW5kIGVtaXQgY2hhbmdlIHNpbmNlIHRoZSBjaGFuZ2UgZXZlbnQgd29uJ3QgYmUgcmFpc2VkIGJ5IGVpdGhlciB0aGUgYHBpY2tlclZpc2libGVgIHdhdGNoZXIgb3IgZXhwbGljaXQgYmx1ciBsb2dpY1xyXG5cdFx0XHR0aGlzLmhhbmRsZUNoYW5nZSgpO1xyXG5cdFx0XHR0aGlzLmVtaXRDaGFuZ2UodGhpcy52YWx1ZSBhcyBzdHJpbmcgfCBEYXRlKTtcclxuXHRcdFx0Ly8gUmFpc2UgdGhlIGJsdXIgZXZlbnQgaGVyZSwgc2luY2UgdGhlIGJsdXIgZXZlbnQgd29uJ3QgYmUgcmFpc2VkIGR1ZSB0byBoaWRpbmcgdGhlIHBpY2tlciBvciBleHBsaWNpdGx5IGJsdXJyaW5nIHRoZSBpbnB1dFxyXG5cdFx0XHR0aGlzLiRlbWl0KCdibHVyJywgZXZ0KTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdGhhbmRsZUZvY3VzKGV2ZW50OiBGb2N1c0V2ZW50IHwgTW91c2VFdmVudCk6IHZvaWQge1xyXG5cdFx0Y29uc3QgdHlwZSA9IHRoaXMudHlwZTtcclxuXHJcblx0XHRjb25zdCBpc0NsaWNrVG9Gb2N1cyA9IGV2ZW50ICYmIGV2ZW50LnR5cGUgPT09ICdjbGljayc7XHJcblxyXG5cdFx0aWYgKEhBVkVfVFJJR0dFUl9UWVBFUy5pbmRleE9mKHR5cGUpICE9PSAtMSAmJiBpc0NsaWNrVG9Gb2N1cyAmJiAhdGhpcy5waWNrZXJWaXNpYmxlICYmICF0aGlzLmlzRm9jdXNpbmcpIHtcclxuXHRcdFx0dGhpcy50b2dnbGVQaWNrZXJWaXNpYmxlKHRydWUpO1xyXG5cdFx0XHQvLyBBZnRlciB0aGUgZGF0ZSBpcyBzZWxlY3RlZCwgbWFrZSBzdXJlIHRvIGtlZXAgdGhlIGZvY3VzIG9uIHRoZSBkYXRlJ3MgaW5wdXQgZmllbGRcclxuXHRcdFx0aWYgKCF0aGlzLnNldFNvZnRDbG9zZU9uUGljaykge1xyXG5cdFx0XHRcdHNldFRpbWVvdXQoKCkgPT4ge1xyXG5cdFx0XHRcdFx0dGhpcy5waWNrZXIuJG9uKCdwaWNrJywgKHZhbHVlLCBrZWVwT3BlbikgPT4ge1xyXG5cdFx0XHRcdFx0XHRpZiAoIWtlZXBPcGVuKVxyXG5cdFx0XHRcdFx0XHRcdHRoaXMuc29mdENsb3NlKCk7XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdHRoaXMuc2V0U29mdENsb3NlT25QaWNrID0gdHJ1ZTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdHRoaXMuaXNGb2N1c2luZyA9IGZhbHNlO1xyXG5cclxuXHRcdHRoaXMuJGVtaXQoJ2ZvY3VzJywgdGhpcyk7XHJcblx0fVxyXG5cclxuXHRoYW5kbGVLZXlkb3duKGV2ZW50OiBLZXlib2FyZEV2ZW50KTogdm9pZCB7XHJcblx0XHRjb25zdCBrZXlDb2RlID0gZXZlbnQua2V5Q29kZTtcclxuXHJcblx0XHQvLyBBTFQgKyBVUFxyXG5cdFx0aWYgKGV2ZW50LmFsdEtleSAmJiBldmVudC5rZXlDb2RlID09PSAzOCkge1xyXG5cdFx0XHQvLyBIYW5kbGUgY2hhbmdlIGJlZm9yZSBoaWRpbmcgdGhlIHBpY2tlciBpbiBjYXNlIHRoZSB1c2VyIGlzIHR5cGluZyB0ZXh0IGFscmVhZHlcclxuXHRcdFx0dGhpcy5oYW5kbGVDaGFuZ2UoKTtcclxuXHRcdFx0Ly8gTk9URTogQWx0K1VwIGJlaGF2ZXMgdGhlIHNhbWUgd2F5IGFzIGVzY2FwZSBpbiB0ZXJtcyBvZiBoaWRpbmcgdGhlIHBpY2tlclxyXG5cdFx0XHQvLyBOb3RlIHRoYXQgdGhlIHBpY2tlciBpbnRlbmRzIHRvIGtlZXAgZm9jdXMgZXZlbiB0aG91Z2ggaGlkaW5nIHRoZSBwaWNrZXIgd2lsbCBjYXVzZSBpdCB0byB0ZW1wb3JhcmlseSBsb3NlIGZvY3VzXHJcblx0XHRcdHRoaXMuc29mdENsb3NlKGV2ZW50KTtcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIEFMVCArIERPV05cclxuXHRcdGlmIChldmVudC5hbHRLZXkgJiYgZXZlbnQua2V5Q29kZSA9PT0gNDApIHtcclxuXHRcdFx0Ly8gSGFuZGxlIGNoYW5nZSBiZWZvcmUgc2hvd2luZyB0aGUgcGlja2VyIGluIGNhc2UgdGhlIHVzZXIgdHlwZWQgdGV4dCB3aGlsZSB0aGUgcGlja2VyIHdhcyBjbG9zZWRcclxuXHRcdFx0dGhpcy5oYW5kbGVDaGFuZ2UoKTtcclxuXHRcdFx0Ly8gU2hvdyB0aGUgcGlja2VyXHJcblx0XHRcdHRoaXMudG9nZ2xlUGlja2VyVmlzaWJsZSh0cnVlKTtcclxuXHRcdFx0ZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBFU0NcclxuXHRcdGlmIChrZXlDb2RlID09PSAyNykge1xyXG5cdFx0XHR0aGlzLnNvZnRDbG9zZShldmVudCk7XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBUYWJcclxuXHRcdGlmIChrZXlDb2RlID09PSA5KSB7XHJcblx0XHRcdC8vIHNldFRpbWVvdXQgaXMgbmVlZGVkIGluIElFMTEgYW5kIEVkZ2UgdG8gYWxsb3cgZm9jdXMgdG8gYmUgc2V0IG9uIG5leHQgZWxlbWVudCBpbnN0ZWFkIG9mIGJvZHlcclxuXHRcdFx0c2V0VGltZW91dCgoKSA9PiB7XHJcblx0XHRcdFx0aWYgKCF0aGlzLnJhbmdlZCkge1xyXG5cdFx0XHRcdFx0dGhpcy5oYW5kbGVDaGFuZ2UoKTtcclxuXHJcblx0XHRcdFx0XHQvLyBOb3RlIHRoYXQgdGhlIHBpY2tlciBpcyBleHBsaWNpdGx5IGJsdXJyaW5nIGl0cyBpbnB1dCBhbmQgd2lsbCByYWlzZSBhbiBlbWl0IGV2ZW50IGVpdGhlciBoZXJlLCBvciBpbiB0aGUgYHBpY2tlclZpc2libGVgIHdhdGNoZXJcclxuXHRcdFx0XHRcdHRoaXMud2lsbFJhaXNlQmx1ciA9IHRydWU7XHJcblx0XHRcdFx0XHRpZiAoIXRoaXMucGlja2VyVmlzaWJsZSAmJiAhKHRoaXMucGlja2VyICYmIHRoaXMucGlja2VyLnZpc2libGUpKSB7XHJcblx0XHRcdFx0XHRcdC8vIE5PVEU6IENvcGllZCBmcm9tICdwaWNrZXJWaXNpYmxlJyB3YXRjaGVyXHJcblx0XHRcdFx0XHRcdHRoaXMuZW1pdENoYW5nZSh0aGlzLnZhbHVlIGFzIHN0cmluZyB8IERhdGUpO1xyXG5cdFx0XHRcdFx0XHR0aGlzLnVzZXJJbnB1dCA9IG51bGw7XHJcblx0XHRcdFx0XHRcdHRoaXMuJGVtaXQoJ2JsdXInLCB0aGlzKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRpZiAodGhpcy5waWNrZXIpIHtcclxuXHRcdFx0XHRcdFx0XHR0aGlzLnBpY2tlci52aXNpYmxlID0gZmFsc2U7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0dGhpcy50b2dnbGVQaWNrZXJWaXNpYmxlKGZhbHNlKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdHRoaXMuYmx1cigpO1xyXG5cdFx0XHRcdFx0dGhpcy53aWxsUmFpc2VCbHVyID0gZmFsc2U7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGVsc2Uge1xyXG5cdFx0XHRcdFx0Ly8gdXNlciBtYXkgY2hhbmdlIGZvY3VzIGJldHdlZW4gdHdvIGlucHV0XHJcblx0XHRcdFx0XHRpZiAodGhpcy5yZWZJbnB1dC5pbmRleE9mKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgYXMgYW55KSA9PT0gLTEpIHtcclxuXHRcdFx0XHRcdFx0Ly8gTm90ZSB0aGF0IHRoZSBwaWNrZXIgaXMgZXhwbGljaXRseSBibHVycmluZyBpdHMgaW5wdXQgYW5kIHdpbGwgcmFpc2UgdGhlIGJsdXIgZXZlbnQgKHZpYSB0aGUgYHBpY2tlclZpc2libGVgIHdhdGNoZXIpXHJcblx0XHRcdFx0XHRcdHRoaXMud2lsbFJhaXNlQmx1ciA9IHRydWU7XHJcblx0XHRcdFx0XHRcdHRoaXMudG9nZ2xlUGlja2VyVmlzaWJsZShmYWxzZSk7XHJcblx0XHRcdFx0XHRcdHRoaXMuYmx1cigpO1xyXG5cdFx0XHRcdFx0XHR0aGlzLndpbGxSYWlzZUJsdXIgPSBmYWxzZTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pO1xyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gRW50ZXJcclxuXHRcdGlmIChrZXlDb2RlID09PSAxMykge1xyXG5cdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuXHRcdFx0aWYgKCF0aGlzLnBpY2tlclZpc2libGUpIHtcclxuXHRcdFx0XHQvLyBIYW5kbGUgY2hhbmdlIGJlZm9yZSBzaG93aW5nIHRoZSBwaWNrZXIgaW4gY2FzZSB0aGUgdXNlciB0eXBlZCB0ZXh0IHdoaWxlIHRoZSBwaWNrZXIgd2FzIGNsb3NlZFxyXG5cdFx0XHRcdHRoaXMuaGFuZGxlQ2hhbmdlKCk7XHJcblx0XHRcdFx0Ly8gU2hvdyB0aGUgcGlja2VyLCBpLmUuIHdoYXQgaXMgZG9uZSB3aGVuIHRoZSBpbnB1dCBpcyBmb2N1c2VkXHJcblx0XHRcdFx0dGhpcy50b2dnbGVQaWNrZXJWaXNpYmxlKHRydWUpO1xyXG5cdFx0XHRcdGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0fVxyXG5cdFx0XHRlbHNlIHtcclxuXHRcdFx0XHQvLyBIYW5kbGUgY2hhbmdlIGJlZm9yZSBoaWRpbmcgdGhlIHBpY2tlciBpbiBjYXNlIHRoZSB1c2VyIGlzIHR5cGluZyB0ZXh0IGFscmVhZHlcclxuXHRcdFx0XHR0aGlzLmhhbmRsZUNoYW5nZSgpO1xyXG5cdFx0XHRcdHRoaXMuc29mdENsb3NlKGV2ZW50KTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0aWYgKHRoaXMudXNlcklucHV0ID09PSAnJyB8fCB0aGlzLmlzVmFsaWRWYWx1ZSh0aGlzLnBhcnNlU3RyaW5nKHRoaXMuZGlzcGxheVZhbHVlKSkpIHtcclxuXHRcdFx0XHR0aGlzLmhhbmRsZUNoYW5nZSgpO1xyXG5cdFx0XHRcdGlmICh0aGlzLnBpY2tlcikge1xyXG5cdFx0XHRcdFx0dGhpcy5waWNrZXIudmlzaWJsZSA9IGZhbHNlO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHR0aGlzLnRvZ2dsZVBpY2tlclZpc2libGUoZmFsc2UpO1xyXG5cdFx0XHRcdHRoaXMuYmx1cigpO1xyXG5cdFx0XHR9XHJcblx0XHRcdHRoaXMuc29mdENsb3NlKGV2ZW50KTtcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIGlmIHVzZXIgaXMgdHlwaW5nLCBkbyBub3QgbGV0IHBpY2tlciBoYW5kbGUga2V5IGlucHV0XHJcblx0XHRpZiAodGhpcy51c2VySW5wdXQpIHtcclxuXHRcdFx0ZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBkZWxlZ2F0ZSBvdGhlciBrZXlzIHRvIHBhbmVsXHJcblx0XHRpZiAodGhpcy5waWNrZXIgJiYgdGhpcy5waWNrZXIuaGFuZGxlS2V5ZG93bikge1xyXG5cdFx0XHR0aGlzLnBpY2tlci5oYW5kbGVLZXlkb3duKGV2ZW50KTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdGVtaXRJbnB1dCh2YWw6IHN0cmluZyB8IERhdGUpOiB2b2lkIHtcclxuXHRcdGNvbnN0IHZhbHVlID0gdHlwZW9mIHZhbCA9PT0gJ3N0cmluZycgPyB0aGlzLnBhcnNlRGF0ZSh2YWwsIHRoaXMubW9kZWxGb3JtYXQpIDogdmFsIHx8IG51bGw7XHJcblx0XHRsZXQgdW5wYXJzZWRWYWx1ZSA9IHRoaXMuaW50ZXJuYWxVbnBhcnNlZFZhbHVlO1xyXG5cclxuXHRcdGlmICh2YWx1ZSkge1xyXG5cdFx0XHR0aGlzLmludGVybmFsVmFsdWUgPSB2YWx1ZTtcclxuXHRcdFx0dGhpcy5pbnRlcm5hbFVucGFyc2VkVmFsdWUgPSBudWxsO1xyXG5cdFx0fVxyXG5cdFx0ZWxzZSB7XHJcblx0XHRcdHRoaXMuaW50ZXJuYWxWYWx1ZSA9IG51bGw7XHJcblx0XHRcdHRoaXMuaW50ZXJuYWxVbnBhcnNlZFZhbHVlID0gdW5wYXJzZWRWYWx1ZSA9IHR5cGVvZiB2YWwgPT09ICdzdHJpbmcnID8gdmFsIDogbnVsbDtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAodmFsdWUgIT09IHRoaXMudmFsdWUgfHwgdW5wYXJzZWRWYWx1ZSAhPT0gdGhpcy51bnBhcnNlZFZhbHVlKSB7XHJcblx0XHRcdHRoaXMuJGVtaXQoJ2lucHV0JywgdmFsdWUsIHVucGFyc2VkVmFsdWUpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICh0aGlzLnBpY2tlciAmJiB2YWx1ZSAmJiB0eXBlb2YgdmFsID09PSAnc3RyaW5nJykge1xyXG5cdFx0XHQvLyBVcGRhdGUgdGhlIHBpY2tlcidzIHNlbGVjdGVkIHZhbHVlIHdoZW4gYSB2YWxpZCBkYXRlIGlzIHR5cGVkXHJcblx0XHRcdHRoaXMucGlja2VyLnZhbHVlID0gdmFsdWU7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRlbWl0Q2hhbmdlKHZhbDogc3RyaW5nIHwgRGF0ZSk6IHZvaWQge1xyXG5cdFx0aWYgKHRoaXMud2lsbFJlc3RvcmVGb2N1cyAmJiB0aGlzLndpbGxSZXN0b3JlRm9jdXNUaW1lc3RhbXAgJiYgKERhdGUubm93KCkgLSB0aGlzLndpbGxSZXN0b3JlRm9jdXNUaW1lc3RhbXApIDwgMTAwKSB7XHJcblx0XHRcdC8vIERvbid0IHJhaXNlIGEgY2hhbmdlIGV2ZW50IGlmIHdlJ3JlIGdvaW5nIHRvIGltbWVkaWF0ZWx5IHJlc3RvcmUgZm9jdXMgdG8gdGhlIGlucHV0LFxyXG5cdFx0XHQvLyBzaW5jZSBjb25jZXB0dWFsbHkgdGhlIGlucHV0IGlzIG1haW50YWluaW5nIGZvY3VzIGFuZCBzbyB0aGlzIHNob3VsZG4ndCBiZSBhIGNoYW5nZVxyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gTk9URTogVGhlIGVsZW1lbnQgcGlja2VyIGNhbGxzIGBlbWl0Q2hhbmdlKG51bGwpYCBpbiBtb3N0IGNhc2VzLCB0aGUgb25seSBleGNlcHRpb24gaXMgYGVtaXRDaGFuZ2UodGhpcy52YWx1ZSlgIHdoZW4gYVxyXG5cdFx0Ly8gZGF0ZSBpcyBwaWNrZWQgZnJvbSB0aGUgZGF0ZSBwaWNrZXIuIEluIHRoYXQgY2FzZSwgdGhlICdpbnB1dCcgZXZlbnQgaGFzIGJlZW4gcmFpc2VkIHdpdGggdGhlIHNlbGVjdGVkIHZhbHVlLCBidXQgc2luY2VcclxuXHRcdC8vIHRoZXJlJ3Mgbm8gZ3VhcmFudGVlIHRoYXQgdGhlIGVtaXR0ZWQgaW5wdXQgaGFzIGJlZW4gcHVzaGVkIGJhY2sgZG93biB0byB0aGUgY29tcG9uZW50cyBgdmFsdWVgIHByb3AsIHRoZW4gdXNlIHRoZSBpbnRlcm5hbFxyXG5cdFx0Ly8gdmFsdWUgdGhhdCB3ZSdyZSB0cmFja2luZyBpbnN0ZWFkLiBJZiB0aGUgYHZhbHVlYCBwcm9wIGlzIHJlLWJvdW5kLCB0aGVuIGBpbnRlcm5hbFZhbHVlYCB3aWxsIGdldCBzZXQgdG8gdGhhdCB2YWx1ZSBhbnl3YXkuXHJcblx0XHR2YWwgPSB0aGlzLmludGVybmFsVmFsdWU7XHJcblxyXG5cdFx0Y29uc3QgdmFsdWUgPSB0eXBlb2YgdmFsID09PSAnc3RyaW5nJyA/IHRoaXMucGFyc2VEYXRlKHZhbCwgdGhpcy5tb2RlbEZvcm1hdCkgOiB2YWwgfHwgbnVsbDtcclxuXHRcdGNvbnN0IHVucGFyc2VkVmFsdWUgPSB0aGlzLmludGVybmFsVW5wYXJzZWRWYWx1ZTtcclxuXHRcdGlmICh2YWx1ZSAhPT0gdGhpcy52YWx1ZSB8fCB1bnBhcnNlZFZhbHVlICE9PSB0aGlzLnVucGFyc2VkVmFsdWUpIHtcclxuXHRcdFx0dGhpcy4kZW1pdCgnY2hhbmdlJywgdmFsdWUsIHVucGFyc2VkVmFsdWUpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0aGFuZGxlSW5wdXQodmFsdWU6IHN0cmluZyk6IHZvaWQge1xyXG5cdFx0dGhpcy51c2VySW5wdXQgPSB2YWx1ZTtcclxuXHRcdHRoaXMuZW1pdElucHV0KHZhbHVlKTtcclxuXHR9XHJcblxyXG5cdGhhbmRsZUNoYW5nZSgpOiB2b2lkIHtcclxuXHRcdGlmICh0aGlzLnVzZXJJbnB1dCkge1xyXG5cdFx0XHRjb25zdCBkaXNwbGF5VmFsdWUgPSB0aGlzLmRpc3BsYXlWYWx1ZTtcclxuXHRcdFx0Y29uc3QgdmFsdWUgPSB0aGlzLnBhcnNlU3RyaW5nKGRpc3BsYXlWYWx1ZSk7XHJcblx0XHRcdGlmICh2YWx1ZSkge1xyXG5cdFx0XHRcdHRoaXMuaW50ZXJuYWxVbnBhcnNlZFZhbHVlID0gbnVsbDtcclxuXHRcdFx0XHRpZiAodGhpcy5waWNrZXIpIHtcclxuXHRcdFx0XHRcdHRoaXMucGlja2VyLnZhbHVlID0gdmFsdWU7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGlmICh0aGlzLmlzVmFsaWRWYWx1ZSh2YWx1ZSkpIHtcclxuXHRcdFx0XHRcdHRoaXMuZW1pdElucHV0KGRpc3BsYXlWYWx1ZSk7XHJcblx0XHRcdFx0XHR0aGlzLnVzZXJJbnB1dCA9IG51bGw7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHRcdGVsc2Uge1xyXG5cdFx0XHRcdHRoaXMuaW50ZXJuYWxVbnBhcnNlZFZhbHVlID0gdGhpcy51c2VySW5wdXQ7XHJcblx0XHRcdFx0dGhpcy5lbWl0SW5wdXQodGhpcy51c2VySW5wdXQpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRlbHNlIHtcclxuXHRcdFx0dGhpcy5pbnRlcm5hbFVucGFyc2VkVmFsdWUgPSBudWxsO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICh0aGlzLnVzZXJJbnB1dCA9PT0gJycpIHtcclxuXHRcdFx0dGhpcy5lbWl0SW5wdXQobnVsbCk7XHJcblx0XHRcdHRoaXMuZW1pdENoYW5nZShudWxsKTtcclxuXHRcdFx0dGhpcy51c2VySW5wdXQgPSBudWxsO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0Ly8gQ2xvc2VzIHRoZSBkYXRlIHBpY2tlciB3aGlsZSBrZWVwaW5nIGZvY3VzIG9uIHRoZSBkYXRlJ3MgaW5wdXQgZmllbGRcclxuXHRzb2Z0Q2xvc2UoZXZlbnQ6IEV2ZW50IHwgdm9pZCkge1xyXG5cdFx0Ly8gTm90ZSB0aGF0IHRoZSBwaWNrZXIgaW50ZW5kcyB0byBrZWVwIGZvY3VzIGV2ZW4gdGhvdWdoIGhpZGluZyB0aGUgcGlja2VyIHdpbGwgY2F1c2UgaXQgdG8gdGVtcG9yYXJpbHkgbG9zZSBmb2N1c1xyXG5cdFx0dGhpcy53aWxsUmVzdG9yZUZvY3VzID0gdHJ1ZTtcclxuXHRcdHRoaXMud2lsbFJlc3RvcmVGb2N1c1RpbWVzdGFtcCA9IERhdGUubm93KCk7XHJcblx0XHQvLyBNYWtlIG5vdGUgb2YgdGhlIGN1cnJlbnQgdXNlciBpbnB1dCBzbyB0aGF0IGl0IGNhbiBiZSByZXN0b3JlZCBhZnRlciBjbG9zaW5nIHRoZSBwaWNrZXJcclxuXHRcdGNvbnN0IHVzZXJJbnB1dFRvUmVzdG9yZSA9IHRoaXMudXNlcklucHV0O1xyXG5cdFx0Ly8gSGlkZSB0aGUgcGlja2VyOiB0aGlzIHdpbGwgcmFpc2UgY2hhbmdlLCBjbGVhciBvdXQgdXNlciBpbnB1dCwgYW5kIGJsdXIgdGhlIGlucHV0XHJcblx0XHR0aGlzLnRvZ2dsZVBpY2tlclZpc2libGUoZmFsc2UpO1xyXG5cdFx0aWYgKGV2ZW50KVxyXG5cdFx0XHRldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHRcdC8vIFJlc3RvcmUgZm9jdXMgdG8gdGhlIGlucHV0IHdpdGggdGhlIHByZXZpb3VzbHkgdHlwZWQgdmFsdWUsIGlmIGFueVxyXG5cdFx0Y29uc3QgaW5wdXQgPSB0aGlzLnJlZklucHV0WzBdO1xyXG5cdFx0aWYgKGlucHV0KSB7XHJcblx0XHRcdHNldFRpbWVvdXQoKCkgPT4ge1xyXG5cdFx0XHRcdHRoaXMud2lsbFJlc3RvcmVGb2N1cyA9IGZhbHNlO1xyXG5cdFx0XHRcdHRoaXMuaXNGb2N1c2luZyA9IHRydWU7XHJcblxyXG5cdFx0XHRcdHRyeSB7XHJcblx0XHRcdFx0XHQvLyBSZXN0b3JlIHRoZSB1c2VyIGlucHV0LCBzaW5jZSBpdCB3b3VsZCBoYXZlIGJlZW4gY2xlYXJlZCBvdXQgYnkgdGhlIGBwaWNrZXJWaXNpYmxlYCB3YXRjaGVyXHJcblx0XHRcdFx0XHRpZiAodXNlcklucHV0VG9SZXN0b3JlKVxyXG5cdFx0XHRcdFx0XHR0aGlzLnVzZXJJbnB1dCA9IHVzZXJJbnB1dFRvUmVzdG9yZTtcclxuXHRcdFx0XHRcdGlucHV0LmZvY3VzKCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGNhdGNoIChlKSB7IH1cclxuXHJcblx0XHRcdFx0dGhpcy5pc0ZvY3VzaW5nID0gZmFsc2U7XHJcblx0XHRcdH0sIDApO1xyXG5cdFx0fVxyXG5cdFx0ZWxzZSB7XHJcblx0XHRcdHRoaXMud2lsbFJlc3RvcmVGb2N1cyA9IGZhbHNlO1xyXG5cdFx0fVxyXG5cdH1cclxufVxyXG4iLCIvKipcclxuICogQ29udmVydHMgYSAuTkVUIGRhdGUvdGltZSBmb3JtYXQgc3RyaW5nIGludG8gYW4gZXF1aXZlbGFudCAob3IgY29tcGF0aWJsZT8pIEVsZW1lbnQgVUkgZm9ybWF0IHN0cmluZ1xyXG4gKiBAcGFyYW0gZm9ybWF0IFRoZSBkYXRlL3RpbWUgZm9ybWF0IHN0cmluZ1xyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGNvbnZlcnRUb0VsZW1lbnREYXRlRm9ybWF0KGZvcm1hdDogc3RyaW5nKTogc3RyaW5nIHtcclxuXHRpZiAoZm9ybWF0KSB7XHJcblx0XHRmb3JtYXQgPSBmb3JtYXQucmVwbGFjZSgvdHQvZywgJ0EnKTtcclxuXHR9XHJcblx0cmV0dXJuIGZvcm1hdDtcclxufVxyXG4iLCJpbXBvcnQgYXBpIGZyb20gXCIhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3N0eWxlLWxvYWRlckAyLjAuMF93ZWJwYWNrQDQuNDYuMC9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanNcIjtcbiAgICAgICAgICAgIGltcG9ydCBjb250ZW50IGZyb20gXCIhIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9jc3MtbG9hZGVyQDMuMi4wX3dlYnBhY2tANC40Ni4wL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9zYXNzLWxvYWRlckAxMC4xLjFfc2Fzc0AxLjQ0LjBfd2VicGFja0A0LjQ2LjAvbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9zYXNzLXJlc291cmNlcy1sb2FkZXJAMi4wLjEvbm9kZV9tb2R1bGVzL3Nhc3MtcmVzb3VyY2VzLWxvYWRlci9saWIvbG9hZGVyLmpzPz9yZWYtLTUtb25lT2YtMS0zIS4vX3BpY2tlci1wYW5lbC5zY3NzXCI7XG5cbnZhciBvcHRpb25zID0ge1wiYXR0cmlidXRlc1wiOntcImNsYXNzXCI6XCJjb2ctc3R5bGVcIn19O1xuXG5vcHRpb25zLmluc2VydCA9IFwiaGVhZFwiO1xub3B0aW9ucy5zaW5nbGV0b24gPSBmYWxzZTtcblxudmFyIHVwZGF0ZSA9IGFwaShjb250ZW50LCBvcHRpb25zKTtcblxuXG5pZiAobW9kdWxlLmhvdCkge1xuICBpZiAoIWNvbnRlbnQubG9jYWxzIHx8IG1vZHVsZS5ob3QuaW52YWxpZGF0ZSkge1xuICAgIHZhciBpc0VxdWFsTG9jYWxzID0gZnVuY3Rpb24gaXNFcXVhbExvY2FscyhhLCBiLCBpc05hbWVkRXhwb3J0KSB7XG4gIGlmICghYSAmJiBiIHx8IGEgJiYgIWIpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICB2YXIgcDtcblxuICBmb3IgKHAgaW4gYSkge1xuICAgIGlmIChpc05hbWVkRXhwb3J0ICYmIHAgPT09ICdkZWZhdWx0Jykge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnRpbnVlXG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICBpZiAoYVtwXSAhPT0gYltwXSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIGZvciAocCBpbiBiKSB7XG4gICAgaWYgKGlzTmFtZWRFeHBvcnQgJiYgcCA9PT0gJ2RlZmF1bHQnKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29udGludWVcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIGlmICghYVtwXSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufTtcbiAgICB2YXIgb2xkTG9jYWxzID0gY29udGVudC5sb2NhbHM7XG5cbiAgICBtb2R1bGUuaG90LmFjY2VwdChcbiAgICAgIFwiISEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vY3NzLWxvYWRlckAzLjIuMF93ZWJwYWNrQDQuNDYuMC9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vc2Fzcy1sb2FkZXJAMTAuMS4xX3Nhc3NAMS40NC4wX3dlYnBhY2tANC40Ni4wL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9kaXN0L2Nqcy5qcyEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vc2Fzcy1yZXNvdXJjZXMtbG9hZGVyQDIuMC4xL25vZGVfbW9kdWxlcy9zYXNzLXJlc291cmNlcy1sb2FkZXIvbGliL2xvYWRlci5qcz8/cmVmLS01LW9uZU9mLTEtMyEuL19waWNrZXItcGFuZWwuc2Nzc1wiLFxuICAgICAgZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIWlzRXF1YWxMb2NhbHMob2xkTG9jYWxzLCBjb250ZW50LmxvY2FscywgdW5kZWZpbmVkKSkge1xuICAgICAgICAgICAgICAgIG1vZHVsZS5ob3QuaW52YWxpZGF0ZSgpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgb2xkTG9jYWxzID0gY29udGVudC5sb2NhbHM7XG5cbiAgICAgICAgICAgICAgdXBkYXRlKGNvbnRlbnQpO1xuICAgICAgfVxuICAgIClcbiAgfVxuXG4gIG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHtcbiAgICB1cGRhdGUoKTtcbiAgfSk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNvbnRlbnQubG9jYWxzIHx8IHt9OyIsImltcG9ydCB7IGdldERldmljZVR5cGUgfSBmcm9tICdAY29nbml0b2Zvcm1zL3V0aWxzL3VzZXItYWdlbnQnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gc2hvdWxkSGlkZURhdGVUaW1lSWNvbihtb2JpbGU6IGJvb2xlYW4sIHRleHRWYWx1ZTogc3RyaW5nLCBpbnB1dEVsZW1lbnQ6IEhUTUxJbnB1dEVsZW1lbnQpIHtcclxuXHRpZiAoXHJcblx0XHQhbW9iaWxlIHx8XHJcblx0XHQhdGV4dFZhbHVlLmxlbmd0aCB8fFxyXG5cdFx0IShnZXREZXZpY2VUeXBlKHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50KSA9PT0gJ2lwYWQnIHx8IGdldERldmljZVR5cGUod2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQpID09PSAnaXBob25lJylcclxuXHQpXHJcblx0XHRyZXR1cm4gZmFsc2U7XHJcblxyXG5cdGNvbnN0IGRhdGVJbnB1dFRocmVzaG9sZDogbnVtYmVyID0gMTEwO1xyXG5cdGNvbnN0IHRpbWVJbnB1dFRocmVzaG9sZDogbnVtYmVyID0gODU7XHJcblx0Y29uc3QgdHlwZTogJ2RhdGUnIHwgJ3RpbWUnID0gaW5wdXRFbGVtZW50LmdldEF0dHJpYnV0ZSgndHlwZScpIGFzIGFueTtcclxuXHJcblx0Ly8gVGhyZXNob2xkcyB3aWxsIHdvcmsgZm9yIG1vc3QgbG9jYWxlcyBidXQgbm90IGFsbC4gVmlldG5hbWVzZSBkYXRlcywgZm9yIGV4YW1wbGUsIHdpbGwgc3RpbGwgaGF2ZSBhIHByb2JsZW0uXHJcblx0cmV0dXJuIGlucHV0RWxlbWVudC5jbGllbnRXaWR0aCA8ICh0eXBlID09PSAnZGF0ZScgPyBkYXRlSW5wdXRUaHJlc2hvbGQgOiB0aW1lSW5wdXRUaHJlc2hvbGQpO1xyXG59Il0sInNvdXJjZVJvb3QiOiIifQ==