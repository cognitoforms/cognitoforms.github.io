var code = window.innerWidth + 'X' + window.innerHeight;

document.body.addEventListener('click', function(e){
  code = code + 'C' + e.x + 'X' + e.y;
  alert('Thank you. Your code is: ' + code + 'T' + Math.round(e.timeStamp));
  code = code + '-';
});

document.getElementById('save').addEventListener('click', function(e){
  e.stopPropagation();
  
  code = code + 'CST' + Math.round(e.timeStamp);
  alert('Thank you. Your code is: ' + code);
  code = code + '-';
});

const rawData = [
  "1280X913C662X317T4977", 
  "1366X657C629X266-C1348X102T55356", 
  "1280X657C398X78T4404", 
  "1600X757CST11273", 
  "1366X657C496X394T5875", 
  "1366X657C799X153T1264", 
  "1366X625CST19600", 
  "1280X577C465X401T8570", 
  "1504X860CST20911", 
  "1366X625CST16119", 
  "1366X657CST10360", 
  "1280X569CST30833", 
  "1536X722CST27895", 
  "1366X649CST23651", 
  "1280X657C567X205T2450", 
  "1920X937C783X258T7644", 
  "798X736C47X328T16592", 
  "1918X878C789X271T4365", 
  "1920X937CST9971-CST27236", 
  "1680X939C669X404T2985", 
  "1280X657C512X202T5557", 
  "1280X657C847X131T3815", 
  "1366X625CST32117", 
  "1366X657C1217X505T4266", 
  "1366X625C593X34T25548", 
  "1920X912C1037X255T3328", 
  "2560X937C137X221-C168X225-C1251X38T66594", 
  "1536X746CST32346", 
  "1280X899CST21371", 
  "1366X657C37X265T15216", 
  "1366X657C100X208T10837", 
  "1366X657C493X401T28312", 
  "1680X907C353X217T5603", 
  "980X1498CST8225", 
  "1280X881C260X408T6563", 
  "1488X714CST8910", 
  "1920X961C889X307T5696", 
  "1920X872C772X395T2949", 
  "1280X881C300X203T8523", 
  "1440X795CST8398", 
  "980X1707C356X352-C356X351T39286", 
  "1536X722C456X206T7901", 
  "1437X771CST21803", 
  "1364X657CST2546", 
  "1152X579CST14661", 
  "916X859CST4618", 
  "1920X937C45X73T18250", 
  "1600X757C819X218T2558", 
  "1366X625CST6101", 
  "1974X846C842X267T2421", 
  "1920X929CST4142", 
  "1440X695C587X504T17908", 
  "1920X937CST6321", 
  "1536X722C1104X174T9253", 
  "1280X881CST11578", 
  "1149X925CST8344", 
  "1366X625CST21718", 
  "1366X657C538X244-C38X271-CST42777", 
  "1094X472C422X261-C895X141-C59X241T30113", 
  "1366X657C798X457T42085", 
  "1366X658CST2365", 
  "1366X625CST6860", 
  "980X1612CST20984", 
  "1440X821C641X503T3615", 
  "1536X762CST5442", 
  "2048X878CST5657", 
  "1536X714C76X207T10390", 
  "1366X657C602X258T7173", 
  "1536X714C36X273T6386", 
  "1280X881C619X211T9859", 
  "1920X899CST2378", 
  "1536X714C107X558-CST25330", 
  "1920X901C801X259-C843X289-C842X283T23998", 
  "1366X625C708X97-C710X184T20541", 
  "1366X625C609X478T3949", 
  "1366X657CST8152", 
  "1440X797C607X253T2915", 
  "1360X625CST28156", 
  "1680X965CST25626", 
  "1366X625CST16372", 
  "1470X840CST2061", 
  "1366X625CST2537", 
  "1366X625CST6951", 
  "1024X625C456X203T4674", 
  "1366X627CST26053", 
  "1280X881CST17446", 
  "1280X881CST4234", 
  "980x1365cst5745-cst13471", 
  "1366X625C561X261T5868", 
  "1366X657CST11317", 
  "1536X754C597X401T4076", 
  "1396X649CST17312", 
  "1440X757C590X252-C567X265T14661", 
  "1600X757C599X230T1410", 
  "980X1707C348X233-C47X203-CST19533", 
  "1366X625C590X242-C578X106T6169", 
  "1366X621CST9363", 
  "2048X1019CST23573", 
  "1600X757C826X207T2373", 
  "980x621cst6355", 
  "1920X927CST2049", 
  "1602X962C627X392T2836", 
  "1920X969C950X210-CST29333", 
  "1366X657CST33590", 
  "1600X757C527X440T13880", 
  "1386X766CST22371", 
  "1366X649CST11856", 
  "1280X609CST41531", 
  "1366X633CST1713", 
  "1680X970CST10709", 
  "1536X750CST14376", 
  "1366X625C31X273-C37X338-CST78202", 
  "1366X625C493X264T5821", 
  "1920X919C954X509T4712", 
  "1364X625CST106634", 
  "1440X788CST7878", 
  "2048X1042CST18465", 
  "1360X657CST20250", 
  "1440X789C922X286T3013", 
  "1366X625C607X203T4680", 
  "1440X821CST15202", 
  "1920X955CST1540", 
  "1504X892CST6281", 
  "1366X625C231X219T8147", 
  "1600X757C788X294T2735", 
  "1440X781CST9088", 
  "1920X937CST10814", 
  "1536X714C249X206T3638", 
  "1525X763CST8783", 
  "1076X903CST9790", 
  "1366X617CST41151", 
  "1180X713C919X117-CST32161", 
  "1024X615C246X36T10842", 
  "1366X657CST13043", 
  "1600X971C264X611T6498", 
  "1536X723C745X36-C663X27-CST43564-CST89875", 
  "1366X625CST7727", 
  "1008X640CST15764", 
  "1536X714C1056X372T4242", 
  "1280X881C848X232T1717", 
  "1536X746CST15359", 
  "1536X714C958X37T10555", 
  "1366X657C564X232-C498X405T16292", 
  "1024X625C453X202T3585", 
  "1087X764CST3934", 
  "1920X977CST13706", 
  "1536X757CST14733", 
  "1366X598CST19935", 
  "1280X609CST34800", 
  "1280X881CST2455", 
  "1366X657CST4580", 
  "1867X1074C604X291T7149", 
  "1366X625C515X301-CST11297", 
  "1280X881CST5772", 
  "1280X657C235X29T32475", 
  "1016X625CST21373", 
  "1920X955CST18130", 
  "1339X636C731X109-CST26123", 
  "1684X811C290X211T26304", 
  "1536X792C1013X225T65372", 
  "1366X625C606X257T2688", 
  "1366X635CST14027", 
  "1920X937CST19431", 
  "1536X792CST7311", 
  "2560X937CST1905", 
  "1536X721CST7820", 
  "1224X653CST3053", 
  "1920X937C834X209-C779X231T10271", 
  "1495X723CST29760", 
  "1360X635C887X162T2239", 
  "1920X928C219X215T4699", 
  "1600X757CST47341", 
  "1366X695C673X329T5690", 
  "1366X625CST2017", 
  "1024X625C457X207T2918", 
  "1366X657CST3938", 
  "1440X781C534X244T7308", 
  "1264X604C651X307T3365", 
  "1920X969CST13088", 
  "1440X700CST4249", 
  "1366X657C144X46T4437", 
  "1280X881C764X400T1864", 
  "1366X625CST26226", 
  "980X1591CST37185", 
  "1158X508CST12361", 
  "1439X690C769X28T2658", 
  "1280X881C681X268T1661", 
  "1280X657C453X141T7858", 
  "817X647CST6697", 
  "1024X1235CST3645", 
  "1440X694C601X204-CST27724-CST46489", 
  "1366X657C249X210T4198", 
  "1536X746CST16176", 
  "1745X852CST4847", 
  "1600X757C623X200T5363", 
  "1219X618C29X264-CST24532", 
  "1600X789C120X228-CST386327", 
  "1366X625CST8157", 
  "1536X722CST6783", 
  "980X1363CST18559", 
  "980X1472CST5587", 
  "1707X837CST14991", 
  "1366X649CST4573", 
  "1263X908CST9548", 
  "1280X569CST20206", 
  "1919X975C847X265T11917", 
  "1366X649CST5912", 
  "1366X657C65X295-CST117341", 
  "1280X881CST4876", 
  "1392X638CST21968", 
  "1366X625C594X268-CST24536", 
  "1280X881C715X492T12109", 
  "1536X722C764X329T7632", 
  "980X1710CST21593", 
  "980X1707CST9048", 
  "1440X757C595X108T14745", 
  "1304X665CST14941", 
  "1440X731CST7188", 
  "1280X609C32X271T8223", 
  "1920X937CST3950", 
  "A7RKQ3Y9C0PNN", 
  "1920X1007CST11785", 
  "1366X657C526X341-CST37995", 
  "980X1557CST20258", 
  "1920X1057CST11995", 
  "1280X577CST15715",
  "1154X510CST31879", 
  "1366X617CST16767", 
  "1680X907C113X216-C664X257-C813X31T25902", 
  "1364X625CST5199", 
  "1024X615C449X199T23578", 
  "1484X891C59X84T23047", 
  "1536X754C735X218T2411", 
  "1366X657CST22249", 
  "1088X867C446X257T2929", 
  "1364X657C159X215-C522X263-C565X212T9255", 
  "1920X969CST12577", 
  "1280X569CST20317", 
  "1600X757C828X210T2150", 
  "1920X880CST25724", 
  "1292X863CST8485", 
  "1536X714C665X366T6217", 
  "1600X757C809X210T8134", 
  "1366X625C826X135T2979", 
  "1366X657CST28590", 
  "1366X649CST27334", 
  "1418X664CST33802", 
  "1366X625C578X397T4285", 
  "1366X635C861X486T1298", 
  "1192X938CST15389", 
  "1366X615C188X208T122406", 
  "1536X696C1288X206T5208", 
  "1366X657C179X214-CST61307", 
  "1366X657CST17830", 
  "1366X625C609X225T1734", 
  "1680X925CST3364", 
  "1366X625CST41291", 
  "1366X695CST31044", 
  "1300X612CST3089", 
  "1024X625C881X83T33990", 
  "1440X788CST23559", 
  "1280X657C564X203T3196", 
  "1346X610C412X217T32332", 
  "1536X746CST26403", 
  "1366X657C149X216T17117", 
  "1920X941CST16345", 
  "980X1708CST10981", 
  "1334X860CST12689", 
  "1308X699CST9192", 
  "1600X757C722X202T2704", 
  "1214X594CST2629", 
  "2560X1307CST5294", 
  "1280X657C714X130T2711", 
  "1366X625C500X398T6949", 
  "1366X657C508X409-CST29546", 
  "1536X746CST26418", 
  "1366X657CST18515", 
  "1366X625C618X204T2616", 
  "1382X887C753X328T2181", 
  "1280X881CST5791", 
  "1242X730CST2482", 
  "919X742CST3422", 
  "886X806CST4040", 
  "1280X609CST18075", 
  "1920X929CST28006", 
  "1390X721CST16028", 
  "980X1740CST41853", 
  "2560X1307C54X85T19790", 
  "1304X634C333X212-C342X219-C33X276-C70X288-C110X219-C447X267-C470X409T118706", 
  "1920X937CST4564", 
  "1112X697CST18487", 
  "1366X657C538X310-C599X331-C164X147-C613X334-C190X36-C538X83T53196", 
  "1536X754CST11668", 
  "1024X615C465X196T13687", 
  "1364X625C493X405T5197", 
  "980x1809cst4637", 
  "1536X746CST10948", 
  "980x1768cst38366", 
  "1280X881C184X416T2059", 
  "1440X757CST11866", 
  "1536X722CST3529", 
  "1401X934CST6893", 
  "1249X599C730X208T7767", 
  "1366X625CST25500", 
  "1440X727CST5854", 
  "1366X625C609X122T2265", 
  "1366X625C560X208-CST19919-CST33098", 
  "1364X625CST4392", 
  "1920X937C484X272T9925", 
  "1100X625CST14887", 
  "1536X746CST14657", 
  "1366X705CST31874", 
  "1366X625C615X224T3542", 
  "1366X625C1365X470T9228", 
  "1920X947C814X263T4858", 
  "90X1797C558X246T4988", 
  "1366X625CST5869", 
  "1536X760CST11764", 
  "1024X617C465X239T4039", 
  "1920X947CST6410", 
  "1366X657CST6741", 
  "1880X939C930X356T1602", 
  "1366X657CST4524", 
  "1242X597C643X40T7222", 
  "1366X625CST3198", 
  "1920X937CST7074", 
  "1536X714C753X254T4933", 
  "1530X734CST20762", 
  "1364X625CST5792", 
  "1111X693CST4024", 
  "1313X576C39X272T4434", 
  "1536X746CST3423", 
  "1364X657C517X406T3197", 
  "1280X881C840X698T15640", 
  "1920X969C857X509-C879X329-C1089X204-C991X234T39100", 
  "1092X474C627X129T24328", 
  "1680X907C837X329T9779", 
  "1920X937C843X320T9141", 
  "1280X881C60X204-C814X59T13367", 
  "1367X618C68X214T10637", 
  "1366X617C145X195T1930", 
  "1176X553C469X204T3227", 
  "1366X617CST20467", 
  "1440X795C755X28T6927", 
  "1366X625C958X359T5280", 
  "1339X779CST4736", 
  "1366X657C576X341T2867", 
  "1366X625CST5895", 
  "1600X749CST28145", 
  "1366X625CST10654", 
  "1440X797CST16997", 
  "1264X572C931X187T3797", 
  "1280X818CST8550", 
  "1366X625CST2706", 
  "1350X607C421X370T7568", 
  "1279X617CST66835", 
  "1280X616CST1016", 
  "1536X714CST20942", 
  "1440X764CST4848", 
  "1280X881C463X407-C481X389-CST21430-C457X410-CST27460", 
  "1536X714C679X326T11541", 
  "1920X969C715X296T1091", 
  "1264X556C730X322T2390", 
  "1536X714C708X256T4265", 
  "1216X562CST4906", 
  "1920X969CST12572", 
  "1360X643CST35054", 
  "1366X657C674X51T2355", 
  "1242X568C532X34T8369", 
  "1280X657C583X293T1181", 
  "1264X572C932X225T1922", 
  "1920X937C784X402T41600", 
  "1366X625C522X264T5049", 
  "1536X722CST20089", 
  "1366X625C1350X55T3715", 
  "1153X746CST4380", 
  "1920X929CST11688", 
  "1600X749C712X403T9808", 
  "1280X881C817X47T10716", 
  "1366X625CST13033", 
  "1690X900CST1632", 
  "1366X657C505X400T11467", 
  "1280X648CST4519", 
  "1280X881C526X359T23194", 
  "1280X881CST8052", 
  "1366X625CST2757", 
  "1920X969C874X129-CST47602-CST53073", 
  "1094X474C398X386-CST80467", 
  "1280X601CST3080", 
  "1242X547CST12050", 
  "980X1667CST6082", 
  "960X930CST13328", 
  "1280X657C795X325T2188", 
  "1536X714CST25812", 
  "1396X634CST9666", 
  "1600X757C823X207T2886", 
  "1348X604CST16364", 
  "1920X979C327X219-C37X272T18840", 
  "1440X825C833X334T125436", 
  "1366X617C530X332-CST13852", 
  "1536X714CST7025", 
  "1536X746CST5931", 
  "1536X714CST15317", 
  "1366X625C559X214T7214", 
  "1366X625C62X217T3085", 
  "1366X643CST5171", 
  "1366X625C720X86T1621", 
  "1536X760CST11703", 
  "1280X607CST1647", 
  "1403X692CST6521", 
  "1536X714CST1193", 
  "1600X757C828X214T3142", 
  "958X999C1446X53-CST24933", 
  "1440X789C849X392T7450", 
  "1366X625CST15113", 
  "1280X881CST19638", 
  "1366X657CST5994", 
  "1366X657CST16377", 
  "1368X769CST8768", 
  "1366X617CST13646", 
  "1280X881CST6815", 
  "1366X635C719X212-C504X409-C509X397-CST120700", 
  "1056X959CST13536", 
  "1536X753CST4122", 
  "1920X969C1389X653-C909X521-C922X357T29038", 
  "1366X625C642X335T19958", 
  "1920X947C544X247T1864", 
  "1366X625C546X225T4709", 
  "1366X625C282X398", 
  "1920X969CST2847", 
  "1360X625CST3691", 
  "1153X823CST4706", 
  "1536X722CST2156", 
  "980X1752C144X198T10146", 
  "1280X881C569X207T6465", 
  "1327X576c240X215-587263T26081", 
  "1367X618C606X262T7016", 
  "1440X742CST11223", 
  "980X1743CST1412", 
  "1366X643C578X265T3424", 
  "1536X746C587X412T2991", 
  "1280X881CST3386", 
  "1364X625C38X183T17865", 
  "1680X907C690X232T21539", 
  "1280X881C280X223T4115", 
  "1366X625CST41203", 
  "1366X625C694X129T2353", 
  "1496X746CST6820-C640X47-CST95412", 
  "1366X665CST15073", 
  "974X435CST15092", 
  "1420X763CST9853", 
  "1280X881C448X215T2050", 
  "980X1695C482X307-CST85880-CST114064", 
  "1366X625C611X211T3234", 
  "1680X899CST20105", 
  "2176X1037CST5304", 
  "1364X657CST23724", 
  "1366X663CST6396", 
  "980X1690CST4436-CST6565", 
  "1366X625C734X131T2389", 
  "1065X539CST3403", 
  "1366X617CST16714", 
  "1920X929C108X626T4358", 
  "1022X1037C368X361T6660", 
  "1334X646C634X42-CST19210", 
  "1300X612CST5656-CST9956-CST24841", 
  "1440X788CST15688", 
  "1536X761CST7417", 
  "1536X722C636X520T6729", 
  "1111X718CST5807", 
  "1280X881C544X261T7291", 
  "1300X580CST7631", 
  "1920X937C784X401T2200", 
  "1280X577CST15461", 
  "1366X625CST5151", 
  "1440X821CST33585", 
  "1440X733CST1848", 
  "1366X625CST7679", 
  "1280X881C505X215T8338", 
  "1366X695CST26430", 
  "1920X919C780X397-CST12771", 
  "1600X757C723X209T4421", 
  "3440X1297C1708X332T10419", 
  "1536X758CST3073", 
  "1536X722C763X336T27135", 
  "1280X885C448X259T10523", 
  "1366X625C979X104T5892", 
  "1536X754CST3303", 
  "1920X937C782X408T3635", 
  "1280X881C31X294T7502", 
  "1280X657C647X32T2419", 
  "980X1720CST17595", 
  "1397X948CST3203", 
  "1920X975CST24160", 
  "1360X657C56X89T19847", 
  "1344X582C461X233-C638X390-C1071X565-CST165971"
]

const processedData = rawData.map((raw) => {
  const time = raw.toLowerCase().split('t');
  const res = time[0].split('c')[0].split('x');
  const click = time[0].split('c')[1].split('x');

  const x = res[0];
  const y = res[1];

  const isSuccess = raw.includes("CST") && raw.split('-').length < 2;

  return {
    raw,
    // CST is present and where they tried more than once counts as a success
    isSuccess,
    res: {
      x,
      y
    },
    click: isSuccess ?
    null : {
      x: click[0] ? Math.round((100 * click[0].replace("-", "")) / x) + '%' : null,
      y: click[1] ? Math.round((100 * click[1].replace("-", "")) / y) + '%' : null
    },
    s: time[1] ? time[1].replace("-cs", "") / 1000 : null
  }
})
  .filter((data) => data.res.x > 1900)
  .filter((data) => data.isSuccess);

const average = processedData.map((data) => data.s)
  .reduce((a, b) => a + b) / processedData.length;

console.log(average);

const successfulData = processedData.filter((data) => data.isSuccess);
const successCount = successfulData.length;

const failureData = processedData.filter((data) => !successfulData.includes(data))
const failureCount = failureData.length;

processedData.forEach(data => {
  if (!data.click) return;
  var el = document.createElement("div");
  el.style.top = data.click.y;
  el.style.left = data.click.x;
  el.className = 'heatmap';
  document.body.appendChild(el);
});

console.log(processedData);
console.log('Total' + processedData.length, 'Successful' + successCount, 'Percent Correct' + Math.round((100 * successCount) / processedData.length) + '%', 'Failure Count' + failureCount);